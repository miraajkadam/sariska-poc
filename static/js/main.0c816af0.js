/*! For license information please see main.0c816af0.js.LICENSE.txt */
(function(){var __webpack_modules__={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,_);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,_);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,_);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,L=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function H(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case D:return"Fragment";case S:return"Portal";case C:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,De=null,we=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Te(e){De?we?we.push(e):we=[e]:De=e}function Ae(){if(De){var e=De,t=we;if(we=De=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function ke(e,t){return e(t)}function Oe(){}var Re=!1;function Me(e,t,n){if(Re)return e(t,n);Re=!0;try{return ke(e,t,n)}finally{Re=!1,(null!==De||null!==we)&&(Oe(),Ae())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(le){Pe=!1}function xe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Le=null,je=!1,Be=null,Ue={onError:function(e){Fe=!0,Le=e}};function He(e,t,n,r,i,o,a,s,u){Fe=!1,Le=null,xe.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function Je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Dt,wt,Ct,Tt=!1,At=[],kt=null,Ot=null,Rt=null,Mt=new Map,It=new Map,Pt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=_i(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Dt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==kt&&jt(kt)&&(kt=null),null!==Ot&&jt(Ot)&&(Ot=null),null!==Rt&&jt(Rt)&&(Rt=null),Mt.forEach(Bt),It.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Ht(t,e)}if(0<At.length){Ht(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ht(kt,e),null!==Ot&&Ht(Ot,e),null!==Rt&&Ht(Rt,e),Mt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=y.ReactCurrentBatchConfig,Gt=!0;function Jt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function zt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),xt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Ft(kt,e,t,n,r,i),!0;case"dragenter":return Ot=Ft(Ot,e,t,n,r,i),!0;case"mouseover":return Rt=Ft(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Ft(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ft(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(xt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=$t(e,t,n,r))&&Gr(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function $t(e,t,n,r){if(Wt=null,null!==(e=_i(e=Ee(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=L({},cn,{view:0,detail:0}),fn=on(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),mn=on(L({},hn,{dataTransfer:0})),vn=on(L({},dn,{relatedTarget:0})),gn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(_n),yn=on(L({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Cn(){return wn}var Tn=L({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(Tn),kn=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Mn),Pn=[9,13,27,32],Nn=l&&"CompositionEvent"in window,xn=null;l&&"documentMode"in document&&(xn=document.documentMode);var Fn=l&&"TextEvent"in window&&!xn,Ln=l&&(!Nn||xn&&8<xn&&11>=xn),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Jn(e,t,n,r){Te(r),0<(t=zr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Kn=null;function Wn(e){jr(e,0)}function $n(e){if(K(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Qn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Kn=zn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Jn(t,Kn,e,Ee(e)),Me(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,_r=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==W(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&ur(_r,r)||(_r=r,0<(r=zr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Dr={},wr={};function Cr(e){if(Dr[e])return Dr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Dr[e]=n[t];return e}l&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Cr("animationend"),Ar=Cr("animationiteration"),kr=Cr("animationstart"),Or=Cr("transitionend"),Rr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Rr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Mr.length;Pr++){var Nr=Mr[Pr];Ir(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ir(Tr,"onAnimationEnd"),Ir(Ar,"onAnimationIteration"),Ir(kr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(He.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var l=Le;Fe=!1,Le=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Hr]){e[Hr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Jt;break;case 4:i=zt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=_i(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=Ee(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tr:case Ar:case kr:u=gn;break;case Or:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ie(p,f))&&l.push(Jr(p,m,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!_i(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?_i(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:yi(u),h=null==c?s:yi(c),(s=new l(m,p+"leave",u,n,i)).target=d,s.relatedTarget=h,m=null,_i(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=h,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(f=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,m=f;m;m=Kr(m))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==u&&Wr(a,s,u,l,!1),null!==c&&null!==d&&Wr(a,d,c,l,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Gn(s))if(Xn)v=ar;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Jn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?yi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,_r=null);break;case"focusout":_r=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":yr(a,n,i)}var _;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(_=en()):(Qt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(g=zr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:g}),_?b.data=_:null!==(_=Hn(n))&&(b.data=_))),(_=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Zt=Qt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=_))}jr(a,t)}))}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Jr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Jr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ie(n,o))&&a.unshift(Jr(n,u,s)):i||null!=(u=Ie(n,o))&&a.push(Jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,gi="__reactHandles$"+di;function _i(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[hi]||null}var Si=[],Di=-1;function wi(e){return{current:e}}function Ci(e){0>Di||(e.current=Si[Di],Si[Di]=null,Di--)}function Ti(e,t){Di++,Si[Di]=e.current,e.current=t}var Ai={},ki=wi(Ai),Oi=wi(!1),Ri=Ai;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Oi),Ci(ki)}function Ni(e,t,n){if(ki.current!==Ai)throw Error(o(168));Ti(ki,t),Ti(Oi,n)}function xi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ri=ki.current,Ti(ki,e),Ti(Oi,Oi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Oi),Ci(ki),Ti(ki,e)):Ci(Oi),Ti(Oi,n)}var ji=null,Bi=!1,Ui=!1;function Hi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Gi=0,Ji=null,zi=0,Ki=[],Wi=0,$i=null,Yi=1,Xi="";function Qi(e,t){qi[Gi++]=zi,qi[Gi++]=Ji,Ji=e,zi=t}function Zi(e,t,n){Ki[Wi++]=Yi,Ki[Wi++]=Xi,Ki[Wi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function to(e){for(;e===Ji;)Ji=qi[--Gi],qi[Gi]=null,zi=qi[--Gi],qi[Gi]=null;for(;e===$i;)$i=Ki[--Wi],Ki[Wi]=null,Xi=Ki[--Wi],Ki[Wi]=null,Yi=Ki[--Wi],Ki[Wi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=y.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _o=wi(null),bo=null,yo=null,Eo=null;function So(){Eo=yo=bo=null}function Do(e){var t=_o.current;Ci(_o),e._currentValue=t}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,Eo=yo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===yo){if(null===bo)throw Error(o(308));yo=e,bo.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var Ao=null;function ko(e){null===Ao?Ao=[e]:Ao.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=d):l=l.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=No(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xo(e,o,i))&&(rc(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=No(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xo(e,o,i))&&(rc(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=No(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=xo(e,i,r))&&(rc(t,e,r,n),Fo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=Ai,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ii(t)?Ri:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ai),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function zo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ii(t)?Ri:ki.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===D?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&$o(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||x(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Wo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||x(n))return null!==i?null:d(e,t,n,r,null);Wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||x(r))return d(t,e=e.get(n)||null,r,i,null);Wo(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),io&&Qi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(o=a(d,o,m),null===l?c=d:l.sibling=d,l=d);return io&&Qi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,m),c}function v(i,s,u,c){var l=x(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,m=s,v=s=0,g=null,_=u.next();null!==m&&!_.done;v++,_=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(i,m,_.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(_.done)return n(i,m),io&&Qi(i,v),l;if(null===m){for(;!_.done;v++,_=u.next())null!==(_=f(i,_.value,c))&&(s=a(_,s,v),null===d?l=_:d.sibling=_,d=_);return io&&Qi(i,v),l}for(m=r(i,m);!_.done;v++,_=u.next())null!==(_=p(m,i,v,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?v:_.key),s=a(_,s,v),null===d?l=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(i,e)})),io&&Qi(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===D&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===D){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Ko(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===D?((o=Fc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=xc(a.type,a.key,a.props,null,r.mode,u)).ref=Ko(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,u)).return=r,r=o}return s(r);case I:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return m(r,o,a,u);if(x(a))return v(r,o,a,u);Wo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Qo=Yo(!1),Zo={},ea=wi(Zo),ta=wi(Zo),na=wi(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ti(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=wi(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=y.ReactCurrentDispatcher,ha=y.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ga=null,_a=!1,ba=!1,ya=0,Ea=0;function Sa(){throw Error(o(321))}function Da(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,ya=0,25<=a)throw Error(o(301));a+=1,ga=va=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==va&&null!==va.next,pa=0,ga=va=ma=null,_a=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==ya;return ya=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Aa(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function ka(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var d=l.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ma.lanes|=d,Lu|=d}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Ia(e,t){var n=ma,r=Aa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ys=!0),r=r.queue,Ga(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ba(9,Na.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(o(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&La(e)}function xa(e,t,n){return n((function(){Fa(t)&&La(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ro(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Aa().memoizedState}function Ha(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Aa();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Da(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function qa(e,t){return Ha(8390656,8,e,t)}function Ga(e,t){return Va(2048,8,e,t)}function Ja(e,t){return Va(4,2,e,t)}function za(e,t){return Va(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ka.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Lu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Aa().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Oo(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,ko(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var as={readContext:To,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:$a,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Za.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ru)throw Error(o(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(xa.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Ru.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:To,useCallback:Ya,useContext:To,useEffect:Ga,useImperativeHandle:Wa,useInsertionEffect:Ja,useLayoutEffect:za,useMemo:Xa,useReducer:Oa,useRef:Ua,useState:function(){return Oa(ka)},useDebugValue:$a,useDeferredValue:function(e){return Qa(Aa(),va.memoizedState,e)},useTransition:function(){return[Oa(ka)[0],Aa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Ya,useContext:To,useEffect:Ga,useImperativeHandle:Wa,useInsertionEffect:Ja,useLayoutEffect:za,useMemo:Xa,useReducer:Ra,useRef:Ua,useState:function(){return Ra(ka)},useDebugValue:$a,useDeferredValue:function(e){var t=Aa();return null===va?t.memoizedState=e:Qa(t,va.memoizedState,e)},useTransition:function(){return[Ra(ka)[0],Aa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=No(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ju||(Ju=!0,zu=r),fs(0,t)},n}function ms(e,t,n){(n=No(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _s(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=No(-1,1)).tag=2,xo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=y.ReactCurrentOwner,ys=!1;function Es(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=wa(e,t,n,r,o,i),n=Ca(),null===e||ys?(io&&n&&eo(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Js(e,t,i))}function Ds(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ws(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Js(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Js(e,t,i);0!==(131072&e.flags)&&(ys=!0)}}return As(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nu,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nu,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Nu,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Nu,Pu),Pu|=r;return Es(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var o=Ii(n)?Ri:ki.current;return o=Mi(t,o),Co(t,i),n=wa(e,t,n,r,o,i),r=Ca(),null===e||ys?(io&&r&&eo(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Js(e,t,i))}function ks(e,t,n,r,i){if(Ii(n)){var o=!0;Fi(t)}else o=!1;if(Co(t,i),null===t.stateNode)Gs(e,t),Go(t,n,r),zo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Mi(t,c=Ii(n)?Ri:ki.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Jo(t,a,r,c),Mo=!1;var f=t.memoizedState;a.state=f,jo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Oi.current||Mo?("function"===typeof l&&(Ho(t,n,l,r),u=t.memoizedState),(s=Mo||qo(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=Mi(t,u=Ii(n)?Ri:ki.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&Jo(t,a,r,u),Mo=!1,f=t.memoizedState,a.state=f,jo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Oi.current||Mo?("function"===typeof h&&(Ho(t,n,h,r),p=t.memoizedState),(c=Mo||qo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Js(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):Es(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return po(),mo(i),t.flags|=256,Es(e,t,n,r),t.child}var Is,Ps,Ns,xs,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Fc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Fs,e):Bs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Fc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Fs,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ys||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(e,i),rc(r,e,i,-1))}return vc(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Wi++]=Yi,Ki[Wi++]=Xi,Ki[Wi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Fc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ci(Oi),Ci(ki),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ps(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<xr.length;i++)Br(xr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var u in _e(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":z(r),Z(r,a,!0);break;case"textarea":z(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<xr.length;i++)Br(xr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in _e(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Br("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":z(e),Z(e,r,!1);break;case"textarea":z(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)xs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===xu&&(xu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Ps(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return Do(t.type._context),Ks(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)zs(a,!1);else{if(0!==xu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,zs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qu&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(t),null}else 2*Xe()-a.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,Ti(ua,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Oi),Ci(ki),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return Do(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in _e(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},xs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var du=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=du,i=fu;du=null,hu(e,t,n),fu=i,null!==(du=r)&&(fu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(e=du,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(du,n.stateNode));break;case 4:r=du,i=fu,du=n.stateNode.containerInfo,fu=!0,hu(e,t,n),du=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(o(160));pu(a,s,i),du=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),_u(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){Cc(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Cc(e,e.return,v)}}break;case 1:vu(t,e),_u(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),_u(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Cc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,l)}switch(u){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(v){Cc(e,e.return,v)}}break;case 6:if(vu(t,e),_u(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Cc(e,e.return,v)}}break;case 3:if(vu(t,e),_u(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Cc(e,e.return,v)}break;case 4:default:vu(t,e),_u(e);break;case 13:vu(t,e),_u(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Xe())),4&r&&mu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||d,vu(t,e),Xs=l):vu(t,e),_u(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Cc(r,n,v)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){Su(f);continue}}null!==p?(p.return=h,Zs=p):Su(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(v){Cc(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Cc(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),_u(e),4&r&&mu(e);case 21:}}function _u(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,yu(e,t,n)}function yu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Du(i):null!==u?(u.return=a,Zs=u):Du(i);for(;null!==o;)Zs=o,yu(o,t,n),o=o.sibling;Zs=i,Ys=s,Xs=c}Eu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):Eu(e)}}function Eu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ou(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Du(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Cc(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Cc(t,a,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var wu,Cu=Math.ceil,Tu=y.ReactCurrentDispatcher,Au=y.ReactCurrentOwner,ku=y.ReactCurrentBatchConfig,Ou=0,Ru=null,Mu=null,Iu=0,Pu=0,Nu=wi(0),xu=0,Fu=null,Lu=0,ju=0,Bu=0,Uu=null,Hu=null,Vu=0,qu=1/0,Gu=null,Ju=!1,zu=null,Ku=null,Wu=!1,$u=null,Yu=0,Xu=0,Qu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Ou)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Iu?Iu&-Iu:null!==vo.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Qu=null,Error(o(185));gt(e,n,r),0!==(2&Ou)&&e===Ru||(e===Ru&&(0===(2&Ou)&&(ju|=n),4===xu&&uc(e,Iu)),ic(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(qu=Xe()+500,Bi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ru?Iu:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Bi=!0,Hi(e)}(cc.bind(null,e)):Hi(cc.bind(null,e)),ai((function(){0===(6&Ou)&&Vi()})),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Ou))throw Error(o(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ru?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ou;Ou|=2;var a=mc();for(Ru===e&&Iu===t||(Gu=null,qu=Xe()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}So(),Tu.current=a,Ou=i,null!==Mu?t=0:(Ru=null,Iu=0,t=xu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Fu,hc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Fu,hc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Hu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Hu,Gu),t);break}Sc(e,Hu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Hu,Gu),r);break}Sc(e,Hu,Gu);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Hu,Hu=n,null!==t&&sc(t)),e}function sc(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function uc(e,t){for(t&=~Bu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ou))throw Error(o(327));Dc();var t=ft(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fu,hc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Hu,Gu),ic(e,Xe()),null}function lc(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(qu=Xe()+500,Bi&&Vi())}}function dc(e){null!==$u&&0===$u.tag&&0===(6&Ou)&&Dc();var t=Ou;Ou|=1;var n=ku.transition,r=bt;try{if(ku.transition=null,bt=1,e)return e()}finally{bt=r,ku.transition=n,0===(6&(Ou=t))&&Vi()}}function fc(){Pu=Nu.current,Ci(Nu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ci(Oi),Ci(ki),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:Do(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ru=e,Mu=e=Nc(e.current,null),Iu=Pu=t,xu=0,Fu=null,Bu=ju=Lu=0,Hu=Uu=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ao=null}return e}function pc(e,t){for(;;){var n=Mu;try{if(So(),fa.current=as,_a){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_a=!1}if(pa=0,ga=va=ma=null,ba=!1,ya=0,Au.current=null,null===n||null===n.return){xu=1,Fu=t,Mu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Iu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,_s(p,s,u,0,t),1&p.mode&&vs(a,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),_s(g,s,u,0,t),mo(ls(c,u));break e}}a=c=ls(c,u),4!==xu&&(xu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ps(0,c,t));break e;case 1:u=c;var _=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof _.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ms(a,u,t));break e}}a=a.return}while(null!==a)}Ec(n)}catch(y){t=y,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function mc(){var e=Tu.current;return Tu.current=as,null===e?as:e}function vc(){0!==xu&&3!==xu&&2!==xu||(xu=4),null===Ru||0===(268435455&Lu)&&0===(268435455&ju)||uc(Ru,Iu)}function gc(e,t){var n=Ou;Ou|=2;var r=mc();for(Ru===e&&Iu===t||(Gu=null,hc(e,t));;)try{_c();break}catch(i){pc(e,i)}if(So(),Ou=n,Tu.current=r,null!==Mu)throw Error(o(261));return Ru=null,Iu=0,xu}function _c(){for(;null!==Mu;)yc(Mu)}function bc(){for(;null!==Mu&&!$e();)yc(Mu)}function yc(e){var t=wu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?Ec(e):Mu=t,Au.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Pu)))return void(Mu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Mu=n);if(null===e)return xu=6,void(Mu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===xu&&(xu=5)}function Sc(e,t,n){var r=bt,i=ku.transition;try{ku.transition=null,bt=1,function(e,t,n,r){do{Dc()}while(null!==$u);if(0!==(6&Ou))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ru&&(Mu=Ru=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Rc(tt,(function(){return Dc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ku.transition,ku.transition=null;var s=bt;bt=1;var u=Ou;Ou|=4,Au.current=null,function(e,t){if(ei=Gt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:go(t.type,v),g);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(o(163))}}catch(E){Cc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nu,nu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ye(),Ou=u,bt=s,ku.transition=a}else e.current=n;if(Wu&&(Wu=!1,$u=e,Yu=i),a=e.pendingLanes,0===a&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ju)throw Ju=!1,e=zu,zu=null,e;0!==(1&Yu)&&0!==e.tag&&Dc(),a=e.pendingLanes,0!==(1&a)?e===Qu?Xu++:(Xu=0,Qu=e):Xu=0,Vi()}(e,t,n,r)}finally{ku.transition=i,bt=r}return null}function Dc(){if(null!==$u){var e=yt(Yu),t=ku.transition,n=bt;try{if(ku.transition=null,bt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Ou))throw Error(o(331));var i=Ou;for(Ou|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:ru(8,d,a)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var h=(d=Zs).sibling,p=d.return;if(au(d),d===l){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var _=a.sibling;if(null!==_){_.return=a.return,Zs=_;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var y=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Zs=y;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(S){Cc(u,u.return,S)}if(u===s){Zs=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Zs=E;break e}Zs=u.return}}if(Ou=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,ku.transition=t}}return!1}function wc(e,t,n){e=xo(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=xo(t,e=ms(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Iu&n)===n&&(4===xu||3===xu&&(130023424&Iu)===Iu&&500>Xe()-Vu?hc(e,0):Bu|=n),ic(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ro(e,t))&&(gt(e,t,n),ic(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function Rc(e,t){return Ke(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Mc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case D:return Fc(n.children,i,a,t);case w:s=8,i|=8;break;case C:return(e=Ic(12,n,t,2|i)).elementType=C,e.lanes=a,e;case O:return(e=Ic(13,n,t,i)).elementType=O,e.lanes=a,e;case R:return(e=Ic(19,n,t,i)).elementType=R,e.lanes=a,e;case P:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case k:s=11;break e;case M:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Vc(e){if(!e)return Ai;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return xi(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,u){return(e=Hc(n,r,!0,e,0,o,0,s,u)).context=Vc(null),n=e.current,(o=No(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,xo(n,o,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=No(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=xo(i,t,a))&&(rc(e,i,a,o),Fo(e,i,a)),a}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),po();break;case 5:aa(t);break;case 1:Ii(t.type)&&Fi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(ua,1&ua.current),null!==(e=Js(e,t,n))?e.sibling:null);Ti(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Js(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,io&&0!==(1048576&t.flags)&&Zi(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Mi(t,ki.current);Co(t,n),i=wa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Io(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,zo(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===M)return 14}return 2}(r),e=go(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Ds(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Js(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=Js(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=No(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),wo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),wo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=To(i)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Ds(e,t,r,i=go(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Gs(e,t),t.tag=1,Ii(r)?(e=!0,Fi(t)):e=!1,Co(t,n),Go(t,r,i),zo(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Jc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Jc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Jc(u);s.call(e)}}var u=Hc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Jc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(_t(t,1|n),ic(t,Xe()),0===(6&Ou)&&(qu=Xe()+500,Vi()))}break;case 13:dc((function(){var t=Ro(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Dt=function(e){if(13===e.tag){var t=nc(e),n=Ro(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},wt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));K(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=lc,Oe=dc;var tl={usingClientEntryPoint:!1,Events:[bi,yi,Ei,Te,Ae,lc]},nl={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var y=b.prototype=new _;y.constructor=b,m(y,g.prototype),y.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,D={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:D.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+k(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var l=o+k(s=e[c],c);u+=O(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,l=o+k(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:D};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=D.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},807:function(module,__unused_webpack_exports,__webpack_require__){var _toArray=__webpack_require__(589).default,_asyncToGenerator=__webpack_require__(156).default,_get=__webpack_require__(588).default,_getPrototypeOf=__webpack_require__(808).default,_possibleConstructorReturn=__webpack_require__(993).default,_regeneratorRuntime=__webpack_require__(61).default,_defineProperty=__webpack_require__(416).default,_slicedToArray=__webpack_require__(424).default,_assertThisInitialized=__webpack_require__(115).default,_inherits=__webpack_require__(655).default,_createSuper=__webpack_require__(389).default,_classCallCheck=__webpack_require__(690).default,_createClass=__webpack_require__(728).default,_toConsumableArray=__webpack_require__(861).default,_createForOfIteratorHelper=__webpack_require__(704).default,t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="http://localhost:8081/",n(n.s=470)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return c}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"XMPPEvents",(function(){return r})),function(e){e.ADD_ICE_CANDIDATE_FAILED="xmpp.add_ice_candidate_failed",e.AUDIO_MUTED_BY_FOCUS="xmpp.audio_muted_by_focus",e.VIDEO_MUTED_BY_FOCUS="xmpp.video_muted_by_focus",e.AUTHENTICATION_REQUIRED="xmpp.authentication_required",e.BRIDGE_DOWN="xmpp.bridge_down",e.CALL_ACCEPTED="xmpp.callaccepted.jingle",e.CALL_INCOMING="xmpp.callincoming.jingle",e.CALL_ENDED="xmpp.callended.jingle",e.CHAT_ERROR_RECEIVED="xmpp.chat_error_received",e.SETTINGS_ERROR_RECEIVED="xmpp.settings_error_received",e.CONFERENCE_PROPERTIES_CHANGED="xmpp.conference_properties_changed",e.CONNECTION_ESTABLISHED="xmpp.connection.connected",e.CONNECTION_FAILED="xmpp.connection.failed",e.CONNECTION_INTERRUPTED="xmpp.connection.interrupted",e.CONNECTION_RESTORED="xmpp.connection.restored",e.CONNECTION_ICE_FAILED="xmpp.connection.ice.failed",e.CONNECTION_RESTARTED="xmpp.connection.restart",e.CONNECTION_STATUS_CHANGED="xmpp.connection.status.changed",e.DISPLAY_NAME_CHANGED="xmpp.display_name_changed",e.EMUC_ROOM_ADDED="xmpp.emuc_room_added",e.EMUC_ROOM_REMOVED="xmpp.emuc_room_removed",e.ETHERPAD="xmpp.etherpad",e.FOCUS_DISCONNECTED="xmpp.focus_disconnected",e.FOCUS_LEFT="xmpp.focus_left",e.GRACEFUL_SHUTDOWN="xmpp.graceful_shutdown",e.ICE_RESTARTING="rtc.ice_restarting",e.ICE_RESTART_SUCCESS="rtc.ice_restart_success",e.KICKED="xmpp.kicked",e.LOCAL_ROLE_CHANGED="xmpp.localrole_changed",e.MEETING_ID_SET="xmpp.meeting_id_set",e.MESSAGE_RECEIVED="xmpp.message_received",e.INVITE_MESSAGE_RECEIVED="xmpp.invite_message_received",e.PRIVATE_MESSAGE_RECEIVED="xmpp.private_message_received",e.MUC_MEMBER_BOT_TYPE_CHANGED="xmpp.muc_member_bot_type_changed",e.MUC_DESTROYED="xmpp.muc_destroyed",e.MUC_JOIN_IN_PROGRESS="xmpp.muc_join_in_progress",e.MUC_JOINED="xmpp.muc_joined",e.MUC_MEMBER_JOINED="xmpp.muc_member_joined",e.MUC_MEMBER_LEFT="xmpp.muc_member_left",e.MUC_LOBBY_MEMBER_JOINED="xmpp.muc_lobby_member_joined",e.MUC_LOBBY_MEMBER_UPDATED="xmpp.muc_lobby_member_updated",e.MUC_LOBBY_MEMBER_LEFT="xmpp.muc_lobby_member_left",e.MUC_DENIED_ACCESS="xmpp.muc_denied access",e.MUC_LEFT="xmpp.muc_left",e.MUC_ROLE_CHANGED="xmpp.muc_role_changed",e.MUC_LOCK_CHANGED="xmpp.muc_lock_changed",e.MUC_MEMBERS_ONLY_CHANGED="xmpp.muc_members_only_changed",e.PARTICIPANT_AUDIO_MUTED="xmpp.audio_muted",e.PARTICIPANT_VIDEO_MUTED="xmpp.video_muted",e.PARTICIPANT_VIDEO_TYPE_CHANGED="xmpp.video_type",e.PARTICIPANT_FEATURES_CHANGED="xmpp.participant_features_changed",e.PASSWORD_REQUIRED="xmpp.password_required",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PRESENCE_RECEIVED="xmpp.presence_received",e.PRESENCE_STATUS="xmpp.presence_status",e.PROMPT_FOR_LOGIN="xmpp.prompt_for_login",e.READY_TO_JOIN="xmpp.ready_to_join",e.RECORDER_STATE_CHANGED="xmpp.recorderStateChanged",e.REMOTE_STATS="xmpp.remote_stats",e.RENEGOTIATION_FAILED="xmpp.renegotiation_failed",e.RESERVATION_ERROR="xmpp.room_reservation_error",e.ROOM_CONNECT_ERROR="xmpp.room_connect_error",e.ROOM_CONNECT_NOT_ALLOWED_ERROR="xmpp.room_connect_error.not_allowed",e.ROOM_JOIN_ERROR="xmpp.room_join_error",e.ROOM_CONNECT_MEMBERS_ONLY_ERROR="xmpp.room_connect_error.members_only",e.ROOM_MAX_USERS_ERROR="xmpp.room_max_users_error",e.SENDING_CHAT_MESSAGE="xmpp.sending_chat_message",e.SENDING_PRIVATE_CHAT_MESSAGE="xmpp.sending_private_chat_message",e.SESSION_ACCEPT="xmpp.session_accept",e.SESSION_ACCEPT_ERROR="xmpp.session_accept_error",e.SESSION_ACCEPT_TIMEOUT="xmpp.session_accept_timeout",e.SOURCE_ADD="xmpp.source_add",e.SOURCE_ADD_ERROR="xmpp.source_add_error",e.SOURCE_REMOVE="xmpp.source_remove",e.SOURCE_REMOVE_ERROR="xmpp.source_remove_error",e.SPEAKER_STATS_RECEIVED="xmpp.speaker_stats_received",e.CONFERENCE_TIMESTAMP_RECEIVED="xmpp.conference_timestamp_received",e.AV_MODERATION_APPROVED="xmpp.av_moderation.approved",e.AV_MODERATION_REJECTED="xmpp.av_moderation.rejected",e.AV_MODERATION_RECEIVED="xmpp.av_moderation.received",e.AV_MODERATION_CHANGED="xmpp.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="xmpp.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="xmpp.av_moderation.participant.rejected",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="xmpp.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_EVENT="xmpp.breakout-rooms.event",e.BREAKOUT_ROOMS_UPDATED="xmpp.breakout-rooms.updated",e.START_MUTED_FROM_FOCUS="xmpp.start_muted_from_focus",e.SUBJECT_CHANGED="xmpp.subject_changed",e.SUSPEND_DETECTED="xmpp.suspend_detected",e.TRANSCRIPTION_STATUS_CHANGED="xmpp.transcription_status_changed",e.TRANSPORT_INFO="xmpp.transportinfo.jingle",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="xmpp.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="xmpp.videoSIPGWSessionStateChanged",e.ICE_CONNECTION_STATE_CHANGED="xmpp.ice_connection_state_changed",e.JSON_MESSAGE_RECEIVED="xmmp.json_message_received"}(r||(r={}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConferenceEvents",(function(){return r})),n.d(t,"AUDIO_INPUT_STATE_CHANGE",(function(){return i})),n.d(t,"AUDIO_UNMUTE_PERMISSIONS_CHANGED",(function(){return o})),n.d(t,"AUTH_STATUS_CHANGED",(function(){return a})),n.d(t,"BEFORE_STATISTICS_DISPOSED",(function(){return s})),n.d(t,"CONFERENCE_ERROR",(function(){return u})),n.d(t,"CONFERENCE_FAILED",(function(){return c})),n.d(t,"CONFERENCE_JOIN_IN_PROGRESS",(function(){return l})),n.d(t,"CONFERENCE_JOINED",(function(){return d})),n.d(t,"CONFERENCE_LEFT",(function(){return f})),n.d(t,"CONFERENCE_UNIQUE_ID_SET",(function(){return h})),n.d(t,"CONNECTION_ESTABLISHED",(function(){return p})),n.d(t,"CONNECTION_INTERRUPTED",(function(){return m})),n.d(t,"CONNECTION_RESTORED",(function(){return v})),n.d(t,"DATA_CHANNEL_OPENED",(function(){return g})),n.d(t,"DISPLAY_NAME_CHANGED",(function(){return _})),n.d(t,"DOMINANT_SPEAKER_CHANGED",(function(){return b})),n.d(t,"CONFERENCE_CREATED_TIMESTAMP",(function(){return y})),n.d(t,"DTMF_SUPPORT_CHANGED",(function(){return E})),n.d(t,"ENDPOINT_MESSAGE_RECEIVED",(function(){return S})),n.d(t,"ENDPOINT_STATS_RECEIVED",(function(){return D})),n.d(t,"JVB121_STATUS",(function(){return w})),n.d(t,"KICKED",(function(){return C})),n.d(t,"PARTICIPANT_KICKED",(function(){return T})),n.d(t,"LAST_N_ENDPOINTS_CHANGED",(function(){return A})),n.d(t,"FORWARDED_SOURCES_CHANGED",(function(){return k})),n.d(t,"LOCK_STATE_CHANGED",(function(){return O})),n.d(t,"SERVER_REGION_CHANGED",(function(){return R})),n.d(t,"_MEDIA_SESSION_STARTED",(function(){return M})),n.d(t,"_MEDIA_SESSION_ACTIVE_CHANGED",(function(){return I})),n.d(t,"MEMBERS_ONLY_CHANGED",(function(){return P})),n.d(t,"MESSAGE_RECEIVED",(function(){return N})),n.d(t,"NO_AUDIO_INPUT",(function(){return x})),n.d(t,"NOISY_MIC",(function(){return F})),n.d(t,"NON_PARTICIPANT_MESSAGE_RECEIVED",(function(){return L})),n.d(t,"PRIVATE_MESSAGE_RECEIVED",(function(){return j})),n.d(t,"PARTICIPANT_CONN_STATUS_CHANGED",(function(){return B})),n.d(t,"PARTCIPANT_FEATURES_CHANGED",(function(){return U})),n.d(t,"PARTICIPANT_PROPERTY_CHANGED",(function(){return H})),n.d(t,"P2P_STATUS",(function(){return V})),n.d(t,"PHONE_NUMBER_CHANGED",(function(){return q})),n.d(t,"PROPERTIES_CHANGED",(function(){return G})),n.d(t,"RECORDER_STATE_CHANGED",(function(){return J})),n.d(t,"VIDEO_SIP_GW_AVAILABILITY_CHANGED",(function(){return z})),n.d(t,"VIDEO_SIP_GW_SESSION_STATE_CHANGED",(function(){return K})),n.d(t,"START_MUTED_POLICY_CHANGED",(function(){return W})),n.d(t,"STARTED_MUTED",(function(){return $})),n.d(t,"SUBJECT_CHANGED",(function(){return Y})),n.d(t,"SUSPEND_DETECTED",(function(){return X})),n.d(t,"TALK_WHILE_MUTED",(function(){return Q})),n.d(t,"TRACK_ADDED",(function(){return Z})),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",(function(){return ee})),n.d(t,"TRACK_MUTE_CHANGED",(function(){return te})),n.d(t,"TRACK_REMOVED",(function(){return ne})),n.d(t,"TRACK_UNMUTE_REJECTED",(function(){return re})),n.d(t,"TRANSCRIPTION_STATUS_CHANGED",(function(){return ie})),n.d(t,"USER_JOINED",(function(){return oe})),n.d(t,"USER_LEFT",(function(){return ae})),n.d(t,"USER_ROLE_CHANGED",(function(){return se})),n.d(t,"USER_STATUS_CHANGED",(function(){return ue})),n.d(t,"VIDEO_UNMUTE_PERMISSIONS_CHANGED",(function(){return ce})),n.d(t,"BOT_TYPE_CHANGED",(function(){return le})),n.d(t,"LOBBY_USER_JOINED",(function(){return de})),n.d(t,"LOBBY_USER_UPDATED",(function(){return fe})),n.d(t,"LOBBY_USER_LEFT",(function(){return he})),n.d(t,"AV_MODERATION_APPROVED",(function(){return pe})),n.d(t,"AV_MODERATION_REJECTED",(function(){return me})),n.d(t,"AV_MODERATION_CHANGED",(function(){return ve})),n.d(t,"AV_MODERATION_PARTICIPANT_APPROVED",(function(){return ge})),n.d(t,"AV_MODERATION_PARTICIPANT_REJECTED",(function(){return _e})),n.d(t,"FACE_LANDMARK_ADDED",(function(){return be})),n.d(t,"BREAKOUT_ROOMS_MOVE_TO_ROOM",(function(){return ye})),n.d(t,"BREAKOUT_ROOMS_UPDATED",(function(){return Ee})),n.d(t,"SUBTITLES_RECEIVED",(function(){return Se})),n.d(t,"ANALYTICS_EVENT_RECEIVED",(function(){return De})),n.d(t,"TRACK_UPDATED",(function(){return we})),function(e){e.AUDIO_INPUT_STATE_CHANGE="conference.audio_input_state_changed",e.AUDIO_UNMUTE_PERMISSIONS_CHANGED="conference.audio_unmute_permissions_changed",e.AUTH_STATUS_CHANGED="conference.auth_status_changed",e.BEFORE_STATISTICS_DISPOSED="conference.beforeStatisticsDisposed",e.CONFERENCE_ERROR="conference.error",e.CONFERENCE_FAILED="conference.failed",e.CONFERENCE_JOIN_IN_PROGRESS="conference.join_in_progress",e.CONFERENCE_JOINED="conference.joined",e.CONFERENCE_LEFT="conference.left",e.CONFERENCE_UNIQUE_ID_SET="conference.unique_id_set",e.CONNECTION_ESTABLISHED="conference.connectionEstablished",e.CONNECTION_INTERRUPTED="conference.connectionInterrupted",e.CONNECTION_RESTORED="conference.connectionRestored",e.DATA_CHANNEL_OPENED="conference.dataChannelOpened",e.DISPLAY_NAME_CHANGED="conference.displayNameChanged",e.DOMINANT_SPEAKER_CHANGED="conference.dominantSpeaker",e.CONFERENCE_CREATED_TIMESTAMP="conference.createdTimestamp",e.DTMF_SUPPORT_CHANGED="conference.dtmfSupportChanged",e.ENDPOINT_MESSAGE_RECEIVED="conference.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="conference.endpoint_stats_received",e.JVB121_STATUS="conference.jvb121Status",e.KICKED="conference.kicked",e.PARTICIPANT_KICKED="conference.participant_kicked",e.LAST_N_ENDPOINTS_CHANGED="conference.lastNEndpointsChanged",e.FORWARDED_SOURCES_CHANGED="conference.forwardedSourcesChanged",e.LOCK_STATE_CHANGED="conference.lock_state_changed",e.SERVER_REGION_CHANGED="conference.server_region_changed",e._MEDIA_SESSION_STARTED="conference.media_session.started",e._MEDIA_SESSION_ACTIVE_CHANGED="conference.media_session.active_changed",e.MEMBERS_ONLY_CHANGED="conference.membersOnlyChanged",e.MESSAGE_RECEIVED="conference.messageReceived",e.NO_AUDIO_INPUT="conference.no_audio_input",e.NOISY_MIC="conference.noisy_mic",e.NON_PARTICIPANT_MESSAGE_RECEIVED="conference.non_participant_message_received",e.PRIVATE_MESSAGE_RECEIVED="conference.privateMessageReceived",e.PARTICIPANT_CONN_STATUS_CHANGED="conference.participant_conn_status_changed",e.PARTCIPANT_FEATURES_CHANGED="conference.partcipant_features_changed",e.PARTICIPANT_PROPERTY_CHANGED="conference.participant_property_changed",e.P2P_STATUS="conference.p2pStatus",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PROPERTIES_CHANGED="conference.propertiesChanged",e.RECORDER_STATE_CHANGED="conference.recorderStateChanged",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="conference.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="conference.videoSIPGWSessionStateChanged",e.START_MUTED_POLICY_CHANGED="conference.start_muted_policy_changed",e.STARTED_MUTED="conference.started_muted",e.SUBJECT_CHANGED="conference.subjectChanged",e.SUSPEND_DETECTED="conference.suspendDetected",e.TALK_WHILE_MUTED="conference.talk_while_muted",e.TRACK_ADDED="conference.trackAdded",e.TRACK_AUDIO_LEVEL_CHANGED="conference.audioLevelsChanged",e.TRACK_MUTE_CHANGED="conference.trackMuteChanged",e.TRACK_REMOVED="conference.trackRemoved",e.TRACK_UNMUTE_REJECTED="conference.trackUnmuteRejected",e.TRANSCRIPTION_STATUS_CHANGED="conference.transcriptionStatusChanged",e.USER_JOINED="conference.userJoined",e.USER_LEFT="conference.userLeft",e.USER_ROLE_CHANGED="conference.roleChanged",e.USER_STATUS_CHANGED="conference.statusChanged",e.VIDEO_UNMUTE_PERMISSIONS_CHANGED="conference.video_unmute_permissions_changed",e.BOT_TYPE_CHANGED="conference.bot_type_changed",e.LOBBY_USER_JOINED="conference.lobby.userJoined",e.LOBBY_USER_UPDATED="conference.lobby.userUpdated",e.LOBBY_USER_LEFT="conference.lobby.userLeft",e.AV_MODERATION_APPROVED="conference.av_moderation.approved",e.AV_MODERATION_REJECTED="conference.av_moderation.rejected",e.AV_MODERATION_CHANGED="conference.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="conference.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="conference.av_moderation.participant.rejected",e.FACE_LANDMARK_ADDED="conference.face_landmark.added",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="conference.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_UPDATED="conference.breakout-rooms.updated",e.SUBTITLES_RECEIVED="conference.subtitles.received",e.ANALYTICS_EVENT_RECEIVED="analytics.event.received",e.TRACK_UPDATED="conference.track.updated"}(r||(r={}));var i=r.AUDIO_INPUT_STATE_CHANGE,o=r.AUDIO_UNMUTE_PERMISSIONS_CHANGED,a=r.AUTH_STATUS_CHANGED,s=r.BEFORE_STATISTICS_DISPOSED,u=r.CONFERENCE_ERROR,c=r.CONFERENCE_FAILED,l=r.CONFERENCE_JOIN_IN_PROGRESS,d=r.CONFERENCE_JOINED,f=r.CONFERENCE_LEFT,h=r.CONFERENCE_UNIQUE_ID_SET,p=r.CONNECTION_ESTABLISHED,m=r.CONNECTION_INTERRUPTED,v=r.CONNECTION_RESTORED,g=r.DATA_CHANNEL_OPENED,_=r.DISPLAY_NAME_CHANGED,b=r.DOMINANT_SPEAKER_CHANGED,y=r.CONFERENCE_CREATED_TIMESTAMP,E=r.DTMF_SUPPORT_CHANGED,S=r.ENDPOINT_MESSAGE_RECEIVED,D=r.ENDPOINT_STATS_RECEIVED,w=r.JVB121_STATUS,C=r.KICKED,T=r.PARTICIPANT_KICKED,A=r.LAST_N_ENDPOINTS_CHANGED,k=r.FORWARDED_SOURCES_CHANGED,O=r.LOCK_STATE_CHANGED,R=r.SERVER_REGION_CHANGED,M=r._MEDIA_SESSION_STARTED,I=r._MEDIA_SESSION_ACTIVE_CHANGED,P=r.MEMBERS_ONLY_CHANGED,N=r.MESSAGE_RECEIVED,x=r.NO_AUDIO_INPUT,F=r.NOISY_MIC,L=r.NON_PARTICIPANT_MESSAGE_RECEIVED,j=r.PRIVATE_MESSAGE_RECEIVED,B=r.PARTICIPANT_CONN_STATUS_CHANGED,U=r.PARTCIPANT_FEATURES_CHANGED,H=r.PARTICIPANT_PROPERTY_CHANGED,V=r.P2P_STATUS,q=r.PHONE_NUMBER_CHANGED,G=r.PROPERTIES_CHANGED,J=r.RECORDER_STATE_CHANGED,z=r.VIDEO_SIP_GW_AVAILABILITY_CHANGED,K=r.VIDEO_SIP_GW_SESSION_STATE_CHANGED,W=r.START_MUTED_POLICY_CHANGED,$=r.STARTED_MUTED,Y=r.SUBJECT_CHANGED,X=r.SUSPEND_DETECTED,Q=r.TALK_WHILE_MUTED,Z=r.TRACK_ADDED,ee=r.TRACK_AUDIO_LEVEL_CHANGED,te=r.TRACK_MUTE_CHANGED,ne=r.TRACK_REMOVED,re=r.TRACK_UNMUTE_REJECTED,ie=r.TRANSCRIPTION_STATUS_CHANGED,oe=r.USER_JOINED,ae=r.USER_LEFT,se=r.USER_ROLE_CHANGED,ue=r.USER_STATUS_CHANGED,ce=r.VIDEO_UNMUTE_PERMISSIONS_CHANGED,le=r.BOT_TYPE_CHANGED,de=r.LOBBY_USER_JOINED,fe=r.LOBBY_USER_UPDATED,he=r.LOBBY_USER_LEFT,pe=r.AV_MODERATION_APPROVED,me=r.AV_MODERATION_REJECTED,ve=r.AV_MODERATION_CHANGED,ge=r.AV_MODERATION_PARTICIPANT_APPROVED,_e=r.AV_MODERATION_PARTICIPANT_REJECTED,be=r.FACE_LANDMARK_ADDED,ye=r.BREAKOUT_ROOMS_MOVE_TO_ROOM,Ee=r.BREAKOUT_ROOMS_UPDATED,Se=r.SUBTITLES_RECEIVED,De=r.ANALYTICS_EVENT_RECEIVED,we=r.TRACK_UPDATED},function(e,t,n){(function(t){var n;n=function(){"use strict";var e=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},i=function(e){if("string"!=typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},o=function(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(u=o)|s>>>32-u,n);var s,u},a=function(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)},s=function(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)},u=function(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)},c=function(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)},l=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,i,o,l,d=1732584193,f=-271733879,h=-1732584194,p=271733878,m=0;m<e.length;m+=16)n=d,i=f,o=h,l=p,d=a(d,f,h,p,e[m+0],7,-680876936),p=a(p,d,f,h,e[m+1],12,-389564586),h=a(h,p,d,f,e[m+2],17,606105819),f=a(f,h,p,d,e[m+3],22,-1044525330),d=a(d,f,h,p,e[m+4],7,-176418897),p=a(p,d,f,h,e[m+5],12,1200080426),h=a(h,p,d,f,e[m+6],17,-1473231341),f=a(f,h,p,d,e[m+7],22,-45705983),d=a(d,f,h,p,e[m+8],7,1770035416),p=a(p,d,f,h,e[m+9],12,-1958414417),h=a(h,p,d,f,e[m+10],17,-42063),f=a(f,h,p,d,e[m+11],22,-1990404162),d=a(d,f,h,p,e[m+12],7,1804603682),p=a(p,d,f,h,e[m+13],12,-40341101),h=a(h,p,d,f,e[m+14],17,-1502002290),f=a(f,h,p,d,e[m+15],22,1236535329),d=s(d,f,h,p,e[m+1],5,-165796510),p=s(p,d,f,h,e[m+6],9,-1069501632),h=s(h,p,d,f,e[m+11],14,643717713),f=s(f,h,p,d,e[m+0],20,-373897302),d=s(d,f,h,p,e[m+5],5,-701558691),p=s(p,d,f,h,e[m+10],9,38016083),h=s(h,p,d,f,e[m+15],14,-660478335),f=s(f,h,p,d,e[m+4],20,-405537848),d=s(d,f,h,p,e[m+9],5,568446438),p=s(p,d,f,h,e[m+14],9,-1019803690),h=s(h,p,d,f,e[m+3],14,-187363961),f=s(f,h,p,d,e[m+8],20,1163531501),d=s(d,f,h,p,e[m+13],5,-1444681467),p=s(p,d,f,h,e[m+2],9,-51403784),h=s(h,p,d,f,e[m+7],14,1735328473),f=s(f,h,p,d,e[m+12],20,-1926607734),d=u(d,f,h,p,e[m+5],4,-378558),p=u(p,d,f,h,e[m+8],11,-2022574463),h=u(h,p,d,f,e[m+11],16,1839030562),f=u(f,h,p,d,e[m+14],23,-35309556),d=u(d,f,h,p,e[m+1],4,-1530992060),p=u(p,d,f,h,e[m+4],11,1272893353),h=u(h,p,d,f,e[m+7],16,-155497632),f=u(f,h,p,d,e[m+10],23,-1094730640),d=u(d,f,h,p,e[m+13],4,681279174),p=u(p,d,f,h,e[m+0],11,-358537222),h=u(h,p,d,f,e[m+3],16,-722521979),f=u(f,h,p,d,e[m+6],23,76029189),d=u(d,f,h,p,e[m+9],4,-640364487),p=u(p,d,f,h,e[m+12],11,-421815835),h=u(h,p,d,f,e[m+15],16,530742520),f=u(f,h,p,d,e[m+2],23,-995338651),d=c(d,f,h,p,e[m+0],6,-198630844),p=c(p,d,f,h,e[m+7],10,1126891415),h=c(h,p,d,f,e[m+14],15,-1416354905),f=c(f,h,p,d,e[m+5],21,-57434055),d=c(d,f,h,p,e[m+12],6,1700485571),p=c(p,d,f,h,e[m+3],10,-1894986606),h=c(h,p,d,f,e[m+10],15,-1051523),f=c(f,h,p,d,e[m+1],21,-2054922799),d=c(d,f,h,p,e[m+8],6,1873313359),p=c(p,d,f,h,e[m+15],10,-30611744),h=c(h,p,d,f,e[m+6],15,-1560198380),f=c(f,h,p,d,e[m+13],21,1309151649),d=c(d,f,h,p,e[m+4],6,-145523070),p=c(p,d,f,h,e[m+11],10,-1120210379),h=c(h,p,d,f,e[m+2],15,718787259),f=c(f,h,p,d,e[m+9],21,-343485551),d=r(d,n),f=r(f,i),h=r(h,o),p=r(p,l);return[d,f,h,p]},d={hexdigest:function(e){return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t}(l(i(e),8*e.length))},hash:function(e){return function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(l(i(e),8*e.length))}};function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,i,o,a,s,u,c,l=new Array(80),d=1732584193,f=-271733879,m=-1732584194,_=271733878,b=-1009589776;for(n=0;n<e.length;n+=16){for(o=d,a=f,s=m,u=_,c=b,r=0;r<80;r++)l[r]=r<16?e[n+r]:g(l[r-3]^l[r-8]^l[r-14]^l[r-16],1),i=v(v(g(d,5),h(r,f,m,_)),v(v(b,l[r]),p(r))),b=_,_=m,m=g(f,30),f=d,d=i;d=v(d,o),f=v(f,a),m=v(m,s),_=v(_,u),b=v(b,c)}return[d,f,m,_,b]}function h(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function p(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function m(e,t){var n=_(e);n.length>16&&(n=f(n,8*e.length));for(var r=new Array(16),i=new Array(16),o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var a=f(r.concat(_(t)),512+8*t.length);return f(i.concat(a),672)}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e,t){return e<<t|e>>>32-t}function _(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function b(e){for(var t,n,r="",i=0;i<4*e.length;i+=3)for(t=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;n<4;n++)8*i+6*n>32*e.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return r}function y(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}var E={b64_hmac_sha1:function(e,t){return b(m(e,t))},b64_sha1:function(e){return b(f(_(e),8*e.length))},binb2str:y,core_hmac_sha1:m,str_hmac_sha1:function(e,t){return y(m(e,t))},str_sha1:function(e){return y(f(_(e),8*e.length))}},S=function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},D=function(e){for(var t in e=e||{})if(Object.prototype.hasOwnProperty.call(e,t)){var r="",i="",o="",a=e[t],s="object"===n(a),u=escape(unescape(s?a.value:a));s&&(r=a.expires?";expires="+a.expires:"",i=a.domain?";domain="+a.domain:"",o=a.path?";path="+a.path:""),document.cookie=t+"="+u+r+i+o}};function w(e,t){return new A.Builder(e,t)}function C(e){return new A.Builder("iq",e)}function T(e){return new A.Builder("presence",e)}var A={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<A.XHTML.tags.length;t++)if(e===A.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==A.XHTML.attributes[e]&&A.XHTML.attributes[e].length>0)for(var n=0;n<A.XHTML.attributes[e].length;n++)if(t===A.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<A.XHTML.css.length;t++)if(e===A.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){A.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType!==A.ElementType.NORMAL||t&&!this.isTagEqual(i,t)||n(i)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return A._xmlGenerator||(A._xmlGenerator=A._makeGenerator()),A._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(t){e=null}return e},xmlElement:function(e){if(!e)return null;for(var t=A.xmlGenerator().createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i)if("string"==typeof i||"number"==typeof i)t.appendChild(A.xmlTextNode(i));else if("object"===n(i)&&"function"==typeof i.sort)for(var o=0;o<i.length;o++){var a=i[o];"object"===n(a)&&"function"==typeof a.sort&&void 0!==a[1]&&null!==a[1]&&t.setAttribute(a[0],a[1])}else if("object"===n(i))for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&void 0!==i[s]&&null!==i[s]&&t.setAttribute(s,i[s])}return t},xmlescape:function(e){return(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return A.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===A.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===A.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return A.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===A.ElementType.NORMAL){t=A.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(A.copyElement(e.childNodes[r]))}else e.nodeType===A.ElementType.TEXT&&(t=A.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===A.ElementType.NORMAL){var r=e.nodeName.toLowerCase();if(A.XHTML.validTag(r))try{t=A.xmlElement(r);for(var i=0;i<A.XHTML.attributes[r].length;i++){var o=A.XHTML.attributes[r][i],a=e.getAttribute(o);if(null!=a&&""!==a&&!1!==a&&0!==a)if("style"===o&&"object"===n(a)&&void 0!==a.cssText&&(a=a.cssText),"style"===o){for(var s=[],u=a.split(";"),c=0;c<u.length;c++){var l=u[c].split(":"),d=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(A.XHTML.validCSS(d)){var f=l[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(d+": "+f)}}s.length>0&&(a=s.join("; "),t.setAttribute(o,a))}else t.setAttribute(o,a)}for(var h=0;h<e.childNodes.length;h++)t.appendChild(A.createHtml(e.childNodes[h]))}catch(e){t=A.xmlTextNode("")}else{t=A.xmlGenerator().createDocumentFragment();for(var p=0;p<e.childNodes.length;p++)t.appendChild(A.createHtml(e.childNodes[p]))}}else if(e.nodeType===A.ElementType.FRAGMENT){t=A.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)t.appendChild(A.createHtml(e.childNodes[m]))}else e.nodeType===A.ElementType.TEXT&&(t=A.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=A.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&A.fatal(e.stack),e.sourceURL?A.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?A.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):A.fatal("error: "+e.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"===n(window.console)&&"function"==typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Array(e.attributes.length).keys()).map((function(t){return e.attributes[t].nodeName}));t.sort();var n=t.reduce((function(t,n){return"".concat(t," ").concat(n,'="').concat(A.xmlescape(e.attributes.getNamedItem(n).value),'"')}),"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];switch(i.nodeType){case A.ElementType.NORMAL:n+=A.serialize(i);break;case A.ElementType.TEXT:n+=A.xmlescape(i.nodeValue);break;case A.ElementType.CDATA:n+="<![CDATA["+i.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){A._connectionPlugins[e]=t},Builder:function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=A.NS.CLIENT:t||(t={xmlns:A.NS.CLIENT})),this.nodeTree=A.xmlElement(e,t),this.node=this.nodeTree}};A.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return A.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=A.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(e){var t,n=A.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var r=t?n.importNode(e,!0):A.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=A.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=A.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},A.Handler=function(e,t,n,r,i,o,a){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=i,this.options=a||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(A.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?A.getBareJidFromJid(o):null:this.from=o,this.user=!0},A.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(A.forEachChild(e,null,(function(e){t.getNamespace(e)===t.ns&&(n=!0)})),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=A.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!A.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw A._handleError(e),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},A.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},A.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},A.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var r=this.options.protocol||"";for(var i in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new A.Websocket(this):this._proto=new A.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout((function(){return n._onIdle()}),100),D(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),A._connectionPlugins)if(Object.prototype.hasOwnProperty.call(A._connectionPlugins,i)){var o=function(){};o.prototype=A._connectionPlugins[i],this[i]=new o,this[i].init(this)}},A.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,r,i,o,a){this.jid=e,this.authzid=A.getBareJidFromJid(this.jid),this.authcid=a||A.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=A.getDomainFromJid(this.jid),this._changeConnectStatus(A.Status.CONNECTING,null),this._proto._connect(r,i,o)},attach:function(e,t,n,r,i,o,a){if(!(this._proto instanceof A.Bosh)){var s=new Error('The "attach" method can only be used with a BOSH connection.');throw s.name="StropheSessionError",s}this._proto._attach(e,t,n,r,i,o,a)},restore:function(e,t,n,r,i){if(!this._sessionCachingSupported()){var o=new Error('The "restore" method can only be used with a BOSH connection.');throw o.name="StropheSessionError",o}this._proto._restore(e,t,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof A.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,r){var i=this,o=null;"function"==typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendPresence"),e.setAttribute("id",a)),"function"==typeof t||"function"==typeof n){var s=this.addHandler((function(e){o&&i.deleteTimedHandler(o),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)}),null,"presence",null,a);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(s),n&&n(null),!1})))}return this.send(e),a},sendIQ:function(e,t,n,r){var i=this,o=null;"function"==typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendIQ"),e.setAttribute("id",a)),"function"==typeof t||"function"==typeof n){var s=this.addHandler((function(e){o&&i.deleteTimedHandler(o);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var a=new Error("Got bad IQ type of ".concat(r));throw a.name="StropheError",a}n&&n(e)}}),null,"iq",["error","result"],a);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(s),n&&n(null),!1})))}return this.send(e),a},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)},_sendRestart:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout((function(){return e._onIdle()}),100)},addTimedHandler:function(e,t){var n=new A.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,i,o,a){var s=new A.Handler(e,t,n,r,i,o,a);return this.addHandlers.push(s),s},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},(e=e||[A.SASLAnonymous,A.SASLExternal,A.SASLMD5,A.SASLOAuthBearer,A.SASLXOAuth2,A.SASLPlain,A.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(A.Status.DISCONNECTING,e),A.warn("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=T({xmlns:A.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else A.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,n){for(var r in A._connectionPlugins)if(Object.prototype.hasOwnProperty.call(A._connectionPlugins,r)){var i=this[r];if(i.statusChanged)try{i.statusChanged(e,t)}catch(e){A.error("".concat(r," plugin caused an exception changing status: ").concat(e))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(e){A._handleError(e),A.error("User connection callback caused an exception: ".concat(e))}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),A.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(A.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){var n=this;A.debug("_dataRecv called");var r=this._proto._reqToData(e);if(null!==r){for(this.xmlInput!==A.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==A.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(A.serialize(r)));this.removeHandlers.length>0;){var i=this.removeHandlers.pop(),o=this.handlers.indexOf(i);o>=0&&this.handlers.splice(o,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var a=r.getAttribute("type");if(null!==a&&"terminate"===a){if(this.disconnecting)return;var s=r.getAttribute("condition"),u=r.getElementsByTagName("conflict");return null!==s?("remote-stream-error"===s&&u.length>0&&(s="conflict"),this._changeConnectStatus(A.Status.CONNFAIL,s)):this._changeConnectStatus(A.Status.CONNFAIL,A.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(s)}A.forEachChild(r,null,(function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var i=t[r];try{(!i.isMatch(e)||!n.authenticated&&i.user||i.run(e))&&n.handlers.push(i)}catch(e){A.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}}))}}},mechanisms:{},_connect_cb:function(e,t,n){var r;A.debug("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(e){if(e.name!==A.ErrorCondition.BAD_FORMAT)throw e;this._changeConnectStatus(A.Status.CONNFAIL,A.ErrorCondition.BAD_FORMAT),this._doDisconnect(A.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==A.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==A.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(A.serialize(r))),this._proto._connect_cb(r)!==A.Status.CONNFAIL))if(r.getElementsByTagNameNS?r.getElementsByTagNameNS(A.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0){var i=[],o=r.getElementsByTagName("mechanism");if(o.length>0)for(var a=0;a<o.length;a++){var s=A.getText(o[a]);this.mechanisms[s]&&i.push(this.mechanisms[s])}0!==i.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)},sortMechanismsByPriority:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].prototype.priority>e[n].prototype.priority&&(n=r);if(n!==t){var i=e[t];e[t]=e[n],e[n]=i}}return e},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var r=w("auth",{xmlns:A.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(i))}this.send(r.tree()),t=!0;break}return t},_sasl_challenge_cb:function(e){var t=atob(A.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=w("response",{xmlns:A.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_attemptLegacyAuth:function(){null===A.getNodeFromJid(this.jid)?(this._changeConnectStatus(A.Status.CONNFAIL,A.ErrorCondition.MISSING_JID_NODE),this.disconnect(A.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(A.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(C({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:A.NS.AUTH}).c("username",{}).t(A.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(e){var t=C({type:"set",id:"_auth_2"}).c("query",{xmlns:A.NS.AUTH}).c("username",{}).t(A.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return A.getResourceFromJid(this.jid)||(this.jid=A.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(A.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=atob(A.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}A.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],o=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return i.push(this._addSysHandler((function(e){return o(i,e)}),null,"stream:features",null,null)),i.push(this._addSysHandler((function(e){return o(i,e)}),A.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(A.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(A.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=A.getResourceFromJid(this.jid);e?this.send(C({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:A.NS.BIND}).c("resource",{}).t(e).tree()):this.send(C({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:A.NS.BIND}).tree())}else A.log(A.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')},_onResourceBindResultIQ:function(e){var t;if("error"===e.getAttribute("type"))return A.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=A.ErrorCondition.CONFLICT),this._changeConnectStatus(A.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return A.warn("Resource binding failed."),this._changeConnectStatus(A.Status.AUTHFAIL,null,e),!1;var r=n[0].getElementsByTagName("jid");r.length>0&&(this.jid=A.getText(r[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(A.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(A.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(C({type:"set",id:"_session_auth_2"}).c("session",{xmlns:A.NS.SESSION}).tree())},_onSessionResultIQ:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(A.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return A.warn("Session creation failed."),this._changeConnectStatus(A.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(A.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(A.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(A.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new A.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,i){var o=new A.Handler(e,t,n,r,i);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return A.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(A.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),i=[],o=0;o<this.timedHandlers.length;o++){var a=this.timedHandlers[o];!this.authenticated&&a.user||(a.lastCalled+a.period-r<=0?a.run()&&i.push(a):i.push(a))}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout((function(){return e._onIdle()}),100))}},A.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},A.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},A.SASLAnonymous=function(){},A.SASLAnonymous.prototype=new A.SASLMechanism("ANONYMOUS",!1,20),A.SASLAnonymous.prototype.test=function(e){return null===e.authcid},A.SASLPlain=function(){},A.SASLPlain.prototype=new A.SASLMechanism("PLAIN",!0,50),A.SASLPlain.prototype.test=function(e){return null!==e.authcid},A.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,S(t)},A.SASLSHA1=function(){},A.SASLSHA1.prototype=new A.SASLMechanism("SCRAM-SHA-1",!0,70),A.SASLSHA1.prototype.test=function(e){return null!==e.authcid},A.SASLSHA1.prototype.onChallenge=function(e,t,n){var r=n||d.hexdigest(""+1234567890*Math.random()),i="n="+S(e.authcid);return i+=",r=",i+=r,e._sasl_data.cnonce=r,e._sasl_data["client-first-message-bare"]=i,i="n,,"+i,this.onChallenge=function(e,t){for(var n,r,i,o,a,s,u,c,l="c=biws,",d="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),f=e._sasl_data.cnonce,h=/([a-z]+)=([^,]+)(,|$)/;t.match(h);){var p=t.match(h);switch(t=t.replace(p[0],""),p[1]){case"r":n=p[2];break;case"s":r=p[2];break;case"i":i=p[2]}}if(n.substr(0,f.length)!==f)return e._sasl_data={},e._sasl_failure_cb();d+=l+="r="+n,r=atob(r),r+="\0\0\0\x01";var m=S(e.pass);for(o=s=E.core_hmac_sha1(m,r),u=1;u<i;u++){for(a=E.core_hmac_sha1(m,E.binb2str(s)),c=0;c<5;c++)o[c]^=a[c];s=a}o=E.binb2str(o);var v=E.core_hmac_sha1(o,"Client Key"),g=E.str_hmac_sha1(o,"Server Key"),_=E.core_hmac_sha1(E.str_sha1(E.binb2str(v)),d);for(e._sasl_data["server-signature"]=E.b64_hmac_sha1(g,d),c=0;c<5;c++)v[c]^=_[c];return l+",p="+btoa(E.binb2str(v))},i},A.SASLMD5=function(){},A.SASLMD5.prototype=new A.SASLMechanism("DIGEST-MD5",!1,60),A.SASLMD5.prototype.test=function(e){return null!==e.authcid},A.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},A.SASLMD5.prototype.onChallenge=function(e,t,n){for(var r=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,i=n||d.hexdigest(""+1234567890*Math.random()),o="",a=null,s="";t.match(r);){var u=t.match(r);switch(t=t.replace(u[0],""),u[2]=u[2].replace(/^"(.+)"$/,"$1"),u[1]){case"realm":o=u[2];break;case"nonce":s=u[2];break;case"qop":u[2];break;case"host":a=u[2]}}var c=e.servtype+"/"+e.domain;null!==a&&(c=c+"/"+a);var l=S(e.authcid+":"+o+":"+this._connection.pass),f=d.hash(l)+":"+s+":"+i,h="AUTHENTICATE:"+c,p="";return p+="charset=utf-8,",p+="username="+this._quote(S(e.authcid))+",",p+="realm="+this._quote(o)+",",p+="nonce="+this._quote(s)+",",p+="nc=00000001,",p+="cnonce="+this._quote(i)+",",p+="digest-uri="+this._quote(c)+",",p+="response="+d.hexdigest(d.hexdigest(f)+":"+s+":00000001:"+i+":auth:"+d.hexdigest(h))+",",p+="qop=auth",this.onChallenge=function(){return""},p},A.SASLOAuthBearer=function(){},A.SASLOAuthBearer.prototype=new A.SASLMechanism("OAUTHBEARER",!0,40),A.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},A.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",S(t+="\x01")},A.SASLExternal=function(){},A.SASLExternal.prototype=new A.SASLMechanism("EXTERNAL",!0,10),A.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},A.SASLXOAuth2=function(){},A.SASLXOAuth2.prototype=new A.SASLMechanism("X-OAUTH2",!0,30),A.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},A.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,S(t)};var k={Strophe:A,$build:w,$iq:C,$msg:function(e){return new A.Builder("message",e)},$pres:T,SHA1:E,MD5:d,b64_hmac_sha1:E.b64_hmac_sha1,b64_sha1:E.b64_sha1,str_hmac_sha1:E.str_hmac_sha1,str_sha1:E.str_sha1},O=k.Strophe,R=k.$build;O.Request=function(e,t,n,r){this.id=++O._requestId,this.xmlData=e,this.data=O.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},O.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw O.error("invalid response received"),O.error("responseText: "+this.xhr.responseText),O.error("responseXML: "+O.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(O.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){O.error("invalid response received: "+e.querySelector("parsererror").textContent),O.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=O.ErrorCondition.BAD_FORMAT,t}}return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},O.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},O.Bosh.prototype={strip:null,_buildBody:function(){var e=R("body",{rid:this.rid++,xmlns:O.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":O.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new O.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,t,n,r,i,o,a){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=O.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=o||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(O.Status.ATTACHED,null)},_restore:function(e,t,n,r,i){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=o&&o.rid&&o.sid&&o.jid&&(null==e||O.getBareJidFromJid(o.jid)===O.getBareJidFromJid(e)||null===O.getNodeFromJid(e)&&O.getDomainFromJid(o.jid)===e))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,t,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");O.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(O.Status.CONNFAIL,n)):this._conn._changeConnectStatus(O.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),O.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var i=e.getAttribute("requests");i&&(this.window=parseInt(i,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var a=e.getAttribute("wait");a&&(this.wait=parseInt(a,10));var s=e.getAttribute("inactivity");s&&(this.inactivity=parseInt(s,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t)},_hitError:function(e){this.errors++,O.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){O.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new O.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(O.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":O.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new O.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(O.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(O.TIMEOUT*this.wait)&&(O.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(O.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(e){O.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof t?t:0),n},_onRequestStateChange:function(e,t){if(O.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var r=n>0&&n<500,i=t.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(t),O.debug("request id "+t.id+" should now be removed")),200===n){var o=this._requests[0]===t;(this._requests[1]===t||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(O.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),O.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(O.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(O.Status.DISCONNECTING,null),this._conn._doDisconnect())):O.error("request id "+t.id+"."+t.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(O.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var t=this,n=this._requests[e],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),o=!isNaN(i)&&i>Math.floor(O.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(O.SECONDARY_TIMEOUT*this.wait),s=4===n.xhr.readyState&&(r<1||r>=500);if((o||a||s)&&(a&&O.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new O.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){O.debug("request id "+n.id+"."+n.sends+" posting");try{var u=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",u),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(e){return O.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(O.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var c=function(){if(n.date=new Date,t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.xhr.setRequestHeader(r,e[r])}n.xhr.send(n.data)};if(n.sends>1){var l=1e3*Math.min(Math.floor(O.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout((function(){c()}),l)}else c();n.sends++,this._conn.xmlOutput!==O.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==O.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else O.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(e){O.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(e){if("parsererror"!==e.message)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){O.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new O.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout((function(){return e._conn._onIdle()}),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?O.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):O.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var M=k.Strophe,I=k.$build;return M.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},M.Websocket.prototype={_buildStream:function(){return I("open",{xmlns:M.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(M.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",o="",a=0;a<r.childNodes.length;a++){var s=r.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==s.getAttribute("xmlns"))break;"text"===s.nodeName?o=s.textContent:i=s.nodeName}var u="WebSocket stream error: ";return u+=i||"unknown",o&&(u+=" - "+o),M.error(u),this._conn._changeConnectStatus(t,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){if(this._check_streamerror(e,M.Status.CONNFAIL))return M.Status.CONNFAIL},_handleStreamStart:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==M.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!=typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(M.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new DOMParser).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var i=r.getAttribute("see-other-uri");if(i){var o=this._conn.service;(o.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||o.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(M.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(M.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(e.data),s=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=I("close",{xmlns:M.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=M.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n)}catch(e){M.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){M.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){M.debug(e.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(e){this._conn.connected&&!this._conn.disconnecting?(M.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(M.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(M.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):M.debug("Websocket closed")},_no_auth_received:function(e){M.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(M.Status.CONNFAIL,M.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){M.error("Websocket error "+e),this._conn._changeConnectStatus(M.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n;n="restart"===e[t]?this._buildStream().tree():e[t];var r=M.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var r=this._streamWrap(e.data);t=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(t,M.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(M.serialize(t))):void this._conn._dataRecv(t,e.data)},_onOpen:function(){M.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=M.serialize(e);this._conn.rawOutput(t),this.socket.send(t)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=k.Strophe,e.$build=k.$build,e.$iq=k.$iq,e.$msg=k.$msg,e.$pres=k.$pres,k},e.exports=n()}).call(this,n(49))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.AUDIO="audio",e.PRESENTER="presenter",e.VIDEO="video"}(r||(r={}))},function(e,t,n){var r=n(325),i=n(586),o={},a=[],s=r.levels.TRACE;e.exports={addGlobalTransport:function(e){r.addGlobalTransport(e)},removeGlobalTransport:function(e){r.removeGlobalTransport(e)},setGlobalOptions:function(e){r.setGlobalOptions(e)},getLogger:function(e,t,n){var i=new r(s,e,t,n);return e?(o[e]=o[e]||[],o[e].push(i)):a.push(i),i},setLogLevelById:function(e,t){for(var n=t?o[t]||[]:a,r=0;r<n.length;r++)n[r].setLevel(e)},setLogLevel:function(e){s=e;for(var t=0;t<a.length;t++)a[t].setLevel(e);for(var n in o){var r=o[n]||[];for(t=0;t<r.length;t++)r[t].setLevel(e)}},levels:r.levels,LogCollector:i}},function(e,t,n){"use strict";var r=n(396);t.a=new r.a},function(e,t,n){"use strict";var r=n(66),i=Object.getPrototypeOf,o=r.a.slice,a=r.a.flat?function(e){return r.a.flat.call(e)}:function(e){return r.a.concat.apply([],e)},s=n(86),u=n(122),c=n(120),l=n(226),d=c.a.hasOwnProperty,f=d.toString,h=f.call(Object),p=n(60),m={type:!0,src:!0,nonce:!0,noModule:!0},v=n(227),g=/HTML$/i,_=function e(t,n){return new e.fn.init(t,n)};function b(e){var t=!!e&&e.length,n=Object(v.a)(e);return"function"!=typeof e&&!function(e){return null!=e&&e===e.window}(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:"@VERSION",constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()}},_.extend=_.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"!=typeof a&&"function"!=typeof a&&(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(_.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||_.isPlainObject(n)?n:{},i=!1,a[t]=_.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},_.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.a.call(e))&&(!(t=i(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&f.call(n)===h)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){!function(e,t,n){var r,i=(n=n||p.a).createElement("script");if(i.text=e,t)for(r in m)t[r]&&(i[r]=t[r]);n.head.appendChild(i).parentNode.removeChild(i)}(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(b(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=_.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(b(Object(e))?_.merge(n,"string"==typeof e?[e]:e):s.a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.a.call(t,e,n)},isXMLDoc:function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!g.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(b(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a(s)},guid:1,support:{}}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=r.a[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c.a["[object "+t+"]"]=t.toLowerCase()})),t.a=_},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return a})),n.d(t,"auditTime",(function(){return d})),n.d(t,"buffer",(function(){return f})),n.d(t,"bufferCount",(function(){return v})),n.d(t,"bufferTime",(function(){return E})),n.d(t,"bufferToggle",(function(){return O})),n.d(t,"bufferWhen",(function(){return I})),n.d(t,"catchError",(function(){return F})),n.d(t,"combineAll",(function(){return U})),n.d(t,"combineLatest",(function(){return q})),n.d(t,"concat",(function(){return J})),n.d(t,"concatAll",(function(){return z.a})),n.d(t,"concatMap",(function(){return W})),n.d(t,"concatMapTo",(function(){return $})),n.d(t,"count",(function(){return Y})),n.d(t,"debounce",(function(){return Z})),n.d(t,"debounceTime",(function(){return ne})),n.d(t,"defaultIfEmpty",(function(){return ae})),n.d(t,"delay",(function(){return de})),n.d(t,"delayWhen",(function(){return ve})),n.d(t,"dematerialize",(function(){return Ee})),n.d(t,"distinct",(function(){return we})),n.d(t,"distinctUntilChanged",(function(){return Ae})),n.d(t,"distinctUntilKeyChanged",(function(){return Re})),n.d(t,"elementAt",(function(){return Ve})),n.d(t,"endWith",(function(){return Ge})),n.d(t,"every",(function(){return Je})),n.d(t,"exhaust",(function(){return We})),n.d(t,"exhaustMap",(function(){return Qe})),n.d(t,"expand",(function(){return tt})),n.d(t,"filter",(function(){return Ie.a})),n.d(t,"finalize",(function(){return it})),n.d(t,"find",(function(){return st})),n.d(t,"findIndex",(function(){return lt})),n.d(t,"first",(function(){return ft})),n.d(t,"groupBy",(function(){return ht.b})),n.d(t,"ignoreElements",(function(){return pt})),n.d(t,"isEmpty",(function(){return gt})),n.d(t,"last",(function(){return Dt})),n.d(t,"map",(function(){return Xe.a})),n.d(t,"mapTo",(function(){return wt})),n.d(t,"materialize",(function(){return At})),n.d(t,"max",(function(){return xt})),n.d(t,"merge",(function(){return Lt})),n.d(t,"mergeAll",(function(){return jt.a})),n.d(t,"mergeMap",(function(){return K.a})),n.d(t,"flatMap",(function(){return K.a})),n.d(t,"mergeMapTo",(function(){return Bt})),n.d(t,"mergeScan",(function(){return Ut})),n.d(t,"min",(function(){return qt})),n.d(t,"multicast",(function(){return Jt})),n.d(t,"observeOn",(function(){return Kt.b})),n.d(t,"onErrorResumeNext",(function(){return Wt})),n.d(t,"pairwise",(function(){return Xt})),n.d(t,"partition",(function(){return tn})),n.d(t,"pluck",(function(){return nn})),n.d(t,"publish",(function(){return on})),n.d(t,"publishBehavior",(function(){return sn})),n.d(t,"publishLast",(function(){return cn})),n.d(t,"publishReplay",(function(){return dn})),n.d(t,"race",(function(){return hn})),n.d(t,"reduce",(function(){return Nt})),n.d(t,"repeat",(function(){return pn})),n.d(t,"repeatWhen",(function(){return gn})),n.d(t,"retry",(function(){return yn})),n.d(t,"retryWhen",(function(){return Dn})),n.d(t,"refCount",(function(){return Tn.a})),n.d(t,"sample",(function(){return An})),n.d(t,"sampleTime",(function(){return Rn})),n.d(t,"scan",(function(){return Rt})),n.d(t,"sequenceEqual",(function(){return Nn})),n.d(t,"share",(function(){return Bn})),n.d(t,"shareReplay",(function(){return Un})),n.d(t,"single",(function(){return Hn})),n.d(t,"skip",(function(){return Gn})),n.d(t,"skipLast",(function(){return Kn})),n.d(t,"skipUntil",(function(){return Yn})),n.d(t,"skipWhile",(function(){return Zn})),n.d(t,"startWith",(function(){return nr})),n.d(t,"subscribeOn",(function(){return ar})),n.d(t,"switchAll",(function(){return dr})),n.d(t,"switchMap",(function(){return ur})),n.d(t,"switchMapTo",(function(){return fr})),n.d(t,"take",(function(){return Be})),n.d(t,"takeLast",(function(){return yt})),n.d(t,"takeUntil",(function(){return hr})),n.d(t,"takeWhile",(function(){return vr})),n.d(t,"tap",(function(){return Er})),n.d(t,"throttle",(function(){return Cr})),n.d(t,"throttleTime",(function(){return kr})),n.d(t,"throwIfEmpty",(function(){return Ne})),n.d(t,"timeInterval",(function(){return Pr})),n.d(t,"timeout",(function(){return Ur})),n.d(t,"timeoutWith",(function(){return Fr})),n.d(t,"timestamp",(function(){return Hr})),n.d(t,"toArray",(function(){return Gr})),n.d(t,"window",(function(){return Jr})),n.d(t,"windowCount",(function(){return Wr})),n.d(t,"windowTime",(function(){return Xr})),n.d(t,"windowToggle",(function(){return ii})),n.d(t,"windowWhen",(function(){return si})),n.d(t,"withLatestFrom",(function(){return li})),n.d(t,"zip",(function(){return pi})),n.d(t,"zipAll",(function(){return mi}));var r=n(0),i=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.b(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(o.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.a),c=n(42),l=n(214);function d(e,t){return void 0===t&&(t=c.a),a((function(){return Object(l.a)(e,t)}))}function f(e){return function(t){return t.lift(new h(e))}}var h=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.closingNotifier))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o.a)(r,n)),r}return r.b(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.a),m=n(9);function v(e,t){return void 0===t&&(t=null),function(n){return n.lift(new g(e,t))}}var g=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?b:_}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),_=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.b(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(m.a),b=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.b(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(m.a),y=n(50);function E(e){var t=arguments.length,n=c.a;Object(y.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new S(e,r,i,n))}}var S=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new w(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),D=function(){this.buffer=[]},w=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var u={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(C,n,u))}else{var c={subscriber:a,context:s},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(A,n,c)),a.add(o.schedule(T,r,l))}return a}return r.b(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(C,n,r))}},t.prototype.openContext=function(){var e=new D;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(m.a);function C(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function T(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(A,n,{subscriber:r,context:o})),this.schedule(e,t))}function A(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var k=n(29);function O(e,t){return function(n){return n.lift(new R(e,t))}}var R=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new M(e,this.openings,this.closingSelector))},e}(),M=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o.a)(i,n)),i}return r.b(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new k.a,r={buffer:[],subscription:n};t.push(r);var i=Object(o.a)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(i.a);function I(e){return function(t){return t.lift(new P(e))}}var P=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new N(e,this.closingSelector))},e}(),N=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.b(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new k.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(o.a)(this,t)),this.subscribing=!1},t}(i.a),x=n(65);function F(e){return function(t){var n=new L(e),r=t.lift(n);return n.caught=r}}var L=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new j(e,this.selector,this.caught))},e}(),j=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new x.a(this,void 0,void 0);this.add(r);var i=Object(o.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}},t}(i.a),B=n(157);function U(e){return function(t){return t.lift(new B.a(e))}}var H=n(39),V=n(56);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(H.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(V.a)([t].concat(e)),new B.a(n))}}var G=n(110);function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(G.a.apply(void 0,[t].concat(e)))}}var z=n(211),K=n(88);function W(e,t){return Object(K.a)(e,t,1)}function $(e,t){return W((function(){return e}),t)}function Y(e){return function(t){return t.lift(new X(e,t))}}var X=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.predicate,this.source))},e}(),Q=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.b(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(m.a);function Z(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.b(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.a);function ne(e,t){return void 0===t&&(t=c.a),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.b(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(m.a);function oe(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new se(e))}}var se=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new ue(e,this.defaultValue))},e}(),ue=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.b(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(m.a);function ce(e){return e instanceof Date&&!isNaN(+e)}var le=n(73);function de(e,t){void 0===t&&(t=c.a);var n=ce(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new fe(n,t))}}var fe=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.delay,this.scheduler))},e}(),he=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.b(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new pe(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(le.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(le.a.createComplete()),this.unsubscribe()},t}(m.a),pe=function(e,t){this.time=e,this.notification=t},me=n(17);function ve(e,t){return t?function(n){return new be(n,t).lift(new ge(e))}:function(t){return t.lift(new ge(e))}}var ge=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new _e(e,this.delayDurationSelector))},e}(),_e=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(o.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(i.a),be=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.b(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new ye(e,this.source))},t}(me.a),ye=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.b(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(m.a);function Ee(){return function(e){return e.lift(new Se)}}var Se=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new De(e))},e}(),De=function(e){function t(t){return e.call(this,t)||this}return r.b(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(m.a);function we(e,t){return function(n){return n.lift(new Ce(e,t))}}var Ce=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Te(e,this.keySelector,this.flushes))},e}(),Te=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.a)(i,r)),i}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.a);function Ae(e,t){return function(n){return n.lift(new ke(e,t))}}var ke=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Oe(e,this.compare,this.keySelector))},e}(),Oe=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.b(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(m.a);function Re(e,t){return Ae((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var Me=n(90),Ie=n(72),Pe=n(97);function Ne(e){return void 0===e&&(e=Le),function(t){return t.lift(new xe(e))}}var xe=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Fe(e,this.errorFactory))},e}(),Fe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.b(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(m.a);function Le(){return new Pe.a}var je=n(53);function Be(e){return function(t){return 0===e?Object(je.b)():t.lift(new Ue(e))}}var Ue=function(){function e(e){if(this.total=e,this.total<0)throw new Me.a}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.total))},e}(),He=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.b(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(m.a);function Ve(e,t){if(e<0)throw new Me.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Ie.a)((function(t,n){return n===e})),Be(1),n?ae(t):Ne((function(){return new Me.a})))}}var qe=n(118);function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(G.a)(t,qe.a.apply(void 0,e))}}function Je(e,t){return function(n){return n.lift(new ze(e,t,n))}}var ze=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e,this.predicate,this.thisArg,this.source))},e}(),Ke=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.b(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(m.a);function We(){return function(e){return e.lift(new $e)}}var $e=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e))},e}(),Ye=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.b(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a),Xe=n(48);function Qe(e,t){return t?function(n){return n.pipe(Qe((function(n,r){return Object(V.a)(e(n,r)).pipe(Object(Xe.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Ze(e))}}var Ze=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.b(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new x.a(this,t,n),i=this.destination;i.add(r);var a=Object(o.a)(this,e,void 0,void 0,r);a!==r&&i.add(a)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.b(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(o.a)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.a);function it(e){return function(t){return t.lift(new ot(e))}}var ot=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new k.a(n)),r}return r.b(t,e),t}(m.a);function st(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new ut(e,n,!1,t))}}var ut=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ct=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r.b(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(m.a);function lt(e,t){return function(n){return n.lift(new ut(e,n,!0,t))}}var dt=n(76);function ft(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Ie.a)((function(t,n){return e(t,n,r)})):dt.a,Be(1),n?ae(t):Ne((function(){return new Pe.a})))}}var ht=n(198);function pt(){return function(e){return e.lift(new mt)}}var mt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype._next=function(e){},t}(m.a);function gt(){return function(e){return e.lift(new _t)}}var _t=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new bt(e))},e}(),bt=function(e){function t(t){return e.call(this,t)||this}return r.b(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(m.a);function yt(e){return function(t){return 0===e?Object(je.b)():t.lift(new Et(e))}}var Et=function(){function e(e){if(this.total=e,this.total<0)throw new Me.a}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.total))},e}(),St=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.b(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(m.a);function Dt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Ie.a)((function(t,n){return e(t,n,r)})):dt.a,yt(1),n?ae(t):Ne((function(){return new Pe.a})))}}function wt(e){return function(t){return t.lift(new Ct(e))}}var Ct=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Tt(e,this.value))},e}(),Tt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.b(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(m.a);function At(){return function(e){return e.lift(new kt)}}var kt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ot(e))},e}(),Ot=function(e){function t(t){return e.call(this,t)||this}return r.b(t,e),t.prototype._next=function(e){this.destination.next(le.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(le.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(le.a.createComplete()),e.complete()},t}(m.a);function Rt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Mt(e,t,n))}}var Mt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new It(e,this.accumulator,this.seed,this.hasSeed))},e}(),It=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.b(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(m.a),Pt=n(132);function Nt(e,t){return arguments.length>=2?function(n){return Object(Pt.a)(Rt(e,t),yt(1),ae(t))(n)}:function(t){return Object(Pt.a)(Rt((function(t,n,r){return e(t,n,r+1)})),yt(1))(t)}}function xt(e){return Nt("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Ft=n(212);function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Ft.a.apply(void 0,[t].concat(e)))}}var jt=n(158);function Bt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(K.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(K.a)((function(){return e}),n))}function Ut(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Ht(e,t,n))}}var Ht=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Vt(e,this.accumulator,this.seed,this.concurrent))},e}(),Vt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.b(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new x.a(this,t,n),i=this.destination;i.add(r);var a=Object(o.a)(this,e,void 0,void 0,r);a!==r&&i.add(a)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.a);function qt(e){return Nt("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Gt=n(207);function Jt(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new zt(r,t));var i=Object.create(n,Gt.b);return i.source=n,i.subjectFactory=r,i}}var zt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),Kt=n(209);function Wt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(H.a)(e[0])&&(e=e[0]),function(t){return t.lift(new $t(e))}}var $t=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Yt(e,this.nextSources))},e}(),Yt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.b(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new x.a(this,void 0,void 0),n=this.destination;n.add(t);var r=Object(o.a)(this,e,void 0,void 0,t);r!==t&&n.add(r)}else this.destination.complete()},t}(i.a);function Xt(){return function(e){return e.lift(new Qt)}}var Qt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Zt(e))},e}(),Zt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.b(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(m.a),en=n(224);function tn(e,t){return function(n){return[Object(Ie.a)(e,t)(n),Object(Ie.a)(Object(en.a)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(Xe.a)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(e,n))(t)}}var rn=n(37);function on(e){return e?Jt((function(){return new rn.a}),e):Jt(new rn.a)}var an=n(208);function sn(e){return function(t){return Jt(new an.a(e))(t)}}var un=n(100);function cn(){return function(e){return Jt(new un.a)(e)}}var ln=n(155);function dn(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new ln.a(e,t,r);return function(e){return Jt((function(){return o}),i)(e)}}var fn=n(213);function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(H.a)(e[0])&&(e=e[0]),t.lift.call(fn.a.apply(void 0,[t].concat(e)))}}function pn(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(je.b)():e<0?t.lift(new mn(-1,t)):t.lift(new mn(e-1,t))}}var mn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.count,this.source))},e}(),vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.b(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(m.a);function gn(e){return function(t){return t.lift(new _n(e))}}var _n=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new bn(e,this.notifier,t))},e}(),bn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new rn.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(o.a)(this,t)},t}(i.a);function yn(e){return void 0===e&&(e=-1),function(t){return t.lift(new En(e,t))}}var En=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.count,this.source))},e}(),Sn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(m.a);function Dn(e){return function(t){return t.lift(new wn(e,t))}}var wn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Cn(e,this.notifier,this.source))},e}(),Cn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new rn.a;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=Object(o.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(i.a),Tn=n(154);function An(e){return function(t){return t.lift(new kn(e))}}var kn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new On(e),r=t.subscribe(n);return r.add(Object(o.a)(n,this.notifier)),r},e}(),On=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.b(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.a);function Rn(e,t){return void 0===t&&(t=c.a),function(n){return n.lift(new Mn(e,t))}}var Mn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new In(e,this.period,this.scheduler))},e}(),In=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Pn,n,{subscriber:i,period:n})),i}return r.b(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(m.a);function Pn(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Nn(e,t){return function(n){return n.lift(new xn(e,t))}}var xn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Fn(e,this.compareTo,this.comparator))},e}(),Fn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new Ln(t,i))),i}return r.b(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(m.a),Ln=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.b(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(m.a);function jn(){return new rn.a}function Bn(){return function(e){return Object(Tn.a)()(Jt(jn)(e))}}function Un(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,u=e.scheduler,c=0,l=!1,d=!1;return function(e){c++,t&&!l||(l=!1,t=new ln.a(i,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){d=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!d&&s&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Hn(e){return function(t){return t.lift(new Vn(e,t))}}var Vn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new qn(e,this.predicate,this.source))},e}(),qn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.b(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Pe.a)},t}(m.a);function Gn(e){return function(t){return t.lift(new Jn(e))}}var Jn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new zn(e,this.total))},e}(),zn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.b(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(m.a);function Kn(e){return function(t){return t.lift(new Wn(e))}}var Wn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Me.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new m.a(e)):t.subscribe(new $n(e,this._skipCount))},e}(),$n=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.b(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(m.a);function Yn(e){return function(t){return t.lift(new Xn(e))}}var Xn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Qn(e,this.notifier))},e}(),Qn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new x.a(r,void 0,void 0);r.add(i),r.innerSubscription=i;var a=Object(o.a)(r,n,void 0,void 0,i);return a!==i&&(r.add(a),r.innerSubscription=a),r}return r.b(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.a);function Zn(e){return function(t){return t.lift(new er(e))}}var er=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new tr(e,this.predicate))},e}(),tr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.b(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(m.a);function nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(y.a)(n)?(e.pop(),function(t){return Object(G.a)(e,t,n)}):function(t){return Object(G.a)(e,t)}}var rr=n(168),ir=n(104),or=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=rr.a);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(ir.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=rr.a),i}return r.b(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=rr.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(me.a);function ar(e,t){return void 0===t&&(t=0),function(n){return n.lift(new sr(e,t))}}var sr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new or(t,this.delay,this.scheduler).subscribe(e)},e}();function ur(e,t){return"function"==typeof t?function(n){return n.pipe(ur((function(n,r){return Object(V.a)(e(n,r)).pipe(Object(Xe.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new cr(e))}}var cr=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new lr(e,this.project))},e}(),lr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.b(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new x.a(this,t,n),a=this.destination;a.add(i),this.innerSubscription=Object(o.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&a.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i.a);function dr(){return ur(dt.a)}function fr(e,t){return t?ur((function(){return e}),t):ur((function(){return e}))}function hr(e){return function(t){return t.lift(new pr(e))}}var pr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new mr(e),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),mr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.a);function vr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new gr(e,t))}}var gr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new _r(e,this.predicate,this.inclusive))},e}(),_r=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.b(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(m.a),br=n(69),yr=n(91);function Er(e,t,n){return function(r){return r.lift(new Sr(e,t,n))}}var Sr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Dr(e,this.nextOrObserver,this.error,this.complete))},e}(),Dr=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=br.a,o._tapError=br.a,o._tapComplete=br.a,o._tapError=r||br.a,o._tapComplete=i||br.a,Object(yr.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||br.a,o._tapError=n.error||br.a,o._tapComplete=n.complete||br.a),o}return r.b(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(m.a),wr={leading:!0,trailing:!1};function Cr(e,t){return void 0===t&&(t=wr),function(n){return n.lift(new Tr(e,t.leading,t.trailing))}}var Tr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Ar(e,this.durationSelector,this.leading,this.trailing))},e}(),Ar=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.b(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.a);function kr(e,t,n){return void 0===t&&(t=c.a),void 0===n&&(n=wr),function(r){return r.lift(new Or(e,t,n.leading,n.trailing))}}var Or=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Rr(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Rr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.b(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Mr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(m.a);function Mr(e){e.subscriber.clearThrottle()}var Ir=n(159);function Pr(e){return void 0===e&&(e=c.a),function(t){return Object(Ir.a)((function(){return t.pipe(Rt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(Xe.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Nr(r,t-n)})))}))}}var Nr=function(e,t){this.value=e,this.interval=t},xr=n(210);function Fr(e,t,n){return void 0===n&&(n=c.a),function(r){var i=ce(e),o=i?+e-n.now():Math.abs(e);return r.lift(new Lr(o,i,t,n))}}var Lr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new jr(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),jr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.action=null,a.scheduleTimeout(),a}return r.b(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(o.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(i.a),Br=n(156);function Ur(e,t){return void 0===t&&(t=c.a),Fr(e,Object(Br.a)(new xr.a),t)}function Hr(e){return void 0===e&&(e=c.a),Object(Xe.a)((function(t){return new Vr(t,e.now())}))}var Vr=function(e,t){this.value=e,this.timestamp=t};function qr(e,t,n){return 0===n?[t]:(e.push(t),e)}function Gr(){return Nt(qr,[])}function Jr(e){return function(t){return t.lift(new zr(e))}}var zr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Kr(e),r=t.subscribe(n);return r.closed||n.add(Object(o.a)(n,this.windowBoundaries)),r},e}(),Kr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new rn.a,t.next(n.window),n}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new rn.a;t.next(n)},t}(i.a);function Wr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new $r(e,t))}}var $r=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Yr(e,this.windowSize,this.startWindowEvery))},e}(),Yr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new rn.a],i.count=0,t.next(i.windows[0]),i}return r.b(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new rn.a;i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(m.a);function Xr(e){var t=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(y.a)(arguments[3])&&(t=arguments[3]),Object(y.a)(arguments[2])?t=arguments[2]:Object(ir.a)(arguments[2])&&(r=arguments[2]),Object(y.a)(arguments[1])?t=arguments[1]:Object(ir.a)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new Qr(e,n,r,t))}}var Qr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ei(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.b(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(rn.a),ei=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var u={subscriber:a,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(ri,n,u)),a.add(o.schedule(ni,r,c))}else{var l={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(ti,n,l))}return a}return r.b(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Zr;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(m.a);function ti(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ni(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null},s={subscriber:n,window:o,context:a};a.subscription=r.schedule(ri,t,s),this.add(a.subscription),this.schedule(e,i)}function ri(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function ii(e,t){return function(n){return n.lift(new oi(e,t))}}var oi=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new ai(e,this.openings,this.closingSelector))},e}(),ai=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(o.a)(i,n,n)),i}return r.b(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var a=void 0;try{a=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var s=new rn.a,u=new k.a,c={window:s,subscription:u};this.contexts.push(c);var l=Object(o.a)(this,a,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,u.add(l)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(i.a);function si(e){return function(t){return t.lift(new ui(e))}}var ui=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ci(e,this.closingSelector))},e}(),ci=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new rn.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(o.a)(this,n))},t}(i.a);function li(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new di(r,n))}}var di=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new fi(e,this.observables,this.project))},e}(),fi=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var a=n.length;i.values=new Array(a);for(var s=0;s<a;s++)i.toRespond.push(s);for(s=0;s<a;s++){var u=n[s];i.add(Object(o.a)(i,u,u,s))}return i}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a),hi=n(160);function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(hi.b.apply(void 0,[t].concat(e)))}}function mi(e){return function(t){return t.lift(new hi.a(e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(91),o=n(169),a=n(29),s=n(134),u=n(67),c=n(112),l=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,i)}return a}return r.b(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),d=function(e){function t(t,n,r,a){var s,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.b(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return u.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r,i=n(34),o=n.n(i),a=n(2),s=n(47),u=n(15),c=n(58),l=n(6),d=n(165),f=n.n(d),h=n(399),p=n(87),m=n(228),v=n(400),g=n(401),_=n(123),b=n(5).getLogger(e),y=!1;function E(e){p.a.isBackendInitialized()||p.a.initBackend({callStatsID:e.callStatsID,callStatsSecret:e.callStatsSecret,userName:e.userName,aliasName:e.aliasName,applicationName:e.applicationName,getWiFiStatsMethod:e.getWiFiStatsMethod,confID:e.confID,siteID:e.siteID,configParams:e.configParams})||b.error("CallStats Backend initialization failed bad")}function S(e,t){this.rtpStatsMap=new Map,this.eventEmitter=new o.a,this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==S.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,l.a.isReactNative()?E(this.options):function(e){y||(f.a.loadScript(e.customScriptUrl||_.a,!0,!0,void 0,(function(){return E(e)})),y=!0)}(this.options),this.options.confID||b.warn('"confID" is not defined')),this.callsStatsInstances=new Map,S.instances.add(this)}S.init=function(e){S.audioLevelsEnabled=!e.disableAudioLevels,"number"==typeof e.pcStatsInterval&&(S.pcStatsInterval=e.pcStatsInterval),"number"==typeof e.audioLevelsInterval&&(S.audioLevelsInterval=e.audioLevelsInterval),"number"==typeof e.longTasksStatsInterval&&(S.longTasksStatsInterval=e.longTasksStatsInterval),S.disableThirdPartyRequests=e.disableThirdPartyRequests},S.audioLevelsEnabled=!1,S.audioLevelsInterval=200,S.pcStatsInterval=1e4,S.disableThirdPartyRequests=!1,S.analytics=h.a,S.analyticsEventEmitter=new o.a,Object.defineProperty(S,"instances",{get:function(){return r||(r=new Set),r}}),S.prototype.startRemoteStats=function(e){this.stopRemoteStats(e);try{var t=new g.a(e,S.audioLevelsInterval,S.pcStatsInterval,this.eventEmitter);t.start(S.audioLevelsEnabled),this.rtpStatsMap.set(e.id,t)}catch(e){b.error("Failed to start collecting remote statistics: "+e)}},S.localStats=[],S.startLocalStats=function(e,t){if(S.audioLevelsEnabled){var n=new m.a(e,S.audioLevelsInterval,t);this.localStats.push(n),n.start()}},S.prototype.addAudioLevelListener=function(e){S.audioLevelsEnabled&&this.eventEmitter.on(c.a,e)},S.prototype.removeAudioLevelListener=function(e){S.audioLevelsEnabled&&this.eventEmitter.removeListener(c.a,e)},S.prototype.addBeforeDisposedListener=function(e){this.eventEmitter.on(c.b,e)},S.prototype.removeBeforeDisposedListener=function(e){this.eventEmitter.removeListener(c.b,e)},S.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(c.d,e)},S.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(c.d,e)},S.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(c.c,e)},S.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(c.c,e)},S.prototype.addLongTasksStatsListener=function(e){this.eventEmitter.on(c.e,e)},S.prototype.attachLongTasksStats=function(e){var t=this;l.a.supportsPerformanceObserver()?(this.performanceObserverStats=new v.a(this.eventEmitter,S.longTasksStatsInterval),e.on(a.CONFERENCE_JOINED,(function(){return t.performanceObserverStats.startObserver()})),e.on(a.CONFERENCE_LEFT,(function(){return t.performanceObserverStats.stopObserver()}))):b.warn("Performance observer for long tasks not supported by browser!")},S.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null},S.prototype.removeLongTasksStatsListener=function(e){this.eventEmitter.removeListener(c.e,e)},S.prototype.setSpeakerList=function(e){for(var t=0,n=Array.from(this.rtpStatsMap.values());t<n.length;t++){var r=n[t];r.peerconnection.isP2P||r.setSpeakerList(e)}},S.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(c.b);var e,t=_createForOfIteratorHelper(this.callsStatsInstances.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.stopCallStats(n.tpc)}}catch(a){t.e(a)}finally{t.f()}var r,i=_createForOfIteratorHelper(this.rtpStatsMap.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value;this._stopRemoteStats(o)}}catch(a){i.e(a)}finally{i.f()}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{S.instances.delete(this)}},S.stopLocalStats=function(e){if(S.audioLevelsEnabled)for(var t=0;t<S.localStats.length;t++)if(S.localStats[t].stream===e){S.localStats.splice(t,1)[0].stop();break}},S.prototype._stopRemoteStats=function(e){var t=this.rtpStatsMap.get(e);t&&(t.stop(),this.rtpStatsMap.delete(e))},S.prototype.stopRemoteStats=function(e){this._stopRemoteStats(e.id)},S.prototype.startCallStats=function(e,t){if(this.callStatsIntegrationEnabled)if(this.callsStatsInstances.has(e.id))b.error("CallStats instance for ${tpc} exists already");else{b.info("Starting CallStats for ".concat(e,"..."));var n=new p.a(e,{confID:this.options.confID,remoteUserID:t});this.callsStatsInstances.set(e.id,n)}},S._getAllCallStatsInstances=function(){var e,t=new Set,n=_createForOfIteratorHelper(S.instances);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=_createForOfIteratorHelper(i.callsStatsInstances.values());try{for(o.s();!(r=o.n()).done;){var a=r.value;t.add(a)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}return t},S.prototype.stopCallStats=function(e){var t=this.callsStatsInstances.get(e.id);t&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(c.b),this.callsStatsInstances.delete(e.id),t.sendTerminateEvent())},S.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},S.prototype.sendConnectionResumeOrHoldEvent=function(e,t){var n=this.callsStatsInstances.get(e.id);n&&n.sendResumeOrHoldEvent(t)},S.prototype.sendIceConnectionFailedEvent=function(e){var t=this.callsStatsInstances.get(e.id);t&&t.sendIceConnectionFailedEvent()},S.prototype.sendMuteEvent=function(e,t,n){var r=e&&this.callsStatsInstances.get(e.id);p.a.sendMuteEvent(t,n,r)},S.prototype.sendScreenSharingEvent=function(e,t){var n,r=_createForOfIteratorHelper(this.callsStatsInstances.values());try{for(r.s();!(n=r.n()).done;)n.value.sendScreenSharingEvent(e,t)}catch(i){r.e(i)}finally{r.f()}},S.prototype.sendDominantSpeakerEvent=function(e){var t,n=_createForOfIteratorHelper(this.callsStatsInstances.values());try{for(n.s();!(t=n.n()).done;)t.value.sendDominantSpeakerEvent()}catch(r){n.e(r)}finally{n.f()}this.xmpp.sendDominantSpeakerEvent(e)},S.sendActiveDeviceListEvent=function(e){var t=S._getAllCallStatsInstances();if(t.size){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;p.a.sendActiveDeviceListEvent(e,i)}}catch(o){r.e(o)}finally{r.f()}}else p.a.sendActiveDeviceListEvent(e,null)},S.prototype.associateStreamWithVideoTag=function(e,t,n,r,i,o){var a=this.callsStatsInstances.get(e.id);a&&a.associateStreamWithVideoTag(t,n,r,i,o)},S.sendGetUserMediaFailed=function(e){var t=e instanceof s.a?function(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - "+e.gum.error.name:""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t}(e):e,n=S._getAllCallStatsInstances();if(n.size){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;p.a.sendGetUserMediaFailed(t,o)}}catch(a){i.e(a)}finally{i.f()}}else p.a.sendGetUserMediaFailed(t,null)},S.prototype.sendCreateOfferFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateOfferFailed(e)},S.prototype.sendCreateAnswerFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateAnswerFailed(e)},S.prototype.sendSetLocalDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetLocalDescFailed(e)},S.prototype.sendSetRemoteDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetRemoteDescFailed(e)},S.prototype.sendAddIceCandidateFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendAddIceCandidateFailed(e)},S.sendLog=function(e){var t,n=new Set,r=_createForOfIteratorHelper(S.instances);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.callStatsApplicationLogsDisabled)return;i.callsStatsInstances.size&&n.add(i.callsStatsInstances.values().next().value)}}catch(u){r.e(u)}finally{r.f()}if(n.size){var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;p.a.sendApplicationLog(e,s)}}catch(u){a.e(u)}finally{a.f()}}else p.a.sendApplicationLog(e,null)},S.prototype.sendFeedback=function(e,t){return S.analytics.sendEvent(u.n,{rating:e,comment:t}),p.a.sendFeedback(this.options.confID,e,t)},S.LOCAL_JID=n(589).LOCAL_JID,S.reportGlobalError=function(e){e instanceof s.a&&e.gum?S.sendGetUserMediaFailed(e):S.sendLog(e)},S.sendAnalyticsAndLog=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(t="object"==typeof e?e:{name:e,properties:n},b.log(JSON.stringify(t)),this.analytics.sendEvent(e,n)):b.warn("No event or event name given.")},S.sendAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(e,t),S.analyticsEventEmitter.emit(a.ANALYTICS_EVENT_RECEIVED,e,t)},S.prototype.addAnalyticsEventListener=function(e){S.analyticsEventEmitter.on(a.ANALYTICS_EVENT_RECEIVED,e)},S.prototype.removeAnalyticsEventListener=function(e){S.analyticsEventEmitter.removeListener(a.ANALYTICS_EVENT_RECEIVED,e)}}).call(this,"/index.js")},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"RTCEvents",(function(){return r})),n.d(t,"CREATE_ANSWER_FAILED",(function(){return i})),n.d(t,"CREATE_OFFER_FAILED",(function(){return o})),n.d(t,"DATA_CHANNEL_OPEN",(function(){return a})),n.d(t,"ENDPOINT_CONN_STATUS_CHANGED",(function(){return s})),n.d(t,"DOMINANT_SPEAKER_CHANGED",(function(){return u})),n.d(t,"LASTN_ENDPOINT_CHANGED",(function(){return c})),n.d(t,"FORWARDED_SOURCES_CHANGED",(function(){return l})),n.d(t,"PERMISSIONS_CHANGED",(function(){return d})),n.d(t,"SENDER_VIDEO_CONSTRAINTS_CHANGED",(function(){return f})),n.d(t,"LASTN_VALUE_CHANGED",(function(){return h})),n.d(t,"LOCAL_TRACK_SSRC_UPDATED",(function(){return p})),n.d(t,"LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED",(function(){return m})),n.d(t,"TRACK_ATTACHED",(function(){return v})),n.d(t,"REMOTE_TRACK_ADDED",(function(){return g})),n.d(t,"REMOTE_TRACK_MUTE",(function(){return _})),n.d(t,"REMOTE_TRACK_REMOVED",(function(){return b})),n.d(t,"REMOTE_TRACK_UNMUTE",(function(){return y})),n.d(t,"SET_LOCAL_DESCRIPTION_FAILED",(function(){return E})),n.d(t,"SET_REMOTE_DESCRIPTION_FAILED",(function(){return S})),n.d(t,"AUDIO_OUTPUT_DEVICE_CHANGED",(function(){return D})),n.d(t,"DEVICE_LIST_CHANGED",(function(){return w})),n.d(t,"DEVICE_LIST_WILL_CHANGE",(function(){return C})),n.d(t,"DEVICE_LIST_AVAILABLE",(function(){return T})),n.d(t,"ENDPOINT_MESSAGE_RECEIVED",(function(){return A})),n.d(t,"ENDPOINT_STATS_RECEIVED",(function(){return k})),n.d(t,"LOCAL_UFRAG_CHANGED",(function(){return O})),n.d(t,"REMOTE_UFRAG_CHANGED",(function(){return R})),function(e){e.CREATE_ANSWER_FAILED="rtc.create_answer_failed",e.CREATE_OFFER_FAILED="rtc.create_offer_failed",e.DATA_CHANNEL_OPEN="rtc.data_channel_open",e.ENDPOINT_CONN_STATUS_CHANGED="rtc.endpoint_conn_status_changed",e.DOMINANT_SPEAKER_CHANGED="rtc.dominant_speaker_changed",e.LASTN_ENDPOINT_CHANGED="rtc.lastn_endpoint_changed",e.FORWARDED_SOURCES_CHANGED="rtc.forwarded_sources_changed",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.SENDER_VIDEO_CONSTRAINTS_CHANGED="rtc.sender_video_constraints_changed",e.LASTN_VALUE_CHANGED="rtc.lastn_value_changed",e.LOCAL_TRACK_SSRC_UPDATED="rtc.local_track_ssrc_updated",e.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED="rtc.local_track_max_enabled_resolution_changed",e.TRACK_ATTACHED="rtc.track_attached",e.REMOTE_TRACK_ADDED="rtc.remote_track_added",e.REMOTE_TRACK_MUTE="rtc.remote_track_mute",e.REMOTE_TRACK_REMOVED="rtc.remote_track_removed",e.REMOTE_TRACK_UNMUTE="rtc.remote_track_unmute",e.SET_LOCAL_DESCRIPTION_FAILED="rtc.set_local_description_failed",e.SET_REMOTE_DESCRIPTION_FAILED="rtc.set_remote_description_failed",e.AUDIO_OUTPUT_DEVICE_CHANGED="rtc.audio_output_device_changed",e.DEVICE_LIST_CHANGED="rtc.device_list_changed",e.DEVICE_LIST_WILL_CHANGE="rtc.device_list_will_change",e.DEVICE_LIST_AVAILABLE="rtc.device_list_available",e.ENDPOINT_MESSAGE_RECEIVED="rtc.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="rtc.endpoint_stats_received",e.LOCAL_UFRAG_CHANGED="rtc.local_ufrag_changed",e.REMOTE_UFRAG_CHANGED="rtc.remote_ufrag_changed"}(r||(r={}));var i=r.CREATE_ANSWER_FAILED,o=r.CREATE_OFFER_FAILED,a=r.DATA_CHANNEL_OPEN,s=r.ENDPOINT_CONN_STATUS_CHANGED,u=r.DOMINANT_SPEAKER_CHANGED,c=r.LASTN_ENDPOINT_CHANGED,l=r.FORWARDED_SOURCES_CHANGED,d=r.PERMISSIONS_CHANGED,f=r.SENDER_VIDEO_CONSTRAINTS_CHANGED,h=r.LASTN_VALUE_CHANGED,p=r.LOCAL_TRACK_SSRC_UPDATED,m=r.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,v=r.TRACK_ATTACHED,g=r.REMOTE_TRACK_ADDED,_=r.REMOTE_TRACK_MUTE,b=r.REMOTE_TRACK_REMOVED,y=r.REMOTE_TRACK_UNMUTE,E=r.SET_LOCAL_DESCRIPTION_FAILED,S=r.SET_REMOTE_DESCRIPTION_FAILED,D=r.AUDIO_OUTPUT_DEVICE_CHANGED,w=r.DEVICE_LIST_CHANGED,C=r.DEVICE_LIST_WILL_CHANGE,T=r.DEVICE_LIST_AVAILABLE,A=r.ENDPOINT_MESSAGE_RECEIVED,k=r.ENDPOINT_STATS_RECEIVED,O=r.LOCAL_UFRAG_CHANGED,R=r.REMOTE_UFRAG_CHANGED;t.default=r},function(e,t,n){"use strict";(function(e){var r=n(5),i=n(44),o=n.n(i),a=n(18),s=n(6),u=n(133),c=n.n(u),l=Object(r.getLogger)(e),d={filterSpecialChars:function(e){return e?e.replace(/[\\\/\{,\}\+]/g,""):e},iceparams:function(e,t){var n,r,i=null;return(r=d.findLine(e,"a=ice-ufrag:",t))&&(n=d.findLine(e,"a=ice-pwd:",t))&&(i={ufrag:d.parseICEUfrag(r),pwd:d.parseICEPwd(n)}),i},parseICEUfrag:function(e){return e.substring(12)},buildICEUfrag:function(e){return"a=ice-ufrag:"+e},parseICEPwd:function(e){return e.substring(10)},buildICEPwd:function(e){return"a=ice-pwd:"+e},parseMID:function(e){return e.substring(6)},parseMSIDAttribute:function(e){var t=e.find((function(e){return e.indexOf(" msid:")>0}));if(t){var n=t.substring(t.indexOf(" msid:")+6);return d.filterSpecialChars(n)}},parseMLine:function(e){var t={},n=e.substring(2).split(" ");return t.media=n.shift(),t.port=n.shift(),t.proto=n.shift(),""===n[n.length-1]&&n.pop(),t.fmt=n,t},buildMLine:function(e){return"m=".concat(e.media," ").concat(e.port," ").concat(e.proto," ").concat(e.fmt.join(" "))},parseRTPMap:function(e){var t={},n=e.substring(9).split(" ");return t.id=n.shift(),n=n[0].split("/"),t.name=n.shift(),t.clockrate=n.shift(),t.channels=n.length?n.shift():"1",t},parseSCTPMap:function(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null]},parseSCTPPort:function(e){return e.substring(12)},buildRTPMap:function(e){var t="a=rtpmap:".concat(e.getAttribute("id")," ").concat(e.getAttribute("name"),"/").concat(e.getAttribute("clockrate"));return e.getAttribute("channels")&&"1"!==e.getAttribute("channels")&&(t+="/"+e.getAttribute("channels")),t},parseCrypto:function(e){var t={},n=e.substring(9).split(" ");return t.tag=n.shift(),t["crypto-suite"]=n.shift(),t["key-params"]=n.shift(),n.length&&(t["session-params"]=n.join(" ")),t},parseFingerprint:function(e){var t={},n=e.substring(14).split(" ");return t.hash=n.shift(),t.fingerprint=n.shift(),t},parseFmtp:function(e){var t=[],n=e.split(" ");n.shift(),n=n.join(" ").split(";");for(var r=0;r<n.length;r++){for(var i=n[r].split("=")[0];i.length&&" "===i[0];)i=i.substring(1);var o=n[r].split("=")[1];i&&o?t.push({name:i,value:o}):i&&t.push({name:"",value:i})}return t},parseICECandidate:function(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:l.debug('parseICECandidate not translating "'.concat(n[r],'" = "').concat(n[r+1],'"'))}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},buildICECandidate:function(e){var t=["a=candidate:"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",t+=" ",t+=e.hasOwnAttribute("generation")?e.generation:"0"},parseSSRC:function(e){for(var t=new Map,n=e.split("\r\n"),r=0;r<n.length;r++)if("a=ssrc:"===n[r].substring(0,7)){var i=n[r].split("a=ssrc:")[1].split(" ")[0];t.get(i)||t.set(i,[]),t.get(i).push(n[r])}return t},parseSourceNameLine:function(e){var t=e.find((function(e){return e.indexOf(" name:")>0}));return null==t?void 0:t.substring(t.indexOf(" name:")+6)},parseRTCPFB:function(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parseExtmap:function(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1===n.value.indexOf("/")?n.direction="both":(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))),n.uri=t.shift(),n.params=t,n},findLine:function(e,t,n){for(var r=e.split("\r\n"),i=0;i<r.length;i++)if(r[i].substring(0,t.length)===t)return r[i];if(!n)return!1;r=n.split("\r\n");for(var o=0;o<r.length;o++)if(r[o].substring(0,t.length)===t)return r[o];return!1},findLines:function(e,t,n){for(var r=e.split("\r\n"),i=[],o=0;o<r.length;o++)r[o].substring(0,t.length)===t&&i.push(r[o]);if(i.length||!n)return i;r=n.split("\r\n");for(var a=0;a<r.length;a++)r[a].substring(0,t.length)===t&&i.push(r[a]);return i},candidateToJingle:function(e){if(0===e.indexOf("candidate:"))e="a="+e;else if("a=candidate:"!==e.substring(0,12))return l.warn("parseCandidate called with a line that is not a candidate line"),l.warn(e),null;"\r\n"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t={},n=e.split(" ");if("typ"!==n[6])return l.warn("did not find typ in the right place"),l.warn(e),null;t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0";for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:l.debug('not translating "'.concat(n[r],'" = "').concat(n[r+1],'"'))}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},candidateFromJingle:function(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(s.a.isFirefox()&&"ssltcp"===n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" "+e.getAttribute("type"),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ")}return"tcp"===n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",(t+=e.getAttribute("generation")||"0")+"\r\n"},parsePrimaryVideoSsrc:function(e){var t=e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length,n=e.ssrcGroups&&e.ssrcGroups.length||0;if(!(t>1&&0===n)){var r=null;if(1===t)r=e.ssrcs[0].id;else if(2===t){var i=e.ssrcGroups.find((function(e){return"FID"===e.semantics}));i&&(r=i.ssrcs.split(" ")[0])}else if(t>=3){var o=e.ssrcGroups.find((function(e){return"SIM"===e.semantics}));o&&(r=o.ssrcs.split(" ")[0])}return r}},generateSsrc:function(){return c.a.randomInt(1,4294967295)},getSsrcAttribute:function(e,t,n){for(var r=0;r<e.ssrcs.length;++r){var i=e.ssrcs[r];if(i.id===t&&i.attribute===n)return i.value}},parseGroupSsrcs:function(e){return e.ssrcs.split(" ").map((function(e){return parseInt(e,10)}))},getMedia:function(e,t){return e.media.find((function(e){return e.type===t}))},getUfrag:function(e){var t=e.split("\n").filter((function(e){return e.startsWith("a=ice-ufrag:")}));if(t.length>0)return t[0].substr(12)},preferCodec:function(e,t){if(e&&t){var n=e.rtp.filter((function(e){return e.codec&&e.codec.toLowerCase()===t.toLowerCase()})).map((function(e){return e.payload}));if(n){var r,i=e.payloads.toString().split(" ").map((function(e){return parseInt(e,10)})),o=_createForOfIteratorHelper(n.reverse());try{for(o.s();!(r=o.n()).done;){var a=r.value,s=i.indexOf(a);i.splice(s,1),i.unshift(a)}}catch(u){o.e(u)}finally{o.f()}e.payloads=i.join(" ")}}},stripCodec:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){var r,i=[],s=[],u=t.toLowerCase()===o.a.H264&&n,c=_createForOfIteratorHelper(e.rtp);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.codec&&l.codec.toLowerCase()===t.toLowerCase()&&(u?i.push(l.payload):s.push(l.payload))}}catch(m){c.e(m)}finally{c.f()}if(u&&(s=e.fmtp.filter((function(e){return i.indexOf(e.payload)>-1&&e.config.includes("profile-level-id=64")})).map((function(e){return e.payload}))),s.length>0){var d,f=s.map((function(e){return"apt="+e})),h=e.fmtp.filter((function(e){return-1!==f.indexOf(e.config)}));(d=s).push.apply(d,_toConsumableArray(h.map((function(e){return e.payload}))));var p=e.payloads.toString().split(" ").map(Number).filter((function(e){return-1===s.indexOf(e)}));0===p.length?(e.port=0,e.direction=a.a.INACTIVE,e.payloads="*"):e.payloads=p.join(" "),e.rtp=e.rtp.filter((function(e){return-1!==p.indexOf(e.payload)})),e.fmtp=e.fmtp.filter((function(e){return-1!==p.indexOf(e.payload)})),e.rtcpFb&&(e.rtcpFb=e.rtcpFb.filter((function(e){return-1!==p.indexOf(e.payload)})))}}}};t.a=d}).call(this,"/index.js")},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(23),u=n(8),c=n(108),l=n(14),d=n(130),f=n(472),h=n(215),p=n(718),m=n(473);function v(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n}function g(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}t.each=function(e){return[].slice.call(e||[])},t.getPort=function(){if(a)return a;if("undefined"!=typeof chrome&&chrome.runtime)try{a=chrome.runtime.connect({name:"knockknock"})}catch(e){}else a={postMessage:function(){},onMessage:{addListener:function(){},removeListener:function(){}}};return a},t.linkify=function(e){return p.default(e,{defaultProtocol:"https",target:"_blank"})},t.getMethod=function(e){return e.replace(/_([a-z])/g,(function(e){return e[1].toUpperCase()}))},t.checkFalsy=function(e){return null==e||isNaN(e)||!1===e},t.splitUrl=function(e){var t,n,r;return(n=e.indexOf("#"))>=0?(t=e.slice(n),e=e.slice(0,n)):t="",(n=e.indexOf("?"))>=0?(r=e.slice(n),e=e.slice(0,n)):r="",{url:e,params:r,hash:t}},t.updateQueryStringParameter=v,t.getQueryStringValue=g,t.getURL=function(e){return v(window.location.href,"cbid",e)},t.pathFromUrl=function(e){var n;return n=0===(e=t.splitUrl(e).url).indexOf("file://")?e.replace(new RegExp("^file://(localhost)?"),""):e.replace(new RegExp("^([^:]+:)?//([^:/]+)(:\\d*)?/"),"/"),decodeURIComponent(n)},t.pickBestMatch=function(e,n,r){var i,o={score:0,object:null};return n.forEach((function(n){(i=t.numberOfMatchingSegments(e,r(n)))>o.score&&(o={object:n,score:i})})),o.score>0?o:null},t.numberOfMatchingSegments=function(e,t){if((e=b(e))===(t=b(t)))return 1e4;for(var n=e.split("/").reverse(),r=t.split("/").reverse(),i=Math.min(n.length,r.length),o=0;o<i&&n[o]===r[o];)++o;return o},t.pathsMatch=function(e,n){return t.numberOfMatchingSegments(e,n)>0},t.getLocation=function(e){var t=document.createElement("a");return t.href=e,""===t.host&&(t.href=t.href),t},t.isURL=function(e){var t=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");return e.length<2083&&t.test(e)},t.updateSearch=function(e,t,n){return""===e?"?"+n:"?"+e.slice(1).split("&").map((function(e){return e.split("=")})).filter((function(e){return e[0]!==t})).map((function(e){return[e[0],e[1]].join("=")})).concat(n).join("&")};var _=[function(e){return"map"===e.ext}];function b(e){return e.replace(/^\/+/,"").replace(/\\/g,"/").toLowerCase()}t.isBlacklisted=function(e){return _.some((function(t){return t(e)}))},t.isControlA=function(e){return!(!e.ctrlKey&&!e.metaKey||"a"!==String.fromCharCode(e.which).toLowerCase())},t.isFocus=function(){var e=document.activeElement;return e&&e!=document.body?document.querySelector&&(e=document.querySelector(":focus")):e=null,e},t.createTimedBooleanSwitch=function(e,t){return void 0===t&&(t=1e3),e.pipe(u.switchMap((function(){return s.concat(s.of(!1),s.timer(t).pipe(u.mapTo(!0)))})),u.startWith(!0))},t.array=function(e){return[].slice.call(e)},t.normalisePath=b;var y=D();function E(e){var t=function(t){return(n=e,n.split("").map((function(e){return e.charCodeAt(0)}))).reduce((function(e,t){return e^t}),t);var n};return function(e){return e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})).map(t).map((function(e){return String.fromCharCode(e)})).join("")}}function S(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function D(){return window!=top}function w(e,t,n){var r=n.getByKey("inputValueRemote");if(void 0===r)return n.setByKey("inputValueRemote",t),t;var i=(new f.diff_match_patch).patch_apply(e,r)[0];return n.setByKey("inputValueRemote",i),i}function C(e){return"checkbox"===e.type||"radio"===e.type}t.outgoing=function(e,t,n){if(!y)return[n,r({pathname:l.getPathname(),host:location.hostname,event_data:t},e)];a.postMessage([n,r({pathname:l.getPathname(),host:location.hostname,event_data:t},e)])},t.cipher=function(e){var t=function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))},n=function(e){return("0"+Number(e).toString(16)).substr(-2)},r=function(n){return t(e).reduce((function(e,t){return e^t}),n)};return function(e){return e.toString().split("").map(t).map(r).map(n).join("")}},t.decipher=E,t.getRandomColor=S,t.syncWithParams=function(e,t){var n=g("cbid",t),r=E(c.SECRET_SALT),i=[];return n&&(i=r(n).split("__"),e.isQueryParam=!0,e.guestName=i[1],e.session_id=i[0]),e},t.syncWithLocalStorage=function(e,t){var n=t.room,r=t.user;return n&&(e.session_id=n.session_id),r&&(e.id=r.id,e.name=r.name,e.email=r.name,e.avatar=r.name),e},t.getMouseId=function(e){return"cb--custom-mouse-"+e},t.appendInlineStyle=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");e&&(e.appendChild(t),t.type="text/css",t.appendChild(document.createTextNode(".cb__customMouse{position:fixed;top:0;left:0;z-index:2147483638}.cb__customMouse svg{height:24px;width:24px}.cb__customMouse .cb__customMouse__userName{font-family:Roboto,sans-serif;padding:5px;font-size:14px;line-height:16px;color:#fff;font-weight:500;margin-left:14px;border-radius:5px}.cb__customMouse.cb__customMouse--hidden{display:none}")))},t.inIframe=D,t.getTime=function(e){var t=new Date(e),n=t.getTime()+198e5,r=(t=new Date(n)).getHours(),i=t.getMinutes().toString();i=1===i.length?"0"+i:i;var o=r>12?r-12+":"+i+" PM":r+":"+i+" AM",a=t.toLocaleString("en-us",{month:"short"});return t.getDate()+" "+a+", "+o},t.getTimeLocal=function(){var e=new Date,t=e.getHours(),n=e.getMinutes().toString();n=1===n.length?"0"+n:n;var r=t>12?t-12+":"+n+" PM":t+":"+n+" AM",i=e.toLocaleString("en-us",{month:"short"});return e.getDate()+" "+i+", "+r},t.getTop=function(e){return"-"+(13*(e.length-1)+33)+"px"},t.getText=function(e){return e?"Minimize":"Maximize"},t.getDocumentObservable=function(e,t){return s.fromEvent(e,t,{capture:!0})},t.getWindowObservable=function(e,t){return s.fromEvent(e,t,{capture:!0})},t.getUserFromSubscriber=function(e){try{var t=e.stream.connection.options.metadata;return JSON.parse(t)}catch(e){return{}}},t.initializeDocLocal=function(e,t){var n;return n=e.hasAttribute("contenteditable")?e.innerHTML.trim()||"":e.value||"",t.setByKey("inputValueLocal",n),n},t.initializeDocRemote=function(e,t,n){void 0===t&&(t=""),e&&(e.hasAttribute("contenteditable")?e.innerHTML=t:e.value=t,n.setByKey("inputValueRemote",t))},t.getDiff=function(e,t){var n,r=t.getByKey("inputValueLocal");if(n=e.hasAttribute("contenteditable")?e.innerHTML.trim()||"":e.value||"",void 0===r)return t.setByKey("inputValueLocal",n),{value:n};var i=new f.diff_match_patch,o=i.diff_main(r,n);return i.diff_cleanupSemantic(o),t.setByKey("inputValueLocal",n),{diff_data:i.patch_make(r,o)}},t.applyPatch=w,t.setNativeValue=function(e,t,n,r){if(e.hasAttribute("contenteditable"))e.innerHTML=w(t,n,r);else{var i=Object.getPrototypeOf(e),o=Object.getOwnPropertyDescriptor(i,"value");if(o&&o.set&&(o=o.set),!o)return;o.call(e,w(t,n,r))}},t.getPresignedUrl=function(e){return new Promise((function(t,n){var r={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h.default.getByKey("cb__token")},body:JSON.stringify({fileType:e.fileType,fileName:e.fileName})};fetch(c.GET_PRESIGNED_URL,r).then((function(e){if(e.ok)return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))},t.compressFile=function(e,t){return new Promise((function(n,r){"attachment"===t?n(e):new m(e,{quality:.6,success:function(e){n(e)},error:function(e){r(e.message)}})}))},t.getUniqueNumber=function(){return Math.floor(1e5+9e5*Math.random())},t.formatBytes=function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"},t.getFileNameFromUrl=function(e){var t=e.split("/");return t[t.length-1]},t.setCheckboxOrRadioLabelClick=function(e,t){var n;if(e.path&&Array.isArray(e.path))for(var r=0;r<e.path.length;r++)"LABEL"===e.path[r].tagName&&(n=!!e.path[r]);var i=e.target.getAttribute("for");(i&&document.getElementById(i)||n)&&t.setByKey("lastTS",Date.now())},t.radioOrCheckbox=C,t.stopRemoteEventEcho=function(e,t,n){if(C(e)&&Date.now()-t.getByKey(n)<100)return!0},t.stopLocalEventEcho=function(e,t){return C(e.target)&&Date.now()-t.getByKey("lastTS")<100},t.getDimensions=function(){return{x:Math.max(document.documentElement.clientWidth,window.innerWidth||0),y:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},t.urlify=function(e){return e.replace(/(https?:\/\/[^\s]+)/g,(function(e){return'<a target="_blank" href="'+e+'">'+e+"</a>"}))},t.isOnlyEmojis=function(e){return!function(e){return e.replace(new RegExp(c.EMOJI_RANGES_REGEX,"g"),"")}(e).length},t.stringToHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.isEmoji=function(e){return!!e.match(["(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\xa9|\xae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26ff]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])"].join("|"))},t.parseQuery=function(e){for(var t={},n=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return t},t.getToken=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:e=h.default.getByKey("sessionParams"),t={name:e.name,email:location.host,avatar:l.pathNameHashOrLocation()},e.id&&(t.id=e.id),d.getL("userColor")?t.color=d.getL("userColor"):(n=S(),d.setL("userColor",n),t.color=n),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t,apiKey:"27fd6f9e85c304447d3cc0fb31e7ba8062df58af86ac3f9437"})},o.label=1;case 1:return o.trys.push([1,5,,6]),[4,fetch(c.GENERATE_TOKEN_URL,r)];case 2:return(i=o.sent()).ok?[4,i.json()]:[3,4];case 3:return a=o.sent(),s=a.token,h.default.setByKey("cb__token",s),[2,s];case 4:return[3,6];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))},t.encodeHTML=function(e){return e.replace(/([\u00A0-\u9999<>&])(.|$)/g,(function(e,t,n){return"&"!==t||"#"!==n?(/[\u00A0-\u9999<>&]/.test(n)&&(n="&#"+n.charCodeAt(0)+";"),"&#"+t.charCodeAt(0)+";"+n):e}))},t.decodeHTML=function(e){return e.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCharCode(parseInt(t))}))},t.getUser=function(e,t){var n=e.getParticipantId(),r=t.participants,i=r[n];return i&&Object.keys(i).length?r[n]._identity.user:{}},t.selectElementByAttributes=function(e,t){for(var n="",r=0;r<e.length;r++)n="["+e[r]+'="'+t[r]+'"]'+n;return document.querySelectorAll(n)[0]},t.matchElementByAttributes=function(e,t,n){var r,i;i=(r=n.getAttributeNames()).map((function(e){return n.getAttribute(e)}));for(var o=0;o<e.length;o++)if(e[o]!==r[o])return!1;for(o=0;o<t.length;o++)if(t[o]!==i[o])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(108),i=n(13);function o(){return window.location.pathname}function a(){return window}function s(e,t){var n,r,i=t.documentElement,o=t.body;return void 0!==e.pageYOffset?(n=e.pageXOffset,r=e.pageYOffset):(n=i.scrollLeft||o.scrollLeft||0,r=i.scrollTop||o.scrollTop||0),{x:n,y:r}}function u(e){var t=e.documentElement,n=e.body;return{x:n.scrollHeight-t.clientWidth,y:n.scrollHeight-t.clientHeight}}function c(e,t){var n=document.getElementsByTagName(t);return Array.prototype.indexOf.call(n,e)}function l(e,t){return d(u(t),e).y}function d(e,t){return{x:t.x/e.x||0,y:t.y/e.y}}function f(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(e[a]!==t[a])return!1}return!0}t.pathNameHashOrLocation=o,t.getPathname=function(){return o()},t.getMousePosition=function(e){var t=e.clientY/window.screen.availHeight*100;return{x:e.clientX/window.screen.availWidth*100,y:t}},t.getMousePositionTouch=function(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}},t.getRandom=function(){return Math.random().toString(36).substr(2,6)},t.getWindow=a,t.getBrowserScrollPosition=s,t.getDocumentScrollSpace=u,t.getElementIndex=c,t.childElementIndex=function(e,t){return Array.prototype.slice.call(e).indexOf(t)},t.forceChange=function(e){e.blur(),e.focus()},t.getElementData=function(e){var t=e.tagName;return{tagname:t,index:c(e,t)}},t.setScroll=function(e){a().scrollTo(e.x,e.y)},t.reloadBrowser=function(){a().location.reload(!0)},t.forEach=function(e,t){for(var n=0,r=e.length;n<r;n+=1)t(e[n],n,e)},t.getScrollPosition=function(e,t){var n=s(e,t);return{raw:n,proportional:l(n,t)}},t.getScrollPositionForElement=function(e){var t={x:e.scrollLeft,y:e.scrollTop};return{raw:t,proportional:d({x:e.scrollWidth,y:e.scrollHeight},t).y}},t.getScrollTopPercentage=l,t.getScrollPercentage=d,t.getKeyboardEventProps=function(e){var t={};return r.KEYBOARD_EVENTS_DICT.forEach((function(n){(function(e){return null==e||!1===e||0===e})(e[n])||(t[n]=e[n])})),t},t.getOptions=function(e){var t=e.event_data;return t.view=window,t},t.getFlatOptions=function(e){var t=[];for(var n in e.event_data)t.push(e.event_data[n]);return t.toString()},t.getStyle=function(e,t){var n,r=(e.ownerDocument||document).defaultView;return r&&r.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,r=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=r,t}(n):n):void 0},t.skipToolbox=function(e){return e===document?e.documentElement.closest("#"+r.CB__TOOLBOX_CONTAINER):e.closest("#"+r.CB__TOOLBOX_CONTAINER)},t.isCustomMouse=function(e){return e.closest("."+r.CB__CUSTOM_MOUSE_CLASS)},t.getProjectedCoords=function(e){return{pHeight:window.screen.availHeight*e.y/100,pWidth:window.screen.availWidth*e.x/100}},t.isMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},t.isTextSelected=function(){var e="";return window.getSelection&&(e=window.getSelection().toString()),e},t.shallowEqual=f,t.handleDefaultClick=function(e,t,n){var r,o,a,s,u=document.querySelectorAll("a");try{s=t.indexOf("?"),r=t.substring(0,s),a=(o=JSON.parse(t.substring(s+1,t.length))).completeUrl,delete o.completeUrl}catch(e){}for(var c=0;c<u.length;c++)if(e&&f(o,i.parseQuery(u[c].href))&&r===i.getLocation(u[c].href).pathname&&e.closest("a")===u[c])return void(e&&e.click&&e.click());for(c=0;c<u.length;c++)if(u[c].href&&f(o,i.parseQuery(u[c].href))&&r===i.getLocation(u[c].href).pathname)return void u[c].click();var l=e&&e.closest("a");e&&l&&i.getLocation(l).pathname===r&&f(o,i.parseQuery(l.href))?e&&e.click&&e.click():window.location.href=a}},function(e,t,n){"use strict";var r;n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return o})),n.d(t,"v",(function(){return a})),n.d(t,"w",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return D})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return T})),n.d(t,"z",(function(){return A})),n.d(t,"B",(function(){return k})),n.d(t,"A",(function(){return O})),n.d(t,"C",(function(){return R})),n.d(t,"D",(function(){return M})),n.d(t,"E",(function(){return I})),n.d(t,"I",(function(){return P})),n.d(t,"L",(function(){return N})),n.d(t,"F",(function(){return x})),n.d(t,"G",(function(){return F})),n.d(t,"H",(function(){return L})),n.d(t,"J",(function(){return j})),n.d(t,"K",(function(){return B})),n.d(t,"M",(function(){return U})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return V})),n.d(t,"N",(function(){return q})),function(e){e.TYPE_OPERATIONAL="operational",e.TYPE_PAGE="page",e.TYPE_TRACK="track",e.TYPE_UI="ui",e.ACTION_JINGLE_RESTART="restart",e.ACTION_JINGLE_SA_TIMEOUT="session-accept.timeout",e.ACTION_JINGLE_SI_RECEIVED="session-initiate.received",e.ACTION_JINGLE_SI_TIMEOUT="session-initiate.timeout",e.ACTION_JINGLE_TERMINATE="terminate",e.ACTION_JINGLE_TR_RECEIVED="transport-replace.received",e.ACTION_JINGLE_TR_SUCCESS="transport-replace.success",e.ACTION_P2P_DECLINED="decline",e.ACTION_P2P_ESTABLISHED="established",e.ACTION_P2P_FAILED="failed",e.ACTION_P2P_SWITCH_TO_JVB="switch.to.jvb",e.AVAILABLE_DEVICE="available.device",e.CONNECTION_DISCONNECTED="connection.disconnected",e.FEEDBACK="feedback",e.ICE_DURATION="ice.duration",e.ICE_ESTABLISHMENT_DURATION_DIFF="ice.establishment.duration.diff",e.ICE_STATE_CHANGED="ice.state.changed",e.NO_BYTES_SENT="track.no-bytes-sent",e.TRACK_UNMUTED="track.unmuted"}(r||(r={}));var i=r.TYPE_OPERATIONAL,o=r.TYPE_PAGE,a=r.TYPE_TRACK,s=r.TYPE_UI,u=r.ACTION_JINGLE_RESTART,c=r.ACTION_JINGLE_SA_TIMEOUT,l=r.ACTION_JINGLE_SI_RECEIVED,d=r.ACTION_JINGLE_SI_TIMEOUT,f=r.ACTION_JINGLE_TERMINATE,h=r.ACTION_JINGLE_TR_RECEIVED,p=r.ACTION_JINGLE_TR_SUCCESS,m=r.ACTION_P2P_DECLINED,v=r.ACTION_P2P_ESTABLISHED,g=r.ACTION_P2P_FAILED,_=r.ACTION_P2P_SWITCH_TO_JVB,b=r.AVAILABLE_DEVICE,y=r.CONNECTION_DISCONNECTED,E=r.FEEDBACK,S=r.ICE_DURATION,D=r.ICE_ESTABLISHMENT_DURATION_DIFF,w=r.ICE_STATE_CHANGED,C=r.NO_BYTES_SENT,T=r.TRACK_UNMUTED,A=function(){return{action:"bridge.down",actionSubject:"bridge.down",type:i}},k=function(e,t,n){return{type:r.TYPE_OPERATIONAL,action:"connection.failed",attributes:Object.assign({error_type:e,error_message:t},n)}},O=function(e,t){return{action:e,attributes:t,source:"conference",type:r.TYPE_OPERATIONAL}},R=function(e,t){return{action:"connection.stage.reached",actionSubject:e,attributes:t,source:"connection.stage.reached",type:r.TYPE_OPERATIONAL}},M=function(){return{action:"focus.left",actionSubject:"focus.left",type:r.TYPE_OPERATIONAL}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,source:"get.user.media",action:e,attributes:t}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.TYPE_OPERATIONAL,source:"peer.conn.status",action:"duration",attributes:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.TYPE_OPERATIONAL,source:"track.streaming.status",action:"duration",attributes:e}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,action:e,source:"jingle",attributes:t}},F=function(e,t){return{attributes:{media_type:e,value:t},action:"track.no.data.from.source",type:r.TYPE_OPERATIONAL}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,action:e,source:"p2p",attributes:t}},j=function(e){return{type:r.TYPE_OPERATIONAL,action:"remotely.muted",mediaType:e}},B=function(e){return{type:r.TYPE_OPERATIONAL,action:"rtp.stats",attributes:e}},U=function(e){return{type:r.TYPE_OPERATIONAL,action:"transport.stats",attributes:e}},H=function(e,t,n){return{type:r.TYPE_OPERATIONAL,action:"audio.output.problem",attributes:{userID:e,localAudioLevels:t,remoteAudioLevels:n}}},V=function(e,t){return{type:r.TYPE_OPERATIONAL,action:"bridge-channel.error",attributes:{code:e,reason:t}}},q=function(e){return R("ttfm",e)}},function(e,t,n){"use strict";var r=n(5),i=n(6),o=Object(r.getLogger)("FeatureFlags");t.a=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){var t;this._sourceNameSignaling=Boolean(e.sourceNameSignaling),this._sendMultipleVideoStreams=Boolean(e.sendMultipleVideoStreams),this._usesUnifiedPlan=i.a.supportsUnifiedPlan()&&(!i.a.isChromiumBased()||null===(t=e.enableUnifiedOnChrome)||void 0===t||t),o.info("Source name signaling: ".concat(this._sourceNameSignaling,", Send multiple video streams: ").concat(this._sendMultipleVideoStreams,", uses Unified plan: ")+this._usesUnifiedPlan)}},{key:"isMultiStreamSupportEnabled",value:function(){return this._sourceNameSignaling&&this._sendMultipleVideoStreams&&this._usesUnifiedPlan}},{key:"isSourceNameSignalingEnabled",value:function(){return this._sourceNameSignaling}}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(163),i=n(9),o=n(134),a=n(169),s=n(83),u=n(132),c=n(67),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(u.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.INACTIVE="inactive",e.RECVONLY="recvonly",e.SENDONLY="sendonly",e.SENDRECV="sendrecv"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(65),i=n(136),o=n(17);function a(e,t,n,a,s){if(void 0===s&&(s=new r.a(e,n,a)),!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(9).a)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"VideoType",(function(){return r})),function(e){e.CAMERA="camera",e.DESKTOP="desktop"}(r||(r={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return i.a})),n.d(t,"GroupedObservable",(function(){return o.a})),n.d(t,"observable",(function(){return a.a})),n.d(t,"Subject",(function(){return s.a})),n.d(t,"BehaviorSubject",(function(){return u.a})),n.d(t,"ReplaySubject",(function(){return c.a})),n.d(t,"AsyncSubject",(function(){return l.a})),n.d(t,"asapScheduler",(function(){return d.a})),n.d(t,"asyncScheduler",(function(){return f.a})),n.d(t,"queueScheduler",(function(){return h.a})),n.d(t,"animationFrameScheduler",(function(){return _})),n.d(t,"VirtualTimeScheduler",(function(){return b})),n.d(t,"VirtualAction",(function(){return y})),n.d(t,"Scheduler",(function(){return E.a})),n.d(t,"Subscription",(function(){return S.a})),n.d(t,"Subscriber",(function(){return D.a})),n.d(t,"Notification",(function(){return w.a})),n.d(t,"NotificationKind",(function(){return w.b})),n.d(t,"pipe",(function(){return C.a})),n.d(t,"noop",(function(){return T.a})),n.d(t,"identity",(function(){return A.a})),n.d(t,"isObservable",(function(){return k})),n.d(t,"ArgumentOutOfRangeError",(function(){return O.a})),n.d(t,"EmptyError",(function(){return R.a})),n.d(t,"ObjectUnsubscribedError",(function(){return M.a})),n.d(t,"UnsubscriptionError",(function(){return I.a})),n.d(t,"TimeoutError",(function(){return P.a})),n.d(t,"bindCallback",(function(){return j})),n.d(t,"bindNodeCallback",(function(){return H})),n.d(t,"combineLatest",(function(){return J.b})),n.d(t,"concat",(function(){return z.a})),n.d(t,"defer",(function(){return K.a})),n.d(t,"empty",(function(){return W.b})),n.d(t,"forkJoin",(function(){return X})),n.d(t,"from",(function(){return Y.a})),n.d(t,"fromEvent",(function(){return ee})),n.d(t,"fromEventPattern",(function(){return te})),n.d(t,"generate",(function(){return ne})),n.d(t,"iif",(function(){return ie})),n.d(t,"interval",(function(){return ae})),n.d(t,"merge",(function(){return ue.a})),n.d(t,"never",(function(){return le})),n.d(t,"of",(function(){return de.a})),n.d(t,"onErrorResumeNext",(function(){return fe})),n.d(t,"pairs",(function(){return he})),n.d(t,"partition",(function(){return _e})),n.d(t,"race",(function(){return be.a})),n.d(t,"range",(function(){return ye})),n.d(t,"throwError",(function(){return Se.a})),n.d(t,"timer",(function(){return De.a})),n.d(t,"using",(function(){return we})),n.d(t,"zip",(function(){return Ce.b})),n.d(t,"scheduled",(function(){return Te.a})),n.d(t,"EMPTY",(function(){return W.a})),n.d(t,"NEVER",(function(){return ce})),n.d(t,"config",(function(){return Ae.a}));var r=n(17),i=n(207),o=n(198),a=n(83),s=n(37),u=n(208),c=n(155),l=n(100),d=n(168),f=n(42),h=n(217),p=n(0),m=n(102),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p.b(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m.a),g=n(99),_=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(g.a))(v),b=function(e){function t(t,n){void 0===t&&(t=y),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.b(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(g.a),y=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return p.b(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.a),E=n(186),S=n(29),D=n(9),w=n(73),C=n(132),T=n(69),A=n(76);function k(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var O=n(90),R=n(97),M=n(84),I=n(135),P=n(210),N=n(48),x=n(163),F=n(39),L=n(50);function j(e,t,n){if(t){if(!Object(L.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return j(e,n).apply(void 0,r).pipe(Object(N.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,s={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var i={args:t,subscriber:r,params:s};return n.schedule(B,0,i)}if(!o){o=new l.a;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){Object(x.a)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function B(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,u=i.subject;if(!u){u=i.subject=new l.a;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(U,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function U(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e,t,n){if(t){if(!Object(L.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return H(e,n).apply(void 0,r).pipe(Object(N.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var i=o.context,a=o.subject;if(n)return n.schedule(V,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new l.a;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(e){Object(x.a)(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function V(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,u=n.subject;if(!u){u=n.subject=new l.a;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(G,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(q,0,{value:i,subject:u}))}}]))}catch(e){this.add(s.schedule(G,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function q(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function G(e){var t=e.err;e.subject.error(t)}var J=n(157),z=n(110),K=n(159),W=n(53),$=n(162),Y=n(56);function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(F.a)(n))return Q(n,null);if(Object($.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Q(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return Q(e=1===e.length&&Object(F.a)(e[0])?e[0]:e,null).pipe(Object(N.a)((function(e){return i.apply(void 0,e)})))}return Q(e,null)}function Q(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Y.a)(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Z=n(91);function ee(e,t,n,i){return Object(Z.a)(n)&&(i=n,n=void 0),i?ee(e,t,n).pipe(Object(N.a)((function(e){return Object(F.a)(e)?i.apply(void 0,e):i(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,d=t.length;l<d;l++)e(t[l],n,r,i,o)}i.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function te(e,t,n){return n?te(e,t).pipe(Object(N.a)((function(e){return Object(F.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if(Object(Z.a)(t))return function(){return t(i,r)}}))}function ne(e,t,n,i,o){var a,s;if(1==arguments.length){var u=e;s=u.initialState,t=u.condition,n=u.iterate,a=u.resultSelector||A.a,o=u.scheduler}else void 0===i||Object(L.a)(i)?(s=e,a=A.a,o=i):(s=e,a=i);return new r.a((function(e){var r=s;if(o)return o.schedule(re,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var u=void 0;try{u=a(r)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function re(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function ie(e,t,n){return void 0===t&&(t=W.a),void 0===n&&(n=W.a),Object(K.a)((function(){return e()?t:n}))}var oe=n(104);function ae(e,t){return void 0===e&&(e=0),void 0===t&&(t=f.a),(!Object(oe.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=f.a),new r.a((function(n){return n.add(t.schedule(se,e,{subscriber:n,counter:0,period:e})),n}))}function se(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ue=n(212),ce=new r.a(T.a);function le(){return ce}var de=n(118);function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return W.a;var n=e[0],i=e.slice(1);return 1===e.length&&Object(F.a)(n)?fe.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(fe.apply(void 0,i).subscribe(e))};return Object(Y.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function he(e,t){return t?new r.a((function(n){var r=Object.keys(e),i=new S.a;return i.add(t.schedule(pe,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function pe(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var me=n(224),ve=n(136),ge=n(72);function _e(e,t,n){return[Object(ge.a)(t,n)(new r.a(Object(ve.a)(e))),Object(ge.a)(Object(me.a)(t,n))(new r.a(Object(ve.a)(e)))]}var be=n(213);function ye(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(Ee,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function Ee(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Se=n(156),De=n(214);function we(e,t){return new r.a((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?Object(Y.a)(i):W.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Ce=n(160),Te=n(216),Ae=n(67)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},,function(e,t,n){"use strict";(function(e){var r=n(5),i=n(34),o=n.n(i),a=n(93),s=n.n(a),u=n(47),c=n(33),l=n(139),d=n.n(l),f=n(11),h=n(233),p=n.n(h),m=n(22),v=n(15),g=n(6),_=n(12),b=n(10),y=n(27),E=n.n(y),S=n(46),D=n(85),w=Object(r.getLogger)(e);g.a.usesAdapter()&&n(716);var C,T=new o.a,A={video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},k="default",O=!1,R=!1,M=!1,I=!1,P=!1,N=null,x=document.createElement("audio"),F=void 0!==x.setSinkId,L=[];function j(){}function B(e,t){var n=Boolean(t)&&t.getAudioTracks().length>0,r=Boolean(t)&&t.getVideoTracks().length>0,i={};-1!==e.indexOf("video")&&(i.video=r),-1!==e.indexOf("audio")&&(i.audio=n),T.emit(f.default.PERMISSIONS_CHANGED,i)}function U(e){var t=e.filter((function(e){return"audioinput"===e.kind})).length,n=e.filter((function(e){return"audiooutput"===e.kind})).length,r=e.filter((function(e){return"videoinput"===e.kind})).length,i=e.filter((function(e){return"videooutput"===e.kind})).length;e.forEach((function(e){var o={audio_input_device_count:t,audio_output_device_count:n,video_input_device_count:r,video_output_device_count:i,device_id:e.deviceId,device_group_id:e.groupId,device_kind:e.kind,device_label:e.label};b.a.sendAnalytics(v.l,o)}))}function H(e){(function(e){return e.length!==L.length||e.map(t).sort().join("")!==L.map(t).sort().join("");function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}})(e)&&(L=e.slice(0),w.info("list of media devices has changed:",L),U(L),T.emit(f.default.DEVICE_LIST_WILL_CHANGE,L),T.emit(f.default.DEVICE_LIST_CHANGED,L))}var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,T)}return _createClass(n,[{key:"init",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof r.disableAEC&&(M=r.disableAEC,w.info("Disable AEC: "+M)),"boolean"==typeof r.disableNS&&(I=r.disableNS,w.info("Disable NS: "+I)),"boolean"==typeof r.disableAP&&(R=r.disableAP,w.info("Disable AP: "+R)),"boolean"==typeof r.disableAGC&&(P=r.disableAGC,w.info("Disable AGC: "+P)),"boolean"==typeof(null===(e=r.audioQuality)||void 0===e?void 0:e.stereo)&&(N=r.audioQuality.stereo,w.info("Stereo: "+N)),window.clearInterval(C),C=void 0,g.a.isReactNative()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(e){var t=e.id;return"number"==typeof t?t:_.a.filterSpecialChars(t)},this.getTrackID=function(e){return e.id}):(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(t=function(e,t){e&&(e.srcObject=t)},function(e,n){var r=t.apply(q,arguments);return n&&q.isDeviceChangeAvailable("output")&&n.getAudioTracks&&n.getAudioTracks().length&&O&&e.setSinkId(q.getAudioOutputDevice()).catch((function(t){var n=new u.a(t,null,["audiooutput"]);E.a.callUnhandledRejectionHandler({promise:this,reason:n}),w.warn("Failed to set audio output device for the element. Default audio output device will be used instead",e,n)})),r}),this.getStreamID=function(e){return e.id},this.getTrackID=function(e){return e.id}),this.pcConstraints=g.a.isChromiumBased()||g.a.isReactNative()?{optional:[{googScreencastMinBitrate:100},{googCpuOveruseDetection:!0}]}:{},D.b.init(r),this.isDeviceListAvailable()&&this.enumerateDevices((function(e){L=e.slice(0),w.debug("Available devices: ",L),U(L),T.emit(f.default.DEVICE_LIST_AVAILABLE,L),g.a.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener("devicechange",(function(){return n.enumerateDevices(j)})):C=window.setInterval((function(){return n.enumerateDevices(j)}),3e3)}))}},{key:"enumerateDevices",value:function(e){navigator.mediaDevices.enumerateDevices().then((function(t){H(t),e(t)})).catch((function(t){w.warn("Failed to  enumerate devices. "+t),H([]),e([])}))}},{key:"_getUserMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,i){var o,a=!1;"number"==typeof n&&!isNaN(n)&&n>0&&(o=setTimeout((function(){a=!0,o=void 0,i(new u.a(c.TIMEOUT))}),n)),navigator.mediaDevices.getUserMedia(t).then((function(t){w.log("onUserMediaSuccess"),B(e,t),a||(void 0!==o&&clearTimeout(o),r(t))})).catch((function(n){w.warn("Failed to get access to local media. ".concat(n," ").concat(JSON.stringify(t)));var r=new u.a(n,t,e);a||(void 0!==o&&clearTimeout(o),i(r)),r.name===c.PERMISSION_DENIED&&B(e,void 0)}))}))}},{key:"_getDesktopMedia",value:function(){return D.b.isSupported()?new Promise((function(e,t){D.b.obtainStream((function(t){e(t)}),(function(e){t(e)}))})):Promise.reject(new Error("Desktop sharing is not supported!"))}},{key:"_getMissingTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=e.includes("audio"),i=t&&t.getAudioTracks().length>0;r&&!i&&n.push("audio");var o=e.includes("video"),a=t&&t.getVideoTracks().length>0;return o&&!a&&n.push("video"),n}},{key:"obtainAudioAndVideoPermissions",value:function(e){var t=this,n=e.timeout,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["timeout"]),i=[],o=function(){if(-1===(r.devices||[]).indexOf("desktop"))return Promise.resolve();var e=r.desktopSharingSourceDevice;if(e){var t=L&&L.find((function(t){return"videoinput"===t.kind&&(t.deviceId===e||t.label===e)}));if(!t)return Promise.reject(new u.a({name:"ConstraintNotSatisfiedError"},{},[e]));var i={video:{deviceId:t.deviceId}};return this._getUserMedia(["video"],i,n).then((function(e){return{sourceType:"device",stream:e}}))}return this._getDesktopMedia()}.bind(this),a=function(){var e=(r.devices||["audio","video"]).filter((function(e){return"audio"===e||"video"===e}));if(!e.length)return Promise.resolve();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s()(t.constraints||A);if(e.indexOf("video")>=0){if(p.a[t.resolution]){var r=p.a[t.resolution];n.video.height={ideal:r.height},n.video.width={ideal:r.width}}if(n.video||(n.video={}),g.a.isWebKitBased()&&(n.video.height&&n.video.height.ideal?n.video.height={ideal:n.video.height.ideal}:w.warn("Ideal camera height missing, camera may not start properly"),n.video.width&&n.video.width.ideal?n.video.width={ideal:n.video.width.ideal}:w.warn("Ideal camera width missing, camera may not start properly")),t.cameraDeviceId)n.video.deviceId=t.cameraDeviceId;else{var i=t.facingMode||d.a.USER;n.video.facingMode=i}}else n.video=!1;return e.indexOf("audio")>=0?(n.audio&&"boolean"!=typeof n.audio||(n.audio={}),n.audio={autoGainControl:!P&&!R,deviceId:t.micDeviceId,echoCancellation:!M&&!R,noiseSuppression:!I&&!R},N&&Object.assign(n.audio,{channelCount:2})):n.audio=!1,n}(e,r);return w.info("Got media constraints: ",JSON.stringify(t)),this._getUserMedia(e,t,n)}.bind(this);return o().then((function(e){if(e){var t=e.stream,n=e.sourceId,r=e.sourceType,o=t.getAudioTracks();if(o.length){var a=new MediaStream(o);i.push({stream:a,sourceId:n,sourceType:r,track:a.getAudioTracks()[0]})}var s=t.getVideoTracks();if(s.length){var u=new MediaStream(s);i.push({stream:u,sourceId:n,sourceType:r,track:u.getVideoTracks()[0],videoType:m.VideoType.DESKTOP})}}})).then(a).then((function(e){if(e){var t=e.getAudioTracks();if(t.length){var n=new MediaStream(t);i.push({stream:n,track:n.getAudioTracks()[0],effects:r.effects})}var o=e.getVideoTracks();if(o.length){var a=new MediaStream(o);i.push({stream:a,track:a.getVideoTracks()[0],videoType:m.VideoType.CAMERA,effects:r.effects})}}})).then((function(){return i})).catch((function(e){return i.forEach((function(e){var n=e.stream;t.stopMediaStream(n)})),Promise.reject(e)}))}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(e){return"output"===e||"audiooutput"===e?F:"audioinput"!==e&&"input"!==e||!g.a.isIosBrowser()}},{key:"stopMediaStream",value:function(e){e&&(e.getTracks().forEach((function(e){e.stop&&e.stop()})),e.stop&&e.stop(),e.release&&e.release())}},{key:"isDesktopSharingEnabled",value:function(){return D.b.isSupported()}},{key:"setAudioOutputDevice",value:function(e){return this.isDeviceChangeAvailable("output")?x.setSinkId(e).then((function(){k=e,O=!0,w.log("Audio output device set to "+e),T.emit(f.default.AUDIO_OUTPUT_DEVICE_CHANGED,e)})):Promise.reject(new Error("Audio output device change is not supported"))}},{key:"setDesktopSharingFrameRate",value:function(e){D.b.setDesktopSharingFrameRate(e)}},{key:"getAudioOutputDevice",value:function(){return k}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return L}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return L.some((function(e){return Boolean(e.label)}))}},{key:"getEventDataForActiveDevice",value:function(e){var t=[],n={deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId};return t.push(n),{deviceList:t}}},{key:"setSuspendVideo",value:function(e,t){e.optional||(e.optional=[]),e.optional=e.optional.filter((function(e){return!e.hasOwnProperty("googSuspendBelowMinBitrate")})),t&&e.optional.push({googSuspendBelowMinBitrate:"true"})}}]),n}(S.a),q=new V;t.a=q}).call(this,"/index.js")},function(e,t){var n=[],r=window.onerror,i=window.onunhandledrejection;window.onerror=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.forEach((function(e){return e.apply(void 0,t)})),r&&r.apply(void 0,t)},window.onunhandledrejection=function(e){n.forEach((function(t){return t(null,null,null,null,e.reason)})),i&&i(e)};var o={addHandler:function(e){n.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}};e.exports=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(5),i=n(2),o=n(172),a=n.n(o),s=n(4),u=n(11),c=n(6),l=n(16),d=n(10),f=n(27),h=n.n(f),p=n(46),m=n(74),v=n(427),g=n(428),_=n(26),b=n(429),y=Object(r.getLogger)(e),E=0,S=0;function D(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.sourceId,n=e.sourceType,r=e.stream,i=e.track,o=e.videoType,a=e.effects,s=i.getSettings(),u=s.deviceId,c=s.facingMode;return S=Object(m.d)(S),new g.a({deviceId:u,facingMode:c,mediaType:i.kind,rtcId:S,sourceId:t,sourceType:n,stream:r,track:i,videoType:o||null,effects:a})}))}var w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r=t.call(this)).conference=e,r.peerConnections=new Map,r.localTracks=[],r.options=i,r._channel=null,r._lastN=void 0,r._lastNEndpoints=null,r._forwardedSources=null,r._maxFrameHeight=void 0,r._selectedEndpoints=null,r._lastNChangeListener=r._onLastNChanged.bind(_assertThisInitialized(r)),r._forwardedSourcesChangeListener=r._onForwardedSourcesChanged.bind(_assertThisInitialized(r)),r._onDeviceListChanged=r._onDeviceListChanged.bind(_assertThisInitialized(r)),r._updateAudioOutputForAudioTracks=r._updateAudioOutputForAudioTracks.bind(_assertThisInitialized(r)),r._videoType=a.a.NONE,_.a.isDeviceChangeAvailable("output")&&(_.a.addListener(u.default.AUDIO_OUTPUT_DEVICE_CHANGED,r._updateAudioOutputForAudioTracks),_.a.addListener(u.default.DEVICE_LIST_CHANGED,r._onDeviceListChanged)),r}return _createClass(n,[{key:"destroy",value:function(){_.a.removeListener(u.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),_.a.removeListener(u.default.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._channelOpenListener&&this.removeListener(u.default.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(e,t){var n=this;this._channel=new v.a(e,t,this.eventEmitter),this._channelOpenListener=function(){var e=function(e,t,n){h.a.callErrorHandler(e),y.error("Cannot send ".concat(t,"(").concat(JSON.stringify(n),") endpoint message"),e)};if(n._receiverVideoConstraints)try{n._channel.sendNewReceiverVideoConstraintsMessage(n._receiverVideoConstraints)}catch(t){e(t,"ReceiverVideoConstraints",n._receiverVideoConstraints)}if(n._selectedEndpoints)try{n._channel.sendSelectedEndpointsMessage(n._selectedEndpoints)}catch(t){e(t,"SelectedEndpointsChangedEvent",n._selectedEndpoints)}if(void 0!==n._maxFrameHeight)try{n._channel.sendReceiverVideoConstraintMessage(n._maxFrameHeight)}catch(t){e(t,"ReceiverVideoConstraint",n._maxFrameHeight)}if(void 0!==n._lastN&&-1!==n._lastN)try{n._channel.sendSetLastNMessage(n._lastN)}catch(t){e(t,"LastNChangedEvent",n._lastN)}if(!l.a.isSourceNameSignalingEnabled())try{n._channel.sendVideoTypeMessage(n._videoType)}catch(t){e(t,"VideoTypeMessage",n._videoType)}},this.addListener(u.default.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(u.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),l.a.isSourceNameSignalingEnabled()&&this.addListener(u.default.FORWARDED_SOURCES_CHANGED,this._forwardedSourcesChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(_.a.getAudioOutputDevice())}},{key:"_onLastNChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=this._lastNEndpoints||[];this._lastNEndpoints=r,e=o.filter((function(e){return!n.isInLastN(e)})),t=r.filter((function(e){return-1===o.indexOf(e)})),this.conference.eventEmitter.emit(i.LAST_N_ENDPOINTS_CHANGED,e,t)}},{key:"_onForwardedSourcesChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=this._forwardedSources||[];this._forwardedSources=r,e=o.filter((function(e){return!n.isInForwardedSources(e)})),t=r.filter((function(e){return-1===o.indexOf(e)})),this.conference.eventEmitter.emit(i.FORWARDED_SOURCES_CHANGED,e,t,Date.now())}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&"websocket"===this._channel.mode&&this._channel.close(),this._channel=null)}},{key:"setDesktopSharingFrameRate",value:function(e){_.a.setDesktopSharingFrameRate(e)}},{key:"setNewReceiverVideoConstraints",value:function(e){this._receiverVideoConstraints=e,this._channel&&this._channel.isOpen()&&this._channel.sendNewReceiverVideoConstraintsMessage(e)}},{key:"setReceiverVideoConstraint",value:function(e){this._maxFrameHeight=e,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(e)}},{key:"setVideoType",value:function(e){this._videoType!==e&&(this._videoType=e,this._channel&&this._channel.isOpen()&&this._channel.sendVideoTypeMessage(e))}},{key:"sendSourceVideoType",value:function(e,t){this._channel&&this._channel.isOpen()&&this._channel.sendSourceVideoTypeMessage(e,t)}},{key:"selectEndpoints",value:function(e){this._selectedEndpoints=e,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(e)}},{key:"createPeerConnection",value:function(e,t,n,r){var i=JSON.parse(JSON.stringify(_.a.pcConstraints));void 0!==r.abtestSuspendVideo&&(_.a.setSuspendVideo(i,r.abtestSuspendVideo),d.a.analytics.addPermanentProperties({abtestSuspendVideo:r.abtestSuspendVideo})),r.enableInsertableStreams&&(y.debug("E2EE - setting insertable streams constraints"),t.encodedInsertableStreams=!0),(c.a.isReactNative()||c.a.isChromiumBased()&&!r.usesUnifiedPlan)&&(y.debug("WebRTC application is running in plan-b mode"),t.sdpSemantics="plan-b"),r.forceTurnRelay&&(t.iceTransportPolicy="relay"),t.bundlePolicy="max-bundle",E=Object(m.d)(E);var o=new b.a(this,E,e,t,i,n,r);return this.peerConnections.set(o.id,o),o}},{key:"_removePeerConnection",value:function(e){var t=e.id;return!!this.peerConnections.has(t)&&(this.peerConnections.delete(t),!0)}},{key:"addLocalTrack",value:function(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference}},{key:"getForwardedSources",value:function(){return this._forwardedSources}},{key:"getLocalVideoTrack",value:function(){var e=this.getLocalTracks(s.a.VIDEO);return e.length?e[0]:void 0}},{key:"getLocalVideoTracks",value:function(){return this.getLocalTracks(s.a.VIDEO)}},{key:"getLocalAudioTrack",value:function(){var e=this.getLocalTracks(s.a.AUDIO);return e.length?e[0]:void 0}},{key:"getLocalEndpointId",value:function(){return this.conference.myUserId()}},{key:"getLocalTracks",value:function(e){var t=this.localTracks.slice();return void 0!==e&&(t=t.filter((function(t){return t.getType()===e}))),t}},{key:"getRemoteTracks",value:function(e){var t,n=[],r=_createForOfIteratorHelper(this.peerConnections.values());try{for(r.s();!(t=r.n()).done;){var i=t.value.getRemoteTracks(void 0,e);i&&(n=n.concat(i))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"setAudioMute",value:function(e){var t=[];return this.getLocalTracks(s.a.AUDIO).forEach((function(n){t.push(e?n.mute():n.unmute())})),Promise.all(t)}},{key:"setVideoMute",value:function(e){var t=[];return this.getLocalTracks(s.a.VIDEO).concat(this.getLocalTracks(s.a.PRESENTER)).forEach((function(n){t.push(e?n.mute():n.unmute())})),Promise.all(t)}},{key:"removeLocalTrack",value:function(e){var t=this.localTracks.indexOf(e);-1!==t&&this.localTracks.splice(t,1)}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(u.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(e,t,n,r){var i=e.getTrackBySSRC(t);i&&(i.isAudioTrack()?(i.isLocal()!==r&&y.error("".concat(i," was expected to ").concat(r?"be":"not be"," local")),i.setAudioLevel(n,e)):y.warn("Received audio level for non-audio track: "+t))}},{key:"sendChannelMessage",value:function(e,t){if(!this._channel)throw new Error("Channel support is disabled!");this._channel.sendMessage(e,t)}},{key:"sendEndpointStatsMessage",value:function(e){this._channel&&this._channel.isOpen()&&this._channel.sendEndpointStatsMessage(e)}},{key:"setLastN",value:function(e){this._lastN!==e&&(this._lastN=e,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(e),this.eventEmitter.emit(u.default.LASTN_VALUE_CHANGED,e))}},{key:"isInLastN",value:function(e){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(e)>-1}},{key:"isInForwardedSources",value:function(e){return!this._forwardedSources||this._forwardedSources.indexOf(e)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(e){var t,n=this.getRemoteTracks(s.a.AUDIO),r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;)t.value.setAudioOutput(e)}catch(i){r.e(i)}finally{r.f()}}}],[{key:"createLocalTracks",value:function(e){return D(e)}},{key:"obtainAudioAndVideoPermissions",value:function(e){return _.a.obtainAudioAndVideoPermissions(e).then((function(e){return D(e)}))}},{key:"addListener",value:function(e,t){_.a.addListener(e,t)}},{key:"removeListener",value:function(e,t){_.a.removeListener(e,t)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,_.a.init(this.options)}},{key:"attachMediaStream",value:function(e,t){return _.a.attachMediaStream(e,t)}},{key:"getStreamID",value:function(e){return _.a.getStreamID(e)}},{key:"getTrackID",value:function(e){return _.a.getTrackID(e)}},{key:"isDeviceListAvailable",value:function(){return _.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return _.a.isDeviceChangeAvailable(e)}},{key:"isWebRtcSupported",value:function(){return c.a.isSupported()}},{key:"getAudioOutputDevice",value:function(){return _.a.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return _.a.getCurrentlyAvailableMediaDevices()}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return _.a.arePermissionsGrantedForAvailableDevices()}},{key:"getEventDataForActiveDevice",value:function(e){return _.a.getEventDataForActiveDevice(e)}},{key:"setAudioOutputDevice",value:function(e){return _.a.setAudioOutputDevice(e)}},{key:"isUserStream",value:function(e){return n.isUserStreamById(_.a.getStreamID(e))}},{key:"isUserStreamById",value:function(e){return e&&"mixedmslabel"!==e&&"default"!==e}},{key:"enumerateDevices",value:function(e){_.a.enumerateDevices(e)}},{key:"stopMediaStream",value:function(e){_.a.stopMediaStream(e)}},{key:"isDesktopSharingEnabled",value:function(){return _.a.isDesktopSharingEnabled()}}]),n}(p.a)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(39),i=n(162),o=n(91),a=n(135),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(e){t=e instanceof a.a?u(e.errors):[e]}if(Object(r.a)(c)){l=-1;for(var d=c.length;++l<d;){var f=c[l];if(Object(i.a)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof a.a?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTrackEvents",(function(){return r})),n.d(t,"LOCAL_TRACK_STOPPED",(function(){return i})),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",(function(){return o})),n.d(t,"TRACK_AUDIO_OUTPUT_CHANGED",(function(){return a})),n.d(t,"TRACK_MUTE_CHANGED",(function(){return s})),n.d(t,"TRACK_VIDEOTYPE_CHANGED",(function(){return u})),n.d(t,"NO_DATA_FROM_SOURCE",(function(){return c})),n.d(t,"NO_AUDIO_INPUT",(function(){return l})),n.d(t,"TRACK_STREAMING_STATUS_CHANGED",(function(){return d})),function(e){e.LOCAL_TRACK_STOPPED="track.stopped",e.TRACK_AUDIO_LEVEL_CHANGED="track.audioLevelsChanged",e.TRACK_AUDIO_OUTPUT_CHANGED="track.audioOutputChanged",e.TRACK_MUTE_CHANGED="track.trackMuteChanged",e.TRACK_VIDEOTYPE_CHANGED="track.videoTypeChanged",e.NO_DATA_FROM_SOURCE="track.no_data_from_source",e.NO_AUDIO_INPUT="track.no_audio_input",e.TRACK_STREAMING_STATUS_CHANGED="track.streaming_status_changed"}(r||(r={}));var i=r.LOCAL_TRACK_STOPPED,o=r.TRACK_AUDIO_LEVEL_CHANGED,a=r.TRACK_AUDIO_OUTPUT_CHANGED,s=r.TRACK_MUTE_CHANGED,u=r.TRACK_VIDEOTYPE_CHANGED,c=r.NO_DATA_FROM_SOURCE,l=r.NO_AUDIO_INPUT,d=r.TRACK_STREAMING_STATUS_CHANGED},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(23),s=n(479),u=n(483),c=n(484),l=n(485),d=n(486),f=n(487),h=n(488),p=n(489),m=n(490),v=n(491),g=n(492),_=n(317),b=n(503),y=n(504),E=n(505),S=n(506),D=n(507),w=n(508),C=n(509),T=n(510),A=n(511),k=n(512),O=n(513),R=n(514),M=n(516),I=n(517),P=n(518),N=n(519),x=n(520),F=n(521),L=n(522),j=n(523),B=n(524),U=n(525),H=n(526),V=n(527),q=n(528),G=n(529),J=n(530),z=n(531),K=n(532),W=n(533),$=n(534);!function(e){e.Select="Select",e.LocationChange="LocationChange",e.BrowserOnConnectport="BrowserOnConnectport",e.BrowserMessage="browserMessage",e.BrowserOnMessage="BrowserOnMessage",e.Disconnected="disconnected",e.WidgetActions="WidgetActions",e.SariskaChannelConnected="sariskaChannel:connected",e.OptionsSet="options:set",e.Error="any:error",e.BrowserNavigation="browser:navigation",e.FileReload="file:reload",e.BrowserReload="browser:reload",e.BrowserLocation="browser:location",e.BrowserNotify="browser:notify",e.Scroll="scroll",e.Click="click",e.KeyboardKeypress="keyboard:keypress",e.KeyboardKeydown="keyboard:keydown",e.KeyboardKeyup="keyboard:keyup",e.InputChange="input:change",e.InputInput="input:input",e.InputFocus="input:focus",e.InputBlur="input:blur",e.DocumentMousemove="document:mousemove",e.DocumentMouseout="document:mouseout",e.DocumentMouseover="document:mouseover",e.DocumentMousedown="document:mousedown",e.DocumentMouseup="document:mouseup",e.SelectionChange="selection:change",e.Drag="drag",e.Dragstart="dragstart",e.Dragend="dragend",e.Dragenter="dragenter",e.Dragover="dragover",e.Dragleave="dragleave",e.Drop="drop",e.Touchstart="touchstart",e.Touchmove="touchmove",e.Touchend="touchend",e.Touchcancel="touchcancel",e.Pause="pause",e.Play="play",e.Volumechange="volumechange",e.Seeked="seeked",e.CloseSession="close_session"}(i=t.IncomingSocketNames||(t.IncomingSocketNames={})),function(e){e.PresenceDiff="presence_diff",e.PresenceState="presence_state",e.PrivateMessage="new_message",e.WidgetAction="widget_action",e.UserJoined="user_joined",e.MessageCount="archived_message_count",e.ArchivedMessage="archived_message",e.UpdatePresenceMetadata="update_presence_metadata"}(t.ChannelMesssageEvents||(t.ChannelMesssageEvents={})),function(e){e.Scroll="@@outgoing/scroll",e.Click="@@outgoing/click",e.Keyup="@@outgoing/keyup",e.Keydown="@@outgoing/keydown",e.Keypress="@@outgoing/keypress",e.InputChange="@@outgoing/change",e.InputFocus="@@outgoing/focus",e.InputInput="@@outgoing/input",e.InputBlur="@@outgoing/blur",e.Mousemove="@@outgoing/mousemove",e.Mouseout="@@outgoing/mouseout",e.Mouseover="@@outgoing/mouseover",e.Mousedown="@@outgoing/mousedown",e.Mouseup="@@outgoing/mouseup",e.SelectionChange="@@outgoing/selectionchange",e.Drag="@@outgoing/drap",e.Dragstart="@@outgoing/dragstart",e.Dragend="@@outgoing/dragend",e.Dragenter="@@outgoing/dragenter",e.Dragover="@@outgoing/dragover",e.Dragleave="@@outgoing/dragleave",e.Drop="@@outgoing/drop",e.Touchstart="@@outgoing/touchstart",e.Touchmove="@@outgoing/touchmove",e.Touchend="@@outgoing/touchend",e.Touchcancel="@@outgoing/touchcancel",e.BrowserReload="@@outgoing/browserreload",e.BrowserNavigation="@@outgoing/browsernavigation",e.Pause="@@outgoing/pause",e.Play="@@outgoing/play",e.Volumechange="@@outgoing/volumechange",e.Seeked="@@outgoing/seeked",e.Locationchange="@@outgoing/locationchange",e.Select="@@outgoing/select"}(o=t.OutgoingSocketEvents||(t.OutgoingSocketEvents={})),t.socketHandlers$=new a.BehaviorSubject(((r={})[i.SariskaChannelConnected]=E.incomingConnect,r[i.Disconnected]=y.incomingDisconnect,r[i.FileReload]=b.incomingFileReload,r[i.OptionsSet]=k.incomingOptionsSet,r[i.Error]=D.incomingError,r[i.DocumentMousemove]=h.incomingDocumentMousemove,r[i.DocumentMouseout]=p.incomingDocumentMouseout,r[i.DocumentMouseover]=m.incomingDocumentMouseover,r[i.DocumentMousedown]=v.incomingDocumentMousedown,r[i.DocumentMouseup]=g.incomingDocumentMouseup,r[i.BrowserReload]=_.incomingBrowserReload,r[i.BrowserNavigation]=S.incomingBrowserNavigation,r[i.BrowserNotify]=f.incomingBrowserNotify,r[i.Scroll]=s.incomingScrollHandler,r[i.Click]=u.incomingHandler$,r[i.Drag]=M.incomingDrag,r[i.Dragend]=I.incomingDragend,r[i.Dragover]=P.incomingDragover,r[i.Dragleave]=N.incomingDragleave,r[i.Dragstart]=x.incomingDragstart,r[i.Drop]=F.incomingDrop,r[i.Dragenter]=z.incomingDragenter,r[i.KeyboardKeyup]=c.incomingKeyupHandler,r[i.KeyboardKeydown]=l.incomingKeydownHandler,r[i.KeyboardKeypress]=d.incomingKeypressHandler,r[i.Touchstart]=L.incomingTouchstart,r[i.Touchmove]=j.incomingTouchmove,r[i.Touchend]=B.incomingTouchend,r[i.Touchcancel]=U.incomingTouchcancel,r[i.InputChange]=w.incomingInputsChange,r[i.InputInput]=A.incomingInputsInput,r[i.InputFocus]=C.incomingInputsFocus,r[i.InputBlur]=T.incomingInputsBlur,r[i.SelectionChange]=O.incomingSelectionChange,r[i.Play]=H.incomingPlay,r[i.Pause]=V.incomingPause,r[i.Seeked]=G.incomingSeeked,r[i.Volumechange]=q.incomingVolumechange,r[i.LocationChange]=J.incomingRemoteLocation,r[i.BrowserLocation]=K.incomingBrowserLocation,r[i.CloseSession]=W.incomingSessionClose,r[i.Select]=$.incomingSelect,r[o.Mouseover]=R.emitWithPathname(i.DocumentMouseover),r[o.Mousemove]=R.emitWithPathname(i.DocumentMousemove),r[o.Mouseout]=R.emitWithPathname(i.DocumentMouseout),r[o.Mousedown]=R.emitWithPathname(i.DocumentMousedown),r[o.Mouseup]=R.emitWithPathname(i.DocumentMouseup),r[o.Scroll]=R.emitWithPathname(i.Scroll),r[o.Click]=R.emitWithPathname(i.Click),r[o.Keydown]=R.emitWithPathname(i.KeyboardKeydown),r[o.Keyup]=R.emitWithPathname(i.KeyboardKeyup),r[o.Keypress]=R.emitWithPathname(i.KeyboardKeypress),r[o.InputInput]=R.emitWithPathname(i.InputInput),r[o.InputChange]=R.emitWithPathname(i.InputChange),r[o.InputFocus]=R.emitWithPathname(i.InputFocus),r[o.InputBlur]=R.emitWithPathname(i.InputBlur),r[o.SelectionChange]=R.emitWithPathname(i.SelectionChange),r[o.Drag]=R.emitWithPathname(i.Drag),r[o.Dragend]=R.emitWithPathname(i.Dragend),r[o.Dragover]=R.emitWithPathname(i.Dragover),r[o.Dragleave]=R.emitWithPathname(i.Dragleave),r[o.Dragstart]=R.emitWithPathname(i.Dragstart),r[o.Drop]=R.emitWithPathname(i.Drop),r[o.Dragenter]=R.emitWithPathname(i.Dragenter),r[o.Touchstart]=R.emitWithPathname(i.Touchstart),r[o.Touchmove]=R.emitWithPathname(i.Touchmove),r[o.Touchend]=R.emitWithPathname(i.Touchend),r[o.Touchcancel]=R.emitWithPathname(i.Touchcancel),r[o.BrowserNavigation]=R.emitWithPathname(i.BrowserNavigation),r[o.BrowserReload]=R.emitWithPathname(i.BrowserReload),r[o.Play]=R.emitWithPathname(i.Play),r[o.Pause]=R.emitWithPathname(i.Pause),r[o.Seeked]=R.emitWithPathname(i.Seeked),r[o.Volumechange]=R.emitWithPathname(i.Volumechange),r[o.Locationchange]=R.emitWithPathname(i.LocationChange),r[o.Select]=R.emitWithPathname(i.Select),r))},function(e,t,n){var r=n(62),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTrackErrors",(function(){return r})),n.d(t,"CONSTRAINT_FAILED",(function(){return i})),n.d(t,"ELECTRON_DESKTOP_PICKER_ERROR",(function(){return o})),n.d(t,"ELECTRON_DESKTOP_PICKER_NOT_FOUND",(function(){return a})),n.d(t,"GENERAL",(function(){return s})),n.d(t,"NOT_FOUND",(function(){return u})),n.d(t,"PERMISSION_DENIED",(function(){return c})),n.d(t,"SCREENSHARING_GENERIC_ERROR",(function(){return l})),n.d(t,"SCREENSHARING_USER_CANCELED",(function(){return d})),n.d(t,"TIMEOUT",(function(){return f})),n.d(t,"TRACK_IS_DISPOSED",(function(){return h})),n.d(t,"TRACK_NO_STREAM_FOUND",(function(){return p})),n.d(t,"UNSUPPORTED_RESOLUTION",(function(){return m})),function(e){e.CONSTRAINT_FAILED="gum.constraint_failed",e.ELECTRON_DESKTOP_PICKER_ERROR="gum.electron_desktop_picker_error",e.ELECTRON_DESKTOP_PICKER_NOT_FOUND="gum.electron_desktop_picker_not_found",e.GENERAL="gum.general",e.NOT_FOUND="gum.not_found",e.PERMISSION_DENIED="gum.permission_denied",e.SCREENSHARING_GENERIC_ERROR="gum.screensharing_generic_error",e.SCREENSHARING_USER_CANCELED="gum.screensharing_user_canceled",e.TIMEOUT="gum.timeout",e.TRACK_IS_DISPOSED="track.track_is_disposed",e.TRACK_NO_STREAM_FOUND="track.no_stream_found",e.UNSUPPORTED_RESOLUTION="gum.unsupported_resolution"}(r||(r={}));var i=r.CONSTRAINT_FAILED,o=r.ELECTRON_DESKTOP_PICKER_ERROR,a=r.ELECTRON_DESKTOP_PICKER_NOT_FOUND,s=r.GENERAL,u=r.NOT_FOUND,c=r.PERMISSION_DENIED,l=r.SCREENSHARING_GENERIC_ERROR,d=r.SCREENSHARING_USER_CANCELED,f=r.TIMEOUT,h=r.TRACK_IS_DISPOSED,p=r.TRACK_NO_STREAM_FOUND,m=r.UNSUPPORTED_RESOLUTION},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=n(175);function i(e){var t=Object(r.b)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(e){var t=(e||Object(r.b)()).getScope();return t&&t.getTransaction()}function a(e){return e/1e3}function s(e){return 1e3*e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(93),i=n.n(r),o=n(43),a=n.n(o),s=n(18),u=n(6),c=n(16),l=n(12);function d(e){for(var t=e.split("\r\nm="),n=1,r=t.length;n<r;n++){var i="m="+t[n];n!==r-1&&(i+="\r\n"),t[n]=i}var o=t.shift()+"\r\n";this.media=t,this.raw=o+t.join(""),this.session=o}d.prototype.failICE=!1,d.prototype.removeTcpCandidates=!1,d.prototype.removeUdpCandidates=!1,d.prototype.addMlineForNewLocalSource=function(e){var t=this.media.length,n=a.a.parse(this.raw),r=i()(n.media.find((function(t){return t.type===e})));r.mid=t,r.direction=s.a.RECVONLY,r.msid=void 0,r.ssrcs=void 0,r.ssrcGroups=void 0,n.media=n.media.concat(r),n.groups.forEach((function(e){if("BUNDLE"===e.type){var n=e.mids.split(" ");n.push(t),e.mids=n.join(" ")}})),this.raw=a.a.write(n)},d.prototype.getMediaSsrcMap=function(){for(var e=this,t={},n=function(){var n={mediaindex:r,mid:l.a.parseMID(l.a.findLine(e.media[r],"a=mid:")),ssrcs:{},ssrcGroups:[]};t[r]=n,l.a.findLines(e.media[r],"a=ssrc:").forEach((function(e){var t=e.substring(7).split(" ")[0];n.ssrcs[t]||(n.ssrcs[t]={ssrc:t,lines:[]}),n.ssrcs[t].lines.push(e)})),l.a.findLines(e.media[r],"a=ssrc-group:").forEach((function(e){var t=e.indexOf(" "),r=e.substr(0,t).substr(13),i=e.substr(14+r.length).split(" ");i.length&&n.ssrcGroups.push({semantics:r,ssrcs:i})}))},r=0;r<this.media.length;r++)n();return t},d.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach((function(r){n||t[r].ssrcs[e]&&(n=!0)})),n},d.prototype.toJingle=function(e,t){l.a.findLines(this.session,"a=group:").forEach((function(t){var n=t.split(" "),r=n.shift().substr(8);e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:r});for(var i=0;i<n.length;i++)e.c("content",{name:n[i]}).up();e.up()}));for(var n=0;n<this.media.length;n++){var r=l.a.parseMLine(this.media[n].split("\r\n")[0]);if("audio"===r.media||"video"===r.media||"application"===r.media){var i,o=l.a.findLine(this.media[n],"a=ssrc:");i=!!o&&o.substring(7).split(" ")[0],e.c("content",{creator:t,name:r.media});var a=l.a.findLine(this.media[n],"a=mid:");if(a){var d=l.a.parseMID(a);e.attrs({name:d})}if("audio"===r.media||"video"===r.media){e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:r.media}),i&&e.attrs({ssrc:i});for(var f=0;f<r.fmt.length;f++){var h=l.a.findLine(this.media[n],"a=rtpmap:"+r.fmt[f]);e.c("payload-type",l.a.parseRTPMap(h));var p=l.a.findLine(this.media[n],"a=fmtp:"+r.fmt[f]);if(p)for(var m=l.a.parseFmtp(p),v=0;v<m.length;v++)e.c("parameter",m[v]).up();this.rtcpFbToJingle(n,e,r.fmt[f]),e.up()}if(i){var g,_=l.a.parseSSRC(this.media[n]),b=_createForOfIteratorHelper(_);try{for(b.s();!(g=b.n()).done;){var y=_slicedToArray(g.value,2),E=y[0],S=y[1],D=l.a.parseSourceNameLine(S);e.c("source",{ssrc:E,name:c.a.isSourceNameSignalingEnabled()?D:void 0,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"});var w=l.a.parseMSIDAttribute(S);w&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:w}),e.up()),e.up()}}catch(M){b.e(M)}finally{b.f()}l.a.findLines(this.media[n],"a=ssrc-group:").forEach((function(t){var n=t.indexOf(" "),r=t.substr(0,n).substr(13),i=t.substr(14+r.length).split(" ");i.length&&(e.c("ssrc-group",{semantics:r,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),i.forEach((function(t){return e.c("source",{ssrc:t}).up()})),e.up())}))}var C=l.a.findLines(this.media[n],"a=rid:");if(C.length&&u.a.usesRidsForSimulcast()){var T=C.map((function(e){return e.split(":")[1]})).map((function(e){return e.split(" ")[0]}));T.forEach((function(t){e.c("source",{rid:t,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.up()})),l.a.findLine(this.media[n],"a=simulcast:")&&(e.c("rid-group",{semantics:"SIM",xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),T.forEach((function(t){e.c("source",{rid:t}).up()})),e.up())}l.a.findLine(this.media[n],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(n,e,"*");for(var A=l.a.findLines(this.media[n],"a=extmap:"),k=0;k<A.length;k++){var O=l.a.parseExtmap(A[k]);if(e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:O.uri,id:O.value}),O.hasOwnProperty("direction"))switch(O.direction){case s.a.SENDONLY:e.attrs({senders:"responder"});break;case s.a.RECVONLY:e.attrs({senders:"initiator"});break;case s.a.SENDRECV:e.attrs({senders:"both"});break;case s.a.INACTIVE:e.attrs({senders:"none"})}e.up()}e.up()}this.transportToJingle(n,e);var R=this.media[n];l.a.findLine(R,"a="+s.a.SENDRECV,this.session)?e.attrs({senders:"both"}):l.a.findLine(R,"a="+s.a.SENDONLY,this.session)?e.attrs({senders:"initiator"}):l.a.findLine(R,"a="+s.a.RECVONLY,this.session)?e.attrs({senders:"responder"}):l.a.findLine(R,"a="+s.a.INACTIVE,this.session)&&e.attrs({senders:"none"}),"0"!==r.port||l.a.findLine(R,"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up()}}return e.up(),e},d.prototype.transportToJingle=function(e,t){var n=this;t.c("transport");var r=l.a.findLine(this.media[e],"a=sctp-port:",this.session),i=l.a.findLine(this.media[e],"a=sctpmap:",this.session);if(r){var o=l.a.parseSCTPPort(r);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:o,protocol:"webrtc-datachannel"}),t.attrs({streams:0}),t.up()}else if(i){var a=l.a.parseSCTPMap(i);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:a[0],protocol:a[1]}),a.length>2?t.attrs({streams:a[2]}):t.attrs({streams:0}),t.up()}l.a.findLines(this.media[e],"a=fingerprint:",this.session).forEach((function(r){var i=l.a.parseFingerprint(r);i.xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(i.fingerprint),delete i.fingerprint;var o=l.a.findLine(n.media[e],"a=setup:",n.session);o&&(i.setup=o.substr(8)),t.attrs(i),t.up()}));var s=l.a.iceparams(this.media[e],this.session);s&&(s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(s),l.a.findLines(this.media[e],"a=candidate:",this.session).forEach((function(e){var r=l.a.candidateToJingle(e);n.failICE&&(r.ip="1.1.1.1");var i=r&&"string"==typeof r.protocol?r.protocol.toLowerCase():"";n.removeTcpCandidates&&("tcp"===i||"ssltcp"===i)||n.removeUdpCandidates&&"udp"===i||t.c("candidate",r).up()}))),t.up()},d.prototype.rtcpFbToJingle=function(e,t,n){l.a.findLines(this.media[e],"a=rtcp-fb:"+n).forEach((function(e){var n=l.a.parseRTCPFB(e);"trr-int"===n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())}))},d.prototype.rtcpFbFromJingle=function(e,t){var n="",r=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return r.length&&(n+="a=rtcp-fb:* trr-int ",r.attr("value")?n+=r.attr("value"):n+="0",n+="\r\n"),e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]').each((function(e,r){n+="a=rtcp-fb:".concat(t," ").concat(r.getAttribute("type")),r.hasAttribute("subtype")&&(n+=" "+r.getAttribute("subtype")),n+="\r\n"})),n},d.prototype.fromJingle=function(e){var t=this,n=Date.now();this.raw="v=0\r\no=- ".concat(n," 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n");var r=$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');r.length&&r.each((function(e,n){var r=$(n).find(">content").map((function(e,t){return t.getAttribute("name")})).get();r.length>0&&(t.raw+="a=group:".concat(n.getAttribute("semantics")||n.getAttribute("type")," ").concat(r.join(" "),"\r\n"))})),this.session=this.raw,e.find(">content").each((function(e,n){var r=t.jingle2media($(n));t.media.push(r)})),this.raw=this.session+this.media.join("")},d.prototype.jingle2media=function(e){var t=this,n=e.find(">description"),r=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),i="",o=r.find('>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),a={media:n.attr("media"),port:"9"};switch("rejected"===e.attr("senders")&&(a.port="0"),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').length?a.proto=o.length?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF":a.proto="UDP/TLS/RTP/SAVPF",o.length?(i+="m=application ".concat(a.port," UDP/DTLS/SCTP webrtc-datachannel\r\n"),i+="a=sctp-port:".concat(o.attr("number"),"\r\n"),i+="a=max-message-size:262144\r\n"):(a.fmt=n.find(">payload-type").map((function(e,t){return t.getAttribute("id")})).get(),i+=l.a.buildMLine(a)+"\r\n"),i+="c=IN IP4 0.0.0.0\r\n",o.length||(i+="a=rtcp:1 IN IP4 0.0.0.0\r\n"),r.length&&(r.attr("ufrag")&&(i+=l.a.buildICEUfrag(r.attr("ufrag"))+"\r\n"),r.attr("pwd")&&(i+=l.a.buildICEPwd(r.attr("pwd"))+"\r\n"),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').each((function(e,t){i+="a=fingerprint:"+t.getAttribute("hash"),i+=" "+$(t).text(),i+="\r\n",t.hasAttribute("setup")&&(i+="a=setup:".concat(t.getAttribute("setup"),"\r\n"))}))),r.find(">candidate").each((function(e,n){var r=n.getAttribute("protocol");r="string"==typeof r?r.toLowerCase():"",t.removeTcpCandidates&&("tcp"===r||"ssltcp"===r)||t.removeUdpCandidates&&"udp"===r||(t.failICE&&n.setAttribute("ip","1.1.1.1"),i+=l.a.candidateFromJingle(n))})),e.attr("senders")){case"initiator":i+="a=".concat(s.a.SENDONLY,"\r\n");break;case"responder":i+="a=".concat(s.a.RECVONLY,"\r\n");break;case"none":i+="a=".concat(s.a.INACTIVE,"\r\n");break;case"both":i+="a=".concat(s.a.SENDRECV,"\r\n")}i+="a=mid:".concat(e.attr("name"),"\r\n"),n.find(">rtcp-mux").length&&(i+="a=rtcp-mux\r\n"),n.find(">payload-type").each((function(e,n){i+=l.a.buildRTPMap(n)+"\r\n",$(n).find(">parameter").length&&(i+="a=fmtp:".concat(n.getAttribute("id")," "),i+=$(n).find(">parameter").map((function(e,t){var n=t.getAttribute("name");return(n?n+"=":"")+t.getAttribute("value")})).get().join("; "),i+="\r\n"),i+=t.rtcpFbFromJingle($(n),n.getAttribute("id"))})),i+=this.rtcpFbFromJingle(n,"*"),n.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]').each((function(e,t){i+="a=extmap:".concat(t.getAttribute("id")," ").concat(t.getAttribute("uri"),"\r\n")})),n.find('>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,t){var n=t.getAttribute("semantics"),r=$(t).find(">source").map((function(e,t){return t.getAttribute("ssrc")})).get();r.length&&(i+="a=ssrc-group:".concat(n," ").concat(r.join(" "),"\r\n"))}));var u="",c="";return n.find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,t){var n=t.getAttribute("ssrc"),r=!0,i="";$(t).find(">parameter").each((function(e,t){var o=t.getAttribute("name"),a=t.getAttribute("value");a=l.a.filterSpecialChars(a),i+="a=ssrc:".concat(n," ").concat(o),a&&a.length&&(i+=":"+a),i+="\r\n",(null==a?void 0:a.includes("mixedmslabel"))&&(r=!1)})),r?u+=i:c+=i})),i+=c+u}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),i=n(17),o=n(9),a=n(29),s=n(84),u=n(220),c=n(134),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.b(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.b(t,e),t.prototype[c.a]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new u.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.b(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(d)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConferenceErrors",(function(){return r})),n.d(t,"AUTHENTICATION_REQUIRED",(function(){return i})),n.d(t,"CHAT_ERROR",(function(){return o})),n.d(t,"SETTINGS_ERROR",(function(){return a})),n.d(t,"CONFERENCE_DESTROYED",(function(){return s})),n.d(t,"CONFERENCE_MAX_USERS",(function(){return u})),n.d(t,"CONNECTION_ERROR",(function(){return c})),n.d(t,"CONFERENCE_RESTARTED",(function(){return l})),n.d(t,"NOT_ALLOWED_ERROR",(function(){return d})),n.d(t,"MEMBERS_ONLY_ERROR",(function(){return f})),n.d(t,"CONFERENCE_ACCESS_DENIED",(function(){return h})),n.d(t,"FOCUS_DISCONNECTED",(function(){return p})),n.d(t,"FOCUS_LEFT",(function(){return m})),n.d(t,"GRACEFUL_SHUTDOWN",(function(){return v})),n.d(t,"ICE_FAILED",(function(){return g})),n.d(t,"INCOMPATIBLE_SERVER_VERSIONS",(function(){return _})),n.d(t,"OFFER_ANSWER_FAILED",(function(){return b})),n.d(t,"PASSWORD_NOT_SUPPORTED",(function(){return y})),n.d(t,"PASSWORD_REQUIRED",(function(){return E})),n.d(t,"RESERVATION_ERROR",(function(){return S})),n.d(t,"VIDEOBRIDGE_NOT_AVAILABLE",(function(){return D})),function(e){e.AUTHENTICATION_REQUIRED="conference.authenticationRequired",e.CHAT_ERROR="conference.chatError",e.SETTINGS_ERROR="conference.settingsError",e.CONFERENCE_DESTROYED="conference.destroyed",e.CONFERENCE_MAX_USERS="conference.max_users",e.CONNECTION_ERROR="conference.connectionError",e.CONFERENCE_RESTARTED="conference.restarted",e.NOT_ALLOWED_ERROR="conference.connectionError.notAllowed",e.MEMBERS_ONLY_ERROR="conference.connectionError.membersOnly",e.CONFERENCE_ACCESS_DENIED="conference.connectionError.accessDenied",e.FOCUS_DISCONNECTED="conference.focusDisconnected",e.FOCUS_LEFT="conference.focusLeft",e.GRACEFUL_SHUTDOWN="conference.gracefulShutdown",e.ICE_FAILED="conference.iceFailed",e.INCOMPATIBLE_SERVER_VERSIONS="conference.incompatible_server_versions",e.OFFER_ANSWER_FAILED="conference.offerAnswerFailed",e.PASSWORD_NOT_SUPPORTED="conference.passwordNotSupported",e.PASSWORD_REQUIRED="conference.passwordRequired",e.RESERVATION_ERROR="conference.reservationError",e.VIDEOBRIDGE_NOT_AVAILABLE="conference.videobridgeNotAvailable"}(r||(r={}));var i=r.AUTHENTICATION_REQUIRED,o=r.CHAT_ERROR,a=r.SETTINGS_ERROR,s=r.CONFERENCE_DESTROYED,u=r.CONFERENCE_MAX_USERS,c=r.CONNECTION_ERROR,l=r.CONFERENCE_RESTARTED,d=r.NOT_ALLOWED_ERROR,f=r.MEMBERS_ONLY_ERROR,h=r.CONFERENCE_ACCESS_DENIED,p=r.FOCUS_DISCONNECTED,m=r.FOCUS_LEFT,v=r.GRACEFUL_SHUTDOWN,g=r.ICE_FAILED,_=r.INCOMPATIBLE_SERVER_VERSIONS,b=r.OFFER_ANSWER_FAILED,y=r.PASSWORD_NOT_SUPPORTED,E=r.PASSWORD_REQUIRED,S=r.RESERVATION_ERROR,D=r.VIDEOBRIDGE_NOT_AVAILABLE},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return _}));var r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _(e,Error)}}function o(e,t){return r.call(e)==="[object "+t+"]"}function a(e){return o(e,"ErrorEvent")}function s(e){return o(e,"DOMError")}function u(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return o(e,"Object")}function f(e){return"undefined"!=typeof Event&&_(e,Event)}function h(e){return"undefined"!=typeof Element&&_(e,Element)}function p(e){return o(e,"RegExp")}function m(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function v(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e){return"number"==typeof e&&e!=e}function _(e,t){try{return e instanceof t}catch(e){return!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r}));var r,i=n(0),o=n(103),a=n(59),s=Object(a.a)(),u=["debug","info","warn","error","log","assert"];function c(e){var t=Object(a.a)();if(!("console"in t))return e();var n=t.console,r={};u.forEach((function(e){var i=n[e]&&n[e].__sentry_original__;e in t.console&&i&&(r[e]=n[e],n[e]=i)}));try{return e()}finally{Object.keys(r).forEach((function(e){n[e]=r[e]}))}}function l(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return o.a?u.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e&&c((function(){var e;(e=s.console)[n].apply(e,Object(i.e)(["Sentry Logger ["+n+"]:"],t))}))}})):u.forEach((function(e){t[e]=function(){}})),t}r=o.a?Object(a.b)("logger",l):l()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(102),i=new(n(99).a)(r.a)},function(e,t,n){var r=n(592),i=n(593);t.write=i,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parseParams=r.parseParams,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},function(e,t){e.exports={H264:"h264",OPUS:"opus",ULPFEC:"ulpfec",VP8:"vp8",VP9:"vp9"}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),i=n.n(r),o=function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.a;this.eventEmitter=t,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return _createClass(e,[{key:"addListener",value:function(e,t){var n=this;return this.eventEmitter.addListener(e,t),function(){return n.removeEventListener(e,t)}}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}}]),e}()},function(e,t,n){"use strict";var r=n(33),i={};function o(e,t,n){if("object"==typeof e&&void 0!==e.name)switch(this.gum={error:e,constraints:t,devices:n&&Array.isArray(n)?n.slice(0):void 0},e.name){case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":this.name=r.PERMISSION_DENIED,this.message=i[this.name]+(this.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":this.name=r.NOT_FOUND,this.message=i[this.name]+(this.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":var o=e.constraintName||e.constraint;t&&t.video&&(!n||n.indexOf("video")>-1)&&("minWidth"===o||"maxWidth"===o||"minHeight"===o||"maxHeight"===o||"width"===o||"height"===o||"deviceId"===o)?(this.name=r.UNSUPPORTED_RESOLUTION,this.message=i[this.name]+function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||""}return""}(o,t)):(this.name=r.CONSTRAINT_FAILED,this.message=i[this.name]+e.constraintName);break;default:this.name=r.GENERAL,this.message=e.message||i[this.name]}else{if("string"!=typeof e)throw new Error("Invalid arguments");i[e]?(this.name=e,this.message=t||i[e]):this.message=e}this.stack=e.stack||(new Error).stack}i[r.UNSUPPORTED_RESOLUTION]="Video resolution is not supported: ",i[r.SCREENSHARING_USER_CANCELED]="User canceled screen sharing prompt",i[r.SCREENSHARING_GENERIC_ERROR]="Unknown error from screensharing",i[r.ELECTRON_DESKTOP_PICKER_ERROR]="Unkown error from desktop picker",i[r.ELECTRON_DESKTOP_PICKER_NOT_FOUND]="Failed to detect desktop picker",i[r.GENERAL]="Generic getUserMedia error",i[r.PERMISSION_DENIED]="User denied permission to use device(s): ",i[r.NOT_FOUND]="Requested device(s) was/were not found: ",i[r.CONSTRAINT_FAILED]="Constraint could not be satisfied: ",i[r.TIMEOUT]="Could not start media source. Timeout occured!",i[r.TRACK_IS_DISPOSED]="Track has been already disposed",i[r.TRACK_NO_STREAM_FOUND]="Track does not have an associated Media Stream",o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(9);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.b(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"DetectionEvents",(function(){return r})),n.d(t,"DETECTOR_STATE_CHANGE",(function(){return i})),n.d(t,"AUDIO_INPUT_STATE_CHANGE",(function(){return o})),n.d(t,"NO_AUDIO_INPUT",(function(){return a})),n.d(t,"VAD_NOISY_DEVICE",(function(){return s})),n.d(t,"VAD_REPORT_PUBLISHED",(function(){return u})),n.d(t,"VAD_SCORE_PUBLISHED",(function(){return c})),n.d(t,"VAD_TALK_WHILE_MUTED",(function(){return l})),function(e){e.DETECTOR_STATE_CHANGE="detector_state_change",e.AUDIO_INPUT_STATE_CHANGE="audio_input_state_changed",e.NO_AUDIO_INPUT="no_audio_input_detected",e.VAD_NOISY_DEVICE="detection.vad_noise_device",e.VAD_REPORT_PUBLISHED="vad-report-published",e.VAD_SCORE_PUBLISHED="detection.vad_score_published",e.VAD_TALK_WHILE_MUTED="detection.vad_talk_while_muted"}(r||(r={}));var i=r.DETECTOR_STATE_CHANGE,o=r.AUDIO_INPUT_STATE_CHANGE,a=r.NO_AUDIO_INPUT,s=r.VAD_NOISY_DEVICE,u=r.VAD_REPORT_PUBLISHED,c=r.VAD_SCORE_PUBLISHED,l=r.VAD_TALK_WHILE_MUTED},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return R}));var r=n(5),i=n(3),o=(n(590),n(106)),a=n(57),s=n(1),u=n(6),c=n(191),l=n(16),d=n(10),f=n(27),h=n.n(f),p=n(46),m=n(133),v=n.n(m),g=n(278),_=n(113),b=n(411),y=n(417),E=n(423),S=n(424),D=n(425),w=Object(r.getLogger)(e),C=/<failure.*><not-allowed\/><text>(.*)<\/text><\/failure>/gi,T=[{urls:"stun:meet-jit-si-turnrelay.jitsi.net:443"}],A="type",k="http://jitsi.org/protocol/jigasi",O="https://jitsi.org/meet/e2ee",R=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t){var i,s;_classCallCheck(this,r),(i=n.call(this)).connection=null,i.disconnectInProgress=!1,i.connectionTimes={},i.options=e,i.token=t,i.authenticatedUser=!1,Object(D.a)(),Object(E.a)();var u=e.xmppPing||{};return u.domain=e.hosts.domain,i.connection=function(e){var t=e.enableWebsocketResume,n=e.serviceUrl,r=void 0===n?"/http-bind":n,i=e.shard,o=e.token,a=e.websocketKeepAlive,s=e.websocketKeepAliveUrl,u=e.xmppPing;return o&&(r+="".concat(-1===r.indexOf("?")?"?":"&","token=").concat(o)),new _.a({enableWebsocketResume:t,serviceUrl:r,websocketKeepAlive:a,websocketKeepAliveUrl:s,xmppPing:u,shard:i})}({enableWebsocketResume:e.enableWebsocketResume,serviceUrl:e.serviceUrl||e.bosh,token:t,websocketKeepAlive:e.websocketKeepAlive,websocketKeepAliveUrl:e.websocketKeepAliveUrl,xmppPing:u,shard:null===(s=e.deploymentInfo)||void 0===s?void 0:s.shard}),i.connection.on(_.a.Events.CONN_SHARD_CHANGED,(function(){var e={shard_changed:!0,suspend_time:i.connection.ping.getPingSuspendTime(),time_since_last_success:i.connection.getTimeSinceLastSuccess()};i.eventEmitter.emit(a.CONNECTION_FAILED,o.OTHER_ERROR,void 0,void 0,e)})),i._initStrophePlugins(),i.caps=new g.a(i.connection,"https://jitsi.org/jitsi-meet"),i.initFeaturesList(),i}return _createClass(r,[{key:"initFeaturesList",value:function(){this.caps.addFeature("urn:xmpp:jingle:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.caps.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:dtls:0"),this.caps.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:video"),this.caps.addFeature("http://jitsi.org/json-encoded-sources"),!this.options.disableRtx&&u.a.supportsRTX()&&this.caps.addFeature("urn:ietf:rfc:4588"),!0===this.options.enableOpusRed&&u.a.supportsAudioRed()&&this.caps.addFeature("http://jitsi.org/opus-red"),(void 0===this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature("http://jitsi.org/remb"),u.a.isFirefox()||void 0!==this.options.enableTcc&&!this.options.enableTcc||this.caps.addFeature("http://jitsi.org/tcc"),this.caps.addFeature("urn:ietf:rfc:5761"),this.caps.addFeature("urn:ietf:rfc:5888"),u.a.isChromiumBased()&&!0===this.options.enableLipSync&&(w.info("Lip-sync enabled !"),this.caps.addFeature("http://jitsi.org/meet/lipsync")),this.connection.rayo&&this.caps.addFeature("urn:xmpp:rayo:client:1"),c.a.isSupported(this.options)&&this.caps.addFeature(O,!1,!0),l.a.isSourceNameSignalingEnabled()&&(w.info("Source-name signaling is enabled"),this.caps.addFeature("http://jitsi.org/source-name"))}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,u=window.performance.now(),c=i.Strophe.getStatusString(n).toLowerCase();if(this.connectionTimes[c]=u,w.log("(TIME) Strophe ".concat(c).concat(r?"[".concat(r,"]"):"",":\t"),u),this.eventEmitter.emit(s.XMPPEvents.CONNECTION_STATUS_CHANGED,t,n,r),this._maybeSendDeploymentInfoStat(),n===i.Strophe.Status.CONNECTED||n===i.Strophe.Status.ATTACHED)this._sysMessageHandler&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null),this.sendDiscoInfo&&this.connection.jingle.getStunAndTurnCredentials(),w.info("My Jabber ID: "+this.connection.jid),this._resetState(),this.sendDeploymentInfo=!1,this.sendDiscoInfo&&this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then((function(t){var n=t.features,r=t.identities;n.has(i.Strophe.NS.PING)||w.error("Ping NOT supported by ".concat(e.options.hosts.domain," - please enable ping in your XMPP server config")),e._processDiscoInfoIdentities(r,void 0)})).catch((function(t){var n="Feature discovery error";h.a.callErrorHandler(new Error("".concat(n,": ").concat(t))),w.error(n,t),e._maybeSendDeploymentInfoStat(!0)})),this.sendDiscoInfo=!1,t.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&i.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(a.CONNECTION_ESTABLISHED,i.Strophe.getResourceFromJid(this.connection.jid));else if(n===i.Strophe.Status.CONNFAIL)"x-strophe-bad-non-anon-jid"===r?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=r,"giving-up"===r&&this.eventEmitter.emit(a.CONNECTION_FAILED,o.OTHER_ERROR,r);else if(n===i.Strophe.Status.ERROR)this.lastErrorMsg=r;else if(n===i.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var l=Boolean(this.disconnectInProgress),d=r||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(a.CONNECTION_FAILED,o.PASSWORD_REQUIRED);else if(this.connectionFailed)this.eventEmitter.emit(a.CONNECTION_FAILED,o.OTHER_ERROR,d,void 0,this._getConnectionFailedReasonDetails());else if(l)this.eventEmitter.emit(a.CONNECTION_DISCONNECTED,d);else{w.error("XMPP connection dropped!");var f=i.Strophe.getLastErrorStatus();f>=500&&f<600?this.eventEmitter.emit(a.CONNECTION_FAILED,o.SERVER_ERROR,d||"server-error",void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(a.CONNECTION_FAILED,o.CONNECTION_DROPPED_ERROR,d||"connection-dropped-error",void 0,this._getConnectionFailedReasonDetails())}}else if(n===i.Strophe.Status.AUTHFAIL){var p=this.getConnection().getLastFailedMessage();this.eventEmitter.emit(a.CONNECTION_FAILED,o.PASSWORD_REQUIRED,r||this._parseConnectionFailedMessage(p),t)}}},{key:"_processDiscoInfoIdentities",value:function(e,t){var n=this;e.forEach((function(e){if("av_moderation"===e.type&&(n.avModerationComponentAddress=e.name),"speakerstats"===e.type&&(n.speakerStatsComponentAddress=e.name),"conference_duration"===e.type&&(n.conferenceDurationComponentAddress=e.name),"lobbyrooms"===e.type){n.lobbySupported=!0;var r=function(e){e.forEach((function(e){e.endsWith("#displayname_required")&&n.eventEmitter.emit(a.DISPLAY_NAME_REQUIRED)}))};t?r(t):e.name&&n.caps.getFeaturesAndIdentities(e.name,e.type).then((function(e){var t=e.features;return r(t)})).catch((function(e){return w.warn("Error getting features from lobby.",e&&e.message)}))}"shard"===e.type&&(n.options.deploymentInfo.shard=n.connection.shard=e.name),"region"===e.type&&(n.options.deploymentInfo.region=n.connection.region=e.name),"breakout_rooms"===e.type&&(n.breakoutRoomsComponentAddress=e.name)})),this._maybeSendDeploymentInfoStat(!0),(this.avModerationComponentAddress||this.speakerStatsComponentAddress||this.conferenceDurationComponentAddress||this.breakoutRoomsComponentAddress)&&this.connection.addHandler(this._onPrivateMessage.bind(this),null,"message",null,null)}},{key:"_parseConnectionFailedMessage",value:function(e){if(!e)return null;var t=C.exec(e);return t?t[1]:null}},{key:"_connect",value:function(e,t){this._resetState(),this.sendDiscoInfo=!0,this.sendDeploymentInfo=!0,this.connection._stropheConn&&this.connection._stropheConn._addSysHandler?this._sysMessageHandler=this.connection._stropheConn._addSysHandler(this._onSystemMessage.bind(this),null,"message"):w.warn("Cannot attach strophe system handler, jiconop cannot operate"),this.connection.connect(e,t,this.connectionHandler.bind(this,{jid:e,password:t}))}},{key:"_onSystemMessage",value:function(e){if(0!==$(e).find(">services").length||0!==$(e).find(">query").length){this.sendDiscoInfo=!1;var t=this.connection.jingle.onReceiveStunAndTurnCredentials(e),n=Object(g.b)(e),r=n.features,i=n.identities;this._processDiscoInfoIdentities(i,r),(t||i.size>0||r.size>0)&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null)}}},{key:"attach",value:function(e){this._resetState(),this.sendDiscoInfo=!0;var t=this.connectionTimes.attaching=window.performance.now();w.log("(TIME) Strophe Attaching:\t",t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,{jid:e.jid,password:e.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(e,t){if(!e){var n=this.options.hosts,r=n.anonymousdomain,i=n.domain,o=r||i,a=window.location;if(r){var s=a&&a.search;(s&&-1!==s.indexOf("login=true")||this.token)&&(o=i)}e=o||a&&a.hostname}return this._connect(e,t)}},{key:"createRoom",value:function(e,t,n){var r=e.domain||t.customDomain,i=this.getRoomJid(e,r)+"/",o=n?n(this.connection.jid,this.authenticatedUser):v.a.randomHexString(8).toLowerCase();return w.info("JID ".concat(this.connection.jid," using MUC nickname ").concat(o)),i+=o,this.connection.emuc.createRoom(i,null,t)}},{key:"getRoomJid",value:function(e,t){return"".concat(e,"@").concat(t||this.options.hosts.muc.toLowerCase())}},{key:"isRoomCreated",value:function(e,t){return this.connection.emuc.isRoomCreated(this.getRoomJid(e,t))}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var e;(e=this.connection.rayo).dial.apply(e,arguments)}},{key:"ping",value:function(e){var t=this;return new Promise((function(n,r){t.connection.ping.ping(t.connection.pingDomain,n,r,e)}))}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(e){var t=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise((function(e){t.eventEmitter.on(s.XMPPEvents.CONNECTION_STATUS_CHANGED,(function n(r,o){o===i.Strophe.Status.DISCONNECTED&&(e(),t.eventEmitter.removeListener(s.XMPPEvents.CONNECTION_STATUS_CHANGED,n))}))})),this._cleanupXmppConnection(e),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(e){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!=e){var t=e.type;if(("beforeunload"===t||"unload"===t)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var e={jvb:{iceServers:[]},p2p:{iceServers:[]}},t=this.options.p2p&&this.options.p2p.stunServers||T;Array.isArray(t)&&(w.info("P2P STUN servers: ",t),e.p2p.iceServers=t),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(w.info("P2P ICE transport policy: ",this.options.p2p.iceTransportPolicy),e.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin("emuc",new b.a(this)),this.connection.addConnectionPlugin("jingle",new y.a(this,this.eventEmitter,e)),this.connection.addConnectionPlugin("rayo",new S.a)}},{key:"_getConnectionFailedReasonDetails",value:function(){var e={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var t=this.connection.lastResponseHeaders.trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift(),i=t.join(": ");n[r]=i})),e.shard_changed=this.options.deploymentInfo.shard!==n["x-jitsi-shard"]}return e.suspend_time=this.connection.ping.getPingSuspendTime(),e.time_since_last_success=this.connection.getTimeSinceLastSuccess(),e}},{key:"sendDominantSpeakerEvent",value:function(e){if(this.speakerStatsComponentAddress&&e){var t=Object(i.$msg)({to:this.speakerStatsComponentAddress});t.c("speakerstats",{xmlns:"http://jitsi.org/jitmeet",room:e}).up(),this.connection.send(t)}}},{key:"sendFaceExpressionEvent",value:function(e,t){if(this.speakerStatsComponentAddress&&e){var n=Object(i.$msg)({to:this.speakerStatsComponentAddress});n.c("faceExpression",{xmlns:"http://jitsi.org/jitmeet",room:e,expression:t.faceExpression,duration:t.duration}).up(),this.connection.send(n)}}},{key:"tryParseJSONAndVerify",value:function(e){if(!e)return!1;try{var n=JSON.parse(e);if(n&&"object"==typeof n){var r=n[A];if(void 0!==r)return n;w.debug("parsing valid json but does not have correct structure","topic: ",r)}}catch(t){return w.error("Error parsing json "+e,t),!1}return!1}},{key:"_onPrivateMessage",value:function(e){var t=e.getAttribute("from");if(t!==this.speakerStatsComponentAddress&&t!==this.conferenceDurationComponentAddress&&t!==this.avModerationComponentAddress&&t!==this.breakoutRoomsComponentAddress)return!0;var n=$(e).find(">json-message").text(),r=this.tryParseJSONAndVerify(n);return!r||("speakerstats"===r[A]&&r.users?this.eventEmitter.emit(s.XMPPEvents.SPEAKER_STATS_RECEIVED,r.users):"conference_duration"===r[A]&&r.created_timestamp?this.eventEmitter.emit(s.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,r.created_timestamp):"av_moderation"===r[A]?this.eventEmitter.emit(s.XMPPEvents.AV_MODERATION_RECEIVED,r):"breakout_rooms"===r[A]&&this.eventEmitter.emit(s.XMPPEvents.BREAKOUT_ROOMS_EVENT,r),!0)}},{key:"_maybeSendDeploymentInfoStat",value:function(e){var t=[i.Strophe.Status.ERROR,i.Strophe.Status.CONNFAIL,i.Strophe.Status.AUTHFAIL,i.Strophe.Status.DISCONNECTED,i.Strophe.Status.CONNTIMEOUT];if(e||t.includes(this.connection.status)&&this.sendDeploymentInfo){var n=this.options.deploymentInfo;if(n&&Object.keys(n).length>0){var r={id:"deployment_info"};for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);d.a.sendLog(JSON.stringify(r))}this.sendDeploymentInfo=!1}}}]),r}(p.a)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(17),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},function(e,t,n){"use strict";var r,i,o;n.r(t),n.d(t,"VideoSIPGWStatusConstants",(function(){return r})),n.d(t,"VideoSIPGWStateConstants",(function(){return i})),n.d(t,"VideoSIPGWErrorConstants",(function(){return o})),n.d(t,"STATUS_AVAILABLE",(function(){return a})),n.d(t,"STATUS_UNDEFINED",(function(){return s})),n.d(t,"STATUS_BUSY",(function(){return u})),n.d(t,"STATE_ON",(function(){return c})),n.d(t,"STATE_OFF",(function(){return l})),n.d(t,"STATE_PENDING",(function(){return d})),n.d(t,"STATE_RETRYING",(function(){return f})),n.d(t,"STATE_FAILED",(function(){return h})),n.d(t,"ERROR_NO_CONNECTION",(function(){return p})),n.d(t,"ERROR_SESSION_EXISTS",(function(){return m})),function(e){e.STATUS_AVAILABLE="available",e.STATUS_UNDEFINED="undefined",e.STATUS_BUSY="busy"}(r||(r={})),function(e){e.STATE_ON="on",e.STATE_OFF="off",e.STATE_PENDING="pending",e.STATE_RETRYING="retrying",e.STATE_FAILED="failed"}(i||(i={})),function(e){e.ERROR_NO_CONNECTION="error_no_connection",e.ERROR_SESSION_EXISTS="error_session_already_exists"}(o||(o={}));var a=r.STATUS_AVAILABLE,s=r.STATUS_UNDEFINED,u=r.STATUS_BUSY,c=i.STATE_ON,l=i.STATE_OFF,d=i.STATE_PENDING,f=i.STATE_RETRYING,h=i.STATE_FAILED,p=o.ERROR_NO_CONNECTION,m=o.ERROR_SESSION_EXISTS},function(e,t,n){"use strict";n.r(t),n.d(t,"flatbuffers",(function(){return r}));var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var i=(n+2)*r.SIZEOF_SHORT;this.addInt16(i);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(s)){for(var u=r.SIZEOF_SHORT;u<i;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(a+u)!=this.bb.readInt16(s+u))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var i=n?r.SIZE_PREFIX_LENGTH:0;if(t){var o=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+i),o.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var a=r.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(o.charCodeAt(a))}this.prep(this.minalign,r.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,i=e.charCodeAt(n++);(r=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var o=this.space,a=this.bb.bytes();n<t.length;n++)a[o++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",o=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;o<n;){var a,s=this.readUint8(e+o++);if(s<192)a=s;else{var u=this.readUint8(e+o++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(e+o++);a=s<240?(15&s)<<12|(63&u)<<6|63&c:(7&s)<<18|(63&u)<<12|(63&c)<<6|63&this.readUint8(e+o++)}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return i},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),i=n(136),o=n(216);function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConnectionEvents",(function(){return r})),n.d(t,"CONNECTION_DISCONNECTED",(function(){return i})),n.d(t,"CONNECTION_ESTABLISHED",(function(){return o})),n.d(t,"CONNECTION_FAILED",(function(){return a})),n.d(t,"WRONG_STATE",(function(){return s})),n.d(t,"DISPLAY_NAME_REQUIRED",(function(){return u})),function(e){e.CONNECTION_DISCONNECTED="connection.connectionDisconnected",e.CONNECTION_ESTABLISHED="connection.connectionEstablished",e.CONNECTION_FAILED="connection.connectionFailed",e.WRONG_STATE="connection.wrongState",e.DISPLAY_NAME_REQUIRED="connection.display_name_required"}(r||(r={}));var i=r.CONNECTION_DISCONNECTED,o=r.CONNECTION_ESTABLISHED,a=r.CONNECTION_FAILED,s=r.WRONG_STATE,u=r.DISPLAY_NAME_REQUIRED},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),function(e){e.AUDIO_LEVEL="statistics.audioLevel",e.BEFORE_DISPOSED="statistics.before_disposed",e.BYTE_SENT_STATS="statistics.byte_sent_stats",e.CONNECTION_STATS="statistics.connectionstats",e.LONG_TASKS_STATS="statistics.long_tasks_stats"}(r||(r={}));var i=r.AUDIO_LEVEL,o=r.BEFORE_DISPOSED,a=r.BYTE_SENT_STATS,s=r.CONNECTION_STATS,u=r.LONG_TASKS_STATS},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(94),i={};function o(){return Object(r.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(e,t,n){var r=n||o(),i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}}).call(this,n(49))},function(e,t,n){"use strict";t.a=window.document},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v}));var r=n(0),i=n(390),o=n(40),a=n(137);function s(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{c(i,r)}catch(e){}e[t]=i}}function u(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function c(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,u(e,"__sentry_original__",t)}function l(e){return e.__sentry_original__}function d(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function f(e){var t=e;if(Object(o.d)(e))t=Object(r.a)({message:e.message,name:e.name,stack:e.stack},p(e));else if(Object(o.f)(e)){var n=e;t=Object(r.a)({type:n.type,target:h(n.target),currentTarget:h(n.currentTarget)},p(n)),"undefined"!=typeof CustomEvent&&Object(o.g)(e,CustomEvent)&&(t.detail=n.detail)}return t}function h(e){try{return Object(o.c)(e)?Object(i.b)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function m(e,t){void 0===t&&(t=40);var n=Object.keys(f(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(a.d)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Object(a.d)(i,t)}return""}function v(e){var t,n;if(Object(o.i)(e)){var i={};try{for(var a=Object(r.f)(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value;void 0!==e[u]&&(i[u]=v(e[u]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(v):e}},function(e,t,n){"use strict";(function(e){var r=n(602),i=n(603),o=n(334);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function E(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return E(e,t,n,r)}function D(e,t,n,r){return V(H(t),e,n,r)}function w(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function x(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||x(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||x(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return D(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:U(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(49))},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(646).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=f;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?l[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:l[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,v=0|a[2],g=8191&v,_=v>>>13,b=0|a[3],y=8191&b,E=b>>>13,S=0|a[4],D=8191&S,w=S>>>13,C=0|a[5],T=8191&C,A=C>>>13,k=0|a[6],O=8191&k,R=k>>>13,M=0|a[7],I=8191&M,P=M>>>13,N=0|a[8],x=8191&N,F=N>>>13,L=0|a[9],j=8191&L,B=L>>>13,U=0|s[0],H=8191&U,V=U>>>13,q=0|s[1],G=8191&q,J=q>>>13,z=0|s[2],K=8191&z,W=z>>>13,$=0|s[3],Y=8191&$,X=$>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(r=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(f,H)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,V))+Math.imul(m,H)|0,o=Math.imul(m,V);var ge=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,H),i=(i=Math.imul(g,V))+Math.imul(_,H)|0,o=Math.imul(_,V),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,J)|0;var _e=(c+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(y,H),i=(i=Math.imul(y,V))+Math.imul(E,H)|0,o=Math.imul(E,V),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,W)|0;var be=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,V))+Math.imul(w,H)|0,o=Math.imul(w,V),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(g,K)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var ye=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(T,H),i=(i=Math.imul(T,V))+Math.imul(A,H)|0,o=Math.imul(A,V),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,H),i=(i=Math.imul(O,V))+Math.imul(R,H)|0,o=Math.imul(R,V),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(D,K)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var Se=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,V))+Math.imul(P,H)|0,o=Math.imul(P,V),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var De=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,V))+Math.imul(F,H)|0,o=Math.imul(F,V),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var we=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,H),i=(i=Math.imul(j,V))+Math.imul(B,H)|0,o=Math.imul(B,V),r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,J)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Ce=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,G),i=(i=Math.imul(j,J))+Math.imul(B,G)|0,o=Math.imul(B,J),r=r+Math.imul(x,K)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(F,K)|0,o=o+Math.imul(F,W)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Te=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,K),i=(i=Math.imul(j,W))+Math.imul(B,K)|0,o=Math.imul(B,W),r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(F,Y)|0,o=o+Math.imul(F,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,fe)|0;var Ae=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(B,Y)|0,o=Math.imul(B,X),r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var ke=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(B,Z)|0,o=Math.imul(B,ee),r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(F,ne)|0,o=o+Math.imul(F,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,fe)|0;var Oe=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,ne),i=(i=Math.imul(j,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(F,oe)|0,o=o+Math.imul(F,ae)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(R,de)|0,o=o+Math.imul(R,fe)|0;var Re=(c+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(F,ue)|0,o=o+Math.imul(F,ce)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,fe)|0;var Me=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(F,de)|0,o=o+Math.imul(F,fe)|0;var Ie=(c+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,de),i=(i=Math.imul(j,fe))+Math.imul(B,de)|0,o=Math.imul(B,fe);var Pe=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(F,pe)|0))<<13)|0;c=((o=o+Math.imul(F,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(c+(r=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=ve,u[1]=ge,u[2]=_e,u[3]=be,u[4]=ye,u[5]=Ee,u[6]=Se,u[7]=De,u[8]=we,u[9]=Ce,u[10]=Te,u[11]=Ae,u[12]=ke,u[13]=Oe,u[14]=Re,u[15]=Me,u[16]=Ie,u[17]=Pe,u[18]=Ne,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},v.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},v.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var d=u,f=c,h=0;h<a;h++){var p=n[l+h],m=r[l+h],v=n[l+h+a],g=r[l+h+a],_=d*v-f*g;g=d*g+f*v,v=_,n[l+h]=p+v,r[l+h]=m+g,n[l+h+a]=p-v,r[l+h+a]=m-g,h!==s&&(_=u*d-c*f,f=u*f+c*d,d=_)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},v.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,d,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*d[h];u[h]=s[h]*d[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new D(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function D(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function w(e){D.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(b,_),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(y,_),i(E,_),i(S,_),S.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new y;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return g[e]=t,t},D.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},D.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},D.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},D.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},D.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},D.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},D.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},D.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},D.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},D.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},D.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},D.prototype.isqr=function(e){return this.imul(e,e.clone())},D.prototype.sqr=function(e){return this.mul(e,e)},D.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(d,new o(1).iushln(p-v-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=v}return f},D.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},D.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},D.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},D.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new w(e)},i(w,D),w.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},w.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},w.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},w.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},w.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(180)(e))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(23),a=n(304),s=n(305),u=n(311),c=n(482),l=n(312),d=n(200),f=n(126),h=n(245),p=n(313),m=n(314),v=n(315),g=n(115),_=n(177),b=n(178),y=n(316);!function(e){e.FileReload="@@FileReload",e.PreBrowserReload="@@PreBrowserReload",e.BrowserReload="@@BrowserReload",e.BrowserSetLocation="@@BrowserSetLocation",e.BrowserSetScroll="@@BrowserSetScroll",e.SetOptions="@@SetOptions",e.SetFocusEffect="@@setElementFocusEffect",e.SetInputEffect="@@setElementInputEffect",e.SetChangeEffect="@@setElementChangeEffect",e.DispatchMouseEvent="@@dispatchMouseEvent",e.DispatchKeyboardEvent="@@dispatchKeyboardEvent",e.DispatchDragAndDropEvent="@@dispatchDragAndDropEvent",e.SetSelectionEffect="@@dispatchSelectionEvent",e.DispatchTouchEvent="@@dispatchTouchEvent",e.DispatchMediaEvent="@@DispatchMediaEvent",e.DispatchSelectEvent="@@DispatchSelectEvent"}(i=t.EffectNames||(t.EffectNames={})),t.effectOutputHandlers$=new o.BehaviorSubject(((r={})[i.SetOptions]=a.setOptionsEffect,r[i.FileReload]=s.fileReloadEffect,r[i.BrowserReload]=l.browserReloadEffect,r[i.BrowserSetLocation]=u.browserSetLocationEffect,r[i.SetFocusEffect]=h.setElementFocusEffect,r[i.SetChangeEffect]=m.setElementChangeEffect,r[i.SetInputEffect]=p.setElementInputEffect,r[i.BrowserSetScroll]=c.setScrollEffect,r[i.DispatchMouseEvent]=f.dispatchMouseEvent,r[i.DispatchKeyboardEvent]=d.dispatchKeyboardEvent,r[i.SetSelectionEffect]=v.setElementSelectionEffect,r[i.DispatchDragAndDropEvent]=g.dispatchDragAndDropEvent,r[i.DispatchTouchEvent]=_.dispatchTouchEvent,r[i.DispatchMediaEvent]=b.dispatchMediaEvent,r[i.DispatchSelectEvent]=y.dispatchSelectEvent,r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.b(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(9).a)},function(e,t,n){"use strict";t.a=[]},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),function(e){e.PEER_MUTED_CHANGED="signaling.peerMuted",e.PEER_VIDEO_TYPE_CHANGED="signaling.peerVideoType",e.SOURCE_MUTED_CHANGED="signaling.sourceMuted",e.SOURCE_VIDEO_TYPE_CHANGED="signaling.sourceVideoType"}(r||(r={}));var i=r.PEER_MUTED_CHANGED,o=r.PEER_VIDEO_TYPE_CHANGED,a=r.SOURCE_MUTED_CHANGED,s=r.SOURCE_VIDEO_TYPE_CHANGED},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r,i,o=n(92),a=n(5),s=n(416),u=n.n(s),c=Object(a.getLogger)(e);function l(){return(Math.random().toString(16)+"000000000").substr(2,8)}t.a={_storage:o.b,init:function(e){this._storage=e||o.b},get callStatsUserName(){return r||(r=this._storage.getItem("callStatsUserName"))||(r=function(){var e=u.a.generateUsername();return c.log("generated callstats uid",e),e}(),this._storage.setItem("callStatsUserName",r)),r},get machineId(){if(!i){var e=this._storage.getItem("billingId");i=e||this._storage.getItem("jitsiMeetId"),e?this._storage.setItem("jitsiMeetId",e):i||(i=function(){var e=l()+l()+l()+l();return c.log("generated id",e),e}(),this._storage.setItem("jitsiMeetId",i))}return i},get sessionId(){return this._storage.getItem("sessionId")},set sessionId(e){e?this._storage.setItem("sessionId",e):this._storage.removeItem("sessionId")}}}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(43);function i(e){return parseInt(e.ssrcs.split(" ")[0],10)}function o(e){return parseInt(e.ssrcs.split(" ")[1],10)}function a(e){return e.ssrcs?e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length:0}var s=function(){function e(t){if(_classCallCheck(this,e),!t)throw new Error("mLine is undefined");this.mLine=t}return _createClass(e,[{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(e){this.mLine.ssrcs=e}},{key:"direction",get:function(){return this.mLine.direction},set:function(e){this.mLine.direction=e}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(e){this.mLine.ssrcGroups=e}},{key:"getSSRCAttrValue",value:function(e,t){var n=this.ssrcs.find((function(n){return n.id===e&&n.attribute===t}));return n&&n.value}},{key:"removeSSRC",value:function(e){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter((function(t){return t.id!==e})))}},{key:"addSSRCAttribute",value:function(e){this.ssrcs.push(e)}},{key:"findGroup",value:function(e,t){return this.ssrcGroups.find((function(n){return n.semantics===e&&(!t||t===n.ssrcs)}))}},{key:"findGroups",value:function(e){return this.ssrcGroups.filter((function(t){return t.semantics===e}))}},{key:"findGroupByPrimarySSRC",value:function(e,t){return this.ssrcGroups.find((function(n){return n.semantics===e&&i(n)===t}))}},{key:"findSSRCByMSID",value:function(e){return this.ssrcs.find((function(t){return"msid"===t.attribute&&(null===e||t.value===e)}))}},{key:"getSSRCCount",value:function(){return a(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimarySsrc doesn't work with '".concat(e,"'"));if(1===a(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var t=this.findGroup("SIM");if(t)return i(t);var n=this.findGroup("FID");if(n)return i(n);var r=this.findGroup("FEC-FR");if(r)return i(r)}}},{key:"getRtxSSRC",value:function(e){var t=this.findGroupByPrimarySSRC("FID",e);return t&&o(t)}},{key:"getSSRCs",value:function(){return this.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"getPrimaryVideoSSRCs",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimaryVideoSSRCs doesn't work with "+e);var t,n=this.getSSRCs(),r=_createForOfIteratorHelper(this.ssrcGroups);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("FID"===i.semantics||"FEC-FR"===i.semantics){var a=o(i);n.splice(n.indexOf(a),1)}}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter((function(t){return-1===t.ssrcs.indexOf(""+e)})))}},{key:"removeGroupsBySemantics",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter((function(t){return t.semantics!==e})))}},{key:"replaceSSRC",value:function(e,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach((function(n){n.id===e&&(n.id=t)}))}},{key:"addSSRCGroup",value:function(e){this.ssrcGroups.push(e)}}]),e}(),u=function(){function e(t){_classCallCheck(this,e),this.parsedSDP=r.parse(t)}return _createClass(e,[{key:"selectMedia",value:function(e){var t=this.parsedSDP.media.filter((function(t){return t.type===e})).map((function(e){return new s(e)}));return null!=t?t:null}},{key:"toRawSDP",value:function(){return r.write(this.parsedSDP)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(9);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.b(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r,i=n(53),o=n(118),a=n(156);r||(r={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";function r(e){var t=e;return e>=Number.MAX_SAFE_INTEGER&&(t=0),t+1}function i(e){return e.length>0?e.reduce((function(e,t){return e+t}))/e.length:0}function o(e){return e.filter((function(e){return e>=0}))}n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a=function(){function e(){_classCallCheck(this,e),this.average=0,this.n=0}return _createClass(e,[{key:"addNext",value:function(e){"number"==typeof e&&(this.n+=1,this.average=this.average+(e-this.average)/this.n)}},{key:"getAverage",value:function(){return this.average}}]),e}()},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ConnectionQualityEvents",(function(){return r})),n.d(t,"LOCAL_STATS_UPDATED",(function(){return i})),n.d(t,"REMOTE_STATS_UPDATED",(function(){return o})),function(e){e.LOCAL_STATS_UPDATED="cq.local_stats_updated",e.REMOTE_STATS_UPDATED="cq.remote_stats_updated"}(r||(r={}));var i=r.LOCAL_STATS_UPDATED,o=r.REMOTE_STATS_UPDATED},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),h=t&&!t.nodeType&&t,p=h&&"object"==typeof n&&n&&!n.nodeType&&n,m=p&&p.exports===h,v=m&&l.process,g=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),_=g&&g.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var S,D,w,C=Array.prototype,T=Function.prototype,A=Object.prototype,k=f["__core-js_shared__"],O=T.toString,R=A.hasOwnProperty,M=(S=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",I=A.toString,P=RegExp("^"+O.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?f.Buffer:void 0,x=f.Symbol,F=f.Uint8Array,L=A.propertyIsEnumerable,j=C.splice,B=x?x.toStringTag:void 0,U=Object.getOwnPropertySymbols,H=N?N.isBuffer:void 0,V=(D=Object.keys,w=Object,function(e){return D(w(e))}),q=pe(f,"DataView"),G=pe(f,"Map"),J=pe(f,"Promise"),z=pe(f,"Set"),K=pe(f,"WeakMap"),W=pe(Object,"create"),$=_e(q),Y=_e(G),X=_e(J),Q=_e(z),Z=_e(K),ee=x?x.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function ue(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=R.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=I.call(e);return r&&(t?e[B]=n:delete e[B]),i}(e):function(e){return I.call(e)}(e)}function ce(e){return Te(e)&&ue(e)==r}function le(e,t,n,s,u){return e===t||(null==e||null==t||!Te(e)&&!Te(t)?e!=e&&t!=t:function(e,t,n,s,u,c){var l=Ee(e),d=Ee(t),f=l?"[object Array]":ve(e),h=d?"[object Array]":ve(t),p=(f=f==r?o:f)==o,m=(h=h==r?o:h)==o,v=f==h;if(v&&Se(e)){if(!Se(t))return!1;l=!0,p=!1}if(v&&!p)return c||(c=new ae),l||Ae(e)?de(e,t,n,s,u,c):function(e,t,n,r,o,s,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new F(e),new F(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=y;case a:var l=1&r;if(c||(c=E),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=de(c(e),c(t),r,o,s,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,s,u,c);if(!(1&n)){var g=p&&R.call(e,"__wrapped__"),_=m&&R.call(t,"__wrapped__");if(g||_){var b=g?e.value():e,S=_?t.value():t;return c||(c=new ae),u(b,S,n,s,c)}}return!!v&&(c||(c=new ae),function(e,t,n,r,i,o){var a=1&n,s=fe(e),u=s.length;if(u!=fe(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:R.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var h=a;++c<u;){var p=e[l=s[c]],m=t[l];if(r)var v=a?r(m,p,l,t,e,o):r(p,m,l,e,t,o);if(!(void 0===v?p===m||i(p,m,n,r,o):v)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var g=e.constructor,_=t.constructor;g==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,s,u,c))}(e,t,n,s,le,u))}function de(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,f=2&n?new oe:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],p=t[l];if(r)var m=a?r(p,h,l,t,e,o):r(h,p,l,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||i(h,e,n,r,o)))return f.push(t);var a}))){d=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function fe(e){return function(e,t,n){var r=t(e);return Ee(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,ke,me)}function he(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ce(e)||function(e){return!!M&&M in e}(e))&&(De(e)?P:s).test(_e(e))}(n)?n:void 0}ne.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(W){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:R.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return se(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(G||re),string:new ne}},ie.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return he(this,e).get(e)},ie.prototype.has=function(e){return he(this,e).has(e)},ie.prototype.set=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var me=U?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a)&&(o[i++]=a)}return o}(U(e),(function(t){return L.call(e,t)})))}:function(){return[]},ve=ue;function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t){return e===t||e!=e&&t!=t}(q&&"[object DataView]"!=ve(new q(new ArrayBuffer(1)))||G&&ve(new G)!=i||J&&"[object Promise]"!=ve(J.resolve())||z&&ve(new z)!=a||K&&"[object WeakMap]"!=ve(new K))&&(ve=function(e){var t=ue(e),n=t==o?e.constructor:void 0,r=n?_e(n):"";if(r)switch(r){case $:return"[object DataView]";case Y:return i;case X:return"[object Promise]";case Q:return a;case Z:return"[object WeakMap]"}return t});var ye=ce(function(){return arguments}())?ce:function(e){return Te(e)&&R.call(e,"callee")&&!L.call(e,"callee")},Ee=Array.isArray,Se=H||function(){return!1};function De(e){if(!Ce(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var Ae=_?function(e){return function(t){return e(t)}}(_):function(e){return Te(e)&&we(e.length)&&!!c[ue(e)]};function ke(e){return null!=(t=e)&&we(t.length)&&!De(t)?function(e,t){var n=Ee(e),r=!n&&ye(e),i=!n&&!r&&Se(e),o=!n&&!r&&!i&&Ae(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!R.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ge(c,u))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||A))return V(e);var t,n,r=[];for(var i in Object(e))R.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e);var t}n.exports=function(e,t){return le(e,t)}}).call(this,n(49),n(180)(e))},function(e,t,n){"use strict";var r;n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),function(e){e.PENDING="pending",e.ACTIVE="active",e.ENDED="ended"}(r||(r={}));var i=r.PENDING,o=r.ACTIVE,a=r.ENDED},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ACCEPT="session-accept",e.CONNECTION_ERROR="connection-error-encountered",e.INITIATE="session-initiate",e.TERMINATE="session-terminate",e.TRANSPORT_INFO="transport-info",e.UNAVAILABLE="unavailable"}(r||(r={}))},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=t,i=n(63),o=n(81),a=n(371);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),a=0==(1&u)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==c?u:-u,n[0].push(a),s=0==(1&c)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==u?c:-c,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(47),i=n(33),o=n(6),a=n(5).getLogger(e),s=5,u={obtainStream:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||a.info("Desktop sharing disabled")},_createObtainStreamMethod:function(){return o.a.isNWJS()?function(e,t){window.JitsiMeetNW.obtainDesktopStream(e,(function(e,n){var o;o=e&&"InvalidStateError"===e.name?new r.a(i.SCREENSHARING_USER_CANCELED):new r.a(e,n,["desktop"]),"function"==typeof t&&t(o)}))}:o.a.isElectron()?this.obtainScreenOnElectron:o.a.isReactNative()&&o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(a.log("Screen sharing not supported on ",o.a.getName()),null)},_getAudioConstraints:function(){var e=this.options.audioQuality;return!(null==e?void 0:e.stereo)||{autoGainControl:!1,channelCount:2,echoCancellation:!1,noiseSuppression:!1}},isSupported:function(){return null!==this.obtainStream},obtainScreenOnElectron:function(e,t){var n=this;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var o=this.options,a=o.desktopSharingFrameRate,u=o.desktopSharingSources;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:u||["screen","window"]},(function(o,u){var c,l;if(o){var d=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){d={};var f=n._getAudioConstraints();"boolean"!=typeof f&&(d={optional:f}),"screen"===u&&(d.mandatory={chromeMediaSource:"desktop"})}var h={audio:d,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:o,minFrameRate:null!==(c=null==a?void 0:a.min)&&void 0!==c?c:s,maxFrameRate:null!==(l=null==a?void 0:a.max)&&void 0!==l?l:s,maxWidth:window.screen.width,maxHeight:window.screen.height}}};navigator.mediaDevices.getUserMedia(h).then((function(t){return e({stream:t,sourceId:o,sourceType:u})}),t)}else t(new r.a(i.SCREENSHARING_USER_CANCELED))}),(function(e){return t(new r.a(i.ELECTRON_DESKTOP_PICKER_ERROR,e))}))}else t(new r.a(i.ELECTRON_DESKTOP_PICKER_NOT_FOUND))},obtainScreenFromGetDisplayMedia:function(e,t){var n;n=navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices);var o=this.options.desktopSharingFrameRate,s="object"!=typeof o||{frameRate:o},u=this._getAudioConstraints();s.frameRate&&delete s.frameRate.min;var c={video:s,audio:u,cursor:"always"};a.info("Using getDisplayMedia for screen sharing",c),n(c).then((function(t){e({stream:t,sourceId:t.id})})).catch((function(e){var n={errorName:e&&e.name,errorMsg:e&&e.message,errorStack:e&&e.stack};a.error("getDisplayMedia error",c,n),n.errorMsg&&-1!==n.errorMsg.indexOf("denied by system")?t(new r.a(i.PERMISSION_DENIED)):t(new r.a(i.SCREENSHARING_USER_CANCELED))}))},obtainScreenFromGetDisplayMediaRN:function(e,t){a.info("Using getDisplayMedia for screen sharing"),navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(t){e({stream:t,sourceId:t.id})})).catch((function(){t(new r.a(i.SCREENSHARING_USER_CANCELED))}))},setDesktopSharingFrameRate:function(e){a.info("Setting the desktop capture rate to "+e),this.options.desktopSharingFrameRate={min:s,max:e}}};t.b=u}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(66);t.a=r.a.push},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,i=n(6),o=n(27),a=n.n(o),s=n(5).getLogger(e),u="applicationLog",c="error",l="event",d="mstWithUserID",f=function(){function t(e,n){_classCallCheck(this,t),this.confID=n.confID,this.tpc=e,this.peerconnection=e.peerconnection,this.remoteUserID=n.remoteUserID||"jitsi",this.hasFabric=!1,t.fabrics.add(this),t.backendInitialized&&(this._addNewFabric(),1===t.fabrics.size&&t._emptyReportQueue(this))}return _createClass(t,[{key:"_addNewFabric",value:function(){s.info("addNewFabric",this.remoteUserID);try{var n={remoteEndpointType:this.tpc.isP2P?t.backend.endpointType.peer:t.backend.endpointType.server},r=t.backend.addNewFabric(this.peerconnection,this.remoteUserID,t.backend.fabricUsage.multiplex,this.confID,n,t._addNewFabricCallback);this.hasFabric=!0;var i="success"===r.status;return i||s.error("callstats fabric not initilized",r.message),i}catch(e){return a.a.callErrorHandler(e),!1}}},{key:"associateStreamWithVideoTag",value:function(e,n,r,i,o){if(t.backend){var a=n?t.userID:r;t.backendInitialized?t.backend.associateMstWithUserID(this.peerconnection,a,this.confID,e,i,o):t.reportsQueue.push({type:d,pc:this.peerconnection,data:{callStatsId:a,containerId:o,ssrc:e,usageLabel:i}})}}},{key:"sendDominantSpeakerEvent",value:function(){t._reportEvent(this,"dominantSpeaker")}},{key:"sendTerminateEvent",value:function(){t.backendInitialized&&t.backend.sendFabricEvent(this.peerconnection,t.backend.fabricEvent.fabricTerminated,this.confID),t.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){t._reportError(this,"iceConnectionFailure",null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(e){t._reportError(this,"createOffer",e,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(e){t._reportError(this,"createAnswer",e,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(e){t._reportEvent(this,e?"fabricResume":"fabricHold")}},{key:"sendScreenSharingEvent",value:function(e,n){var r;n&&(r={ssrc:n}),t._reportEvent(this,e?"screenShareStart":"screenShareStop",r)}},{key:"sendSetLocalDescFailed",value:function(e){t._reportError(this,"setLocalDescription",e,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(e){t._reportError(this,"setRemoteDescription",e,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(e){t._reportError(this,"addIceCandidate",e,this.peerconnection)}}],[{key:"_addNewFabricCallback",value:function(e,n){t.backend&&"success"!==e&&s.error("Monitoring status: ".concat(e," msg: ").concat(n))}},{key:"_initCallback",value:function(e,n){if(s.log("CallStats Status: err=".concat(e," msg=").concat(n)),"success"===e){t.backendInitialized=!0;var r,i=!1,o=null,a=_createForOfIteratorHelper(t.fabrics.values());try{for(a.s();!(r=a.n()).done;){var u=r.value;u.hasFabric||(s.debug("addNewFabric - initCallback"),u._addNewFabric()&&(i=!0,o||(o=u)))}}catch(c){a.e(c)}finally{a.f()}i&&t._emptyReportQueue(o)}}},{key:"_emptyReportQueue",value:function(e){var n,r=e.confID,i=e.peerconnection,o=_createForOfIteratorHelper(t.reportsQueue);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.type===c){var s=a.data;t._reportError(e,s.type,s.error,s.pc||i)}else if(a.type===l){var u=a.data;t.backend.sendFabricEvent(a.pc||i,u.event,r,u.eventData)}else if(a.type===d){var f=a.data;t.backend.associateMstWithUserID(a.pc||i,f.callStatsId,r,f.ssrc,f.usageLabel,f.containerId)}}}catch(h){o.e(h)}finally{o.f()}t.reportsQueue.length=0}},{key:"_reportError",value:function(e,n,r,i){var o=r;o||(s.warn("No error is passed!"),o=new Error("Unknown error")),t.backendInitialized&&e?t.backend.reportError(i,e.confID,n,o):t.reportsQueue.push({type:c,data:{error:o,pc:i,type:n}})}},{key:"_reportEvent",value:function(e,n,r){var i=e&&e.peerconnection,o=e&&e.confID;t.backendInitialized&&e?t.backend.sendFabricEvent(i,n,o,r):t.reportsQueue.push({confID:o,pc:i,type:l,data:{event:n,eventData:r}})}},{key:"_traceAndCatchBackendCalls",value:function(e){for(var t=function(){var t=r[n],i=e[t];e[t]=function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.apply(e,n)}catch(e){a.a.callErrorHandler(e)}}},n=0,r=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];n<r.length;n++)t();for(var o=function(){var t=l[c],n=e[t];e[t]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];s.debug(t,i),n.apply(e,i)}},c=0,l=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];c<l.length;c++)o();var d=e.reportError;e.reportError=function(t,n,r){for(var o=arguments.length,c=new Array(o>3?o-3:0),l=3;l<o;l++)c[l-3]=arguments[l];r===u?i.a.isReactNative()||console&&console.debug("reportError",t,n,r):s.debug.apply(s,["reportError",t,n,r].concat(c));try{d.call.apply(d,[e,t,n,r].concat(c))}catch(e){r===u?console&&console.error("reportError",e):a.a.callErrorHandler(e)}}}},{key:"fabrics",get:function(){return r||(r=new Set),r}},{key:"initBackend",value:function(e){if(t.backend)throw new Error("CallStats backend has been initialized already!");try{var n=callstats;t.backend=new n,t._traceAndCatchBackendCalls(t.backend),t.userID={aliasName:e.aliasName,userName:e.userName},t.callStatsID=e.callStatsID,t.callStatsSecret=e.callStatsSecret;var r=Object.assign({},e.configParams);if(e.applicationName&&(r.applicationVersion="".concat(e.applicationName," (").concat(i.a.getName(),")")),e.confID){var o=e.confID.match(/.*\/(.*)\/.*/);r.siteID=e.siteID||o&&o[1]||"/"}t.backend.initialize(t.callStatsID,t.callStatsSecret,t.userID,t._initCallback,void 0,r);var u=e.getWiFiStatsMethod;return u&&(t.backend.attachWifiStatsHandler(u),u().then((function(e){e&&s.info("Reported wifi addresses:",JSON.parse(e).addresses)})).catch((function(){}))),!0}catch(e){return a.a.callErrorHandler(e),t.backend=null,s.error(e),!1}}},{key:"isBackendInitialized",value:function(){return Boolean(t.backend)}},{key:"sendActiveDeviceListEvent",value:function(e,n){t._reportEvent(n,"activeDeviceList",e)}},{key:"sendApplicationLog",value:function(e,n){try{t._reportError(n,u,e,n&&n.peerconnection)}catch(e){console&&"function"==typeof console.error&&console.error("sendApplicationLog failed",e)}}},{key:"sendFeedback",value:function(e,n,r){return new Promise((function(i,o){if(t.backend)t.backend.sendUserFeedback(e,{userID:t.userID,overall:n,comment:r},(function(e,t){"success"===e?i(t):o(t)}));else{var a="Failed to submit feedback to CallStats - no backend";s.error(a),o(a)}}))}},{key:"sendGetUserMediaFailed",value:function(e,n){t._reportError(n,"getUserMedia",e,null)}},{key:"sendMuteEvent",value:function(e,n,r){var i;i="video"===n?e?"videoPause":"videoResume":e?"audioMute":"audioUnmute",t._reportEvent(r,i)}}]),t}();f.backend=null,f.reportsQueue=[],f.backendInitialized=!1,f.callStatsID=null,f.callStatsSecret=null,f.userID=null}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(20),o=n(21),a=n(65),s=n(48),u=n(56);function c(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(c((function(n,r){return Object(u.a)(e(n,r)).pipe(Object(s.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.b(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new a.a(this,t,n),o=this.destination;o.add(r);var s=Object(i.a)(this,e,void 0,void 0,r);s!==r&&o.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},function(e,t,n){"use strict";var r=n(701),i=n(111),o=n(386);n(709);var a,s={},u={},c={};function l(e){var t=c[e];return t||((t=(t=function(e){var t=u[e];if(!t){if((t=s[e])&&(t=t()),!t)throw Error("Component not found: "+e);u[e]=t}return t}(e)).Component||t).Y_||(t=i(t,t.renderer)),t.prototype._N_=e,c[e]=t,t)}t.r=function(e,t){var n;return a&&(n=a[e]),s[e]=t,delete u[e],delete c[e],n&&(delete a[e],r((function(){n.forEach((function(e){o.au_(e[0],e[1],e[2],e[3])()}))}))),e},t.av_=l,t._P_=function(e,t){return new(l(e))(t)},t.as_=function(e){return Boolean(s[e])},t.at_=function(e,t,n,r,i){a||(a={}),(a[t]=a[t]||[]).push([e,n,r,i])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p})),n(397);var r=n(398),i=n.n(r),o={Chrome:"chrome",Chromium:"chrome",Opera:"opera",Firefox:"firefox","Internet Explorer":"iexplorer",Safari:"safari"};function a(){var e=navigator.userAgent;if(e.match(/Electron/))return{name:"electron",version:e.match(/Electron(?:\s|\/)([\d.]+)/)[1]}}function s(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/))return{name:"nwjs",version:e.match(/JitsiMeetNW\/([\d.]+)/)[1]}}function u(){var e,t,n=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(n||"ReactNative"===navigator.product)return n&&n.length>2&&(t=n[1],e=n[2]),t||(t="react-native"),e||(e="unknown"),{name:"react-native",version:e}}var c=function(){function e(t){var n,r;if(_classCallCheck(this,e),this._bowser=i.a.getParser(navigator.userAgent),void 0===t){var c=function(e){for(var t,n=[u,a,s],r=0;r<n.length;r++)if(t=n[r]())return t;var i=e.getBrowserName();return i in o?{name:o[i],version:e.getBrowserVersion()}:(t=function(){var e=navigator.userAgent,t={name:"unknown",version:void 0};if(e.match(/Chrome/)&&!e.match(/Edge/))if(e.match(/Edg(A?)/)){var n=e.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(n,10)>72&&(t.name="chrome",t.version=n)}else t.name="chrome",t.version=e.match(/Chrome\/([\d.]+)/)[1];return t}(),t||{name:"unknown",version:void 0})}(this._bowser);n=c.name,r=c.version}else t.name in o?(n=o[t.name],r=t.version):(n="unknown",r=void 0);this._name=n,this._version=r}return _createClass(e,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return"chrome"===this._name}},{key:"isOpera",value:function(){return"opera"===this._name}},{key:"isFirefox",value:function(){return"firefox"===this._name}},{key:"isIExplorer",value:function(){return"iexplorer"===this._name}},{key:"isSafari",value:function(){return"safari"===this._name}},{key:"isNWJS",value:function(){return"nwjs"===this._name}},{key:"isElectron",value:function(){return"electron"===this._name}},{key:"isReactNative",value:function(){return"react-native"===this._name}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(e){if(this._version)return this._bowser.satisfies(e)}},{key:"isVersionGreaterThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,">"+e))}},{key:"isVersionLessThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,"<"+e))}},{key:"isVersionEqualTo",value:function(e){return this._checkCondition(_defineProperty({},this._name,"~"+e))}}]),e}(),l=n(34),d=n.n(l),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r,i,o;return _classCallCheck(this,n),e=t.apply(this,arguments),o={},(i="_storage")in(r=_assertThisInitialized(e))?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,e}return _createClass(n,[{key:"clear",value:function(){this._storage={}}},{key:"length",get:function(){return Object.keys(this._storage).length}},{key:"getItem",value:function(e){return this._storage[e]}},{key:"setItem",value:function(e,t){this._storage[e]=t}},{key:"removeItem",value:function(e){delete this._storage[e]}},{key:"key",value:function(e){var t=Object.keys(this._storage);if(!(t.length<=e))return t[e]}},{key:"serialize",value:function(){return JSON.stringify(this._storage)}}]),n}(d.a),h=function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r),t=n.call(this);try{t._storage=window.localStorage,t._localStorageDisabled=!1}catch(e){}return t._storage||(console.warn("Local storage is disabled."),t._storage=new f,t._localStorageDisabled=!0),t}return _createClass(r,[{key:"isLocalStorageDisabled",value:function(){return this._localStorageDisabled}},{key:"clear",value:function(){this._storage.clear(),this.emit("changed")}},{key:"length",get:function(){return this._storage.length}},{key:"getItem",value:function(e){return this._storage.getItem(e)}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(e,t),n||this.emit("changed")}},{key:"removeItem",value:function(e){this._storage.removeItem(e),this.emit("changed")}},{key:"key",value:function(e){return this._storage.key(e)}},{key:"serialize",value:function(){if(this.isLocalStorageDisabled())return this._storage.serialize();for(var e=this._storage.length,t={},n=0;n<e;n++){var r=this._storage.key(n);t[r]=this._storage.getItem(r)}return JSON.stringify(t)}}]),r}(d.a),p=new h},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",u=/\w*$/,c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,d={};d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[a]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[i]=d["[object WeakMap]"]=!1;var f="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),m=t&&!t.nodeType&&t,v=m&&"object"==typeof n&&n&&!n.nodeType&&n,g=v&&v.exports===m;function _(e,t){return e.set(t[0],t[1]),e}function b(e,t){return e.add(t),e}function y(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function S(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e,t){return function(n){return e(t(n))}}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var C,T=Array.prototype,A=Function.prototype,k=Object.prototype,O=p["__core-js_shared__"],R=(C=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",M=A.toString,I=k.hasOwnProperty,P=k.toString,N=RegExp("^"+M.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=g?p.Buffer:void 0,F=p.Symbol,L=p.Uint8Array,j=D(Object.getPrototypeOf,Object),B=Object.create,U=k.propertyIsEnumerable,H=T.splice,V=Object.getOwnPropertySymbols,q=x?x.isBuffer:void 0,G=D(Object.keys,Object),J=pe(p,"DataView"),z=pe(p,"Map"),K=pe(p,"Promise"),W=pe(p,"Set"),$=pe(p,"WeakMap"),Y=pe(Object,"create"),X=be(J),Q=be(z),Z=be(K),ee=be(W),te=be($),ne=F?F.prototype:void 0,re=ne?ne.valueOf:void 0;function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){this.__data__=new oe(e)}function ue(e,t,n){var r=e[t];I.call(e,t)&&ye(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ce(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function le(e,t,n,c,l,f,h){var p;if(c&&(p=f?c(e,l,f,h):c(e)),void 0!==p)return p;if(!Ce(e))return e;var m=Ee(e);if(m){if(p=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&I.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,p)}else{var v=ve(e),g=v==i||v==o;if(De(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==v||v==r||g&&!f){if(E(e))return f?e:{};if(p=function(e){return"function"!=typeof e.constructor||_e(e)?{}:Ce(t=j(e))?B(t):{};var t}(g?{}:e),!t)return function(e,t){return fe(e,me(e),t)}(e,function(e,t){return e&&fe(t,Te(t),e)}(p,e))}else{if(!d[v])return f?e:{};p=function(e,t,n,r){var i,o=e.constructor;switch(t){case"[object ArrayBuffer]":return de(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?de(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?de(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case a:return function(e,t,n){return y(t?n(S(e),!0):S(e),_,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,u.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,n){return y(t?n(w(e),!0):w(e),b,new e.constructor)}(e,r,n);case"[object Symbol]":return i=e,re?Object(re.call(i)):{}}}(e,v,le,t)}}h||(h=new se);var D=h.get(e);if(D)return D;if(h.set(e,p),!m)var C=n?function(e){return function(e,t,n){var r=t(e);return Ee(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Te,me)}(e):Te(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(C||e,(function(r,i){C&&(r=e[i=r]),ue(p,i,le(r,t,n,c,i,e,h))})),p}function de(e){var t=new e.constructor(e.byteLength);return new L(t).set(new L(e)),t}function fe(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;ue(n,a,void 0===s?e[a]:s)}return n}function he(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ce(e)||(t=e,R&&R in t))&&(we(e)||E(e)?N:c).test(be(e));var t}(n)?n:void 0}ie.prototype.clear=function(){this.__data__=Y?Y(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return I.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:I.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return ce(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new ie,map:new(z||oe),string:new ie}},ae.prototype.delete=function(e){return he(this,e).delete(e)},ae.prototype.get=function(e){return he(this,e).get(e)},ae.prototype.has=function(e){return he(this,e).has(e)},ae.prototype.set=function(e,t){return he(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new oe},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!z||r.length<199)return r.push([e,t]),this;n=this.__data__=new ae(r)}return n.set(e,t),this};var me=V?D(V,Object):function(){return[]},ve=function(e){return P.call(e)};function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function be(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ye(e,t){return e===t||e!=e&&t!=t}(J&&"[object DataView]"!=ve(new J(new ArrayBuffer(1)))||z&&ve(new z)!=a||K&&"[object Promise]"!=ve(K.resolve())||W&&ve(new W)!=s||$&&"[object WeakMap]"!=ve(new $))&&(ve=function(e){var t=P.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?be(n):void 0;if(r)switch(r){case X:return"[object DataView]";case Q:return a;case Z:return"[object Promise]";case ee:return s;case te:return"[object WeakMap]"}return t});var Ee=Array.isArray;function Se(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!we(e)}var De=q||function(){return!1};function we(e){var t=Ce(e)?P.call(e):"";return t==i||t==o}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return Se(e)?function(e,t){var n=Ee(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Se(e)}(e)&&I.call(e,"callee")&&(!U.call(e,"callee")||P.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!I.call(e,a)||o&&("length"==a||ge(a,i))||n.push(a);return n}(e):function(e){if(!_e(e))return G(e);var t=[];for(var n in Object(e))I.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return le(e,!0,!0)}}).call(this,n(49),n(180)(e))},function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n(389);function o(){return!Object(i.a)()&&"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function a(e,t){return e.require(t)}function s(e){var t;try{t=a(r,e)}catch(e){}try{var n=a(r,"process").cwd;t=a(r,n()+"/node_modules/"+e)}catch(e){}return t}}).call(this,n(45),n(244)(e))},function(e,t,n){"use strict";var r=n(145),i=r.E_,o=r.ag_,a=r.ae_,s=r.ad_,u=window.$MUID||(window.$MUID={i:0}),c=u.i++,l={},d={};function f(e){var t=i.get(e.fragment||e);t&&(t.Z_(),delete l[t.id])}function h(){return"c"+u.i++}t.al_=c,t.C_=l,t.ah_=function(e,t){for(var n,r,o="string"==typeof e?((t?t.ownerDocument:t)||document).getElementById(e):e;o;){if(o.fragment?o.fragment.endNode===o?o=o.fragment.startNode:(o=o.fragment,n=i.get(o)):(r=a.get(o))&&(n=r.aB_),n)return n;o=o.previousSibling||o.parentNode}},t.aD_=f,t.D_=function e(t,n){if(f(t),1===t.nodeType||12===t.nodeType){var r;n&&(r=o.get(t))&&t===n.k_[r]&&(i.get(t)&&/\[\]$/.test(r)?delete n.k_[r][i.get(t).id]:delete n.k_[r]);for(var a=t.firstChild;a&&a!==t.endNode;)e(a,n),a=a.nextSibling}},t._T_=function(){return h},t._C_=function(e,t,n,r){if(t){var i=e.id;return r?[t,i,n,r]:[t,i,n]}},t.am_=function(e){var t,n=a.get(e);return n?t=n.aC_:(t=s.get(e))||(t=e.getAttribute("data-marko"),s.set(e,t=t?JSON.parse(t):d)),t},t.ap_=function(e,t,n,r){/\[\]$/.test(t)?(e[t]=e[t]||{})[r]=n:e[t]=n},t.aE_=function(e,t){return"#"===e[0]&&(e=e.replace("#"+t+"-","")),e}},function(e,t,n){"use strict";var r=n(81),i=n(24);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=u(i.toString(16))}return n},t.zero2=s,t.zero8=u,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var u=0,c=t;return u+=(c=c+r>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+n+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,u,c){var l=0,d=t;return l+=(d=d+r>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+s>>>0)<s?1:0,e+n+i+a+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,u,c){return t+r+o+s+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),i=n(221),o=n(164);function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(186),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.b(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(37),o=n(29),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.b(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(46);function i(){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).connection=null,e}return _createClass(n,[{key:"init",value:function(e){this.connection=e}}]),n}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return _createClass((function e(){_classCallCheck(this,e)}))}())}t.b=i();var o=i(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.b(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.b(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(29).a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(39);function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(46),i=n(4);function o(e,t,n){return"".concat(e,"-").concat(t.substring(0,1)).concat(n)}function a(e){var t=e.indexOf("-")+1;if(t<=0)throw new Error("Invalid source name: "+e);for(var n=e.substr(t,1),r=0,o=Object.values(i.a);r<o.length;r++){var a=o[r];if(a.substr(0,1)===n)return a}throw new Error("Invalid source name: "+e)}var s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getSSRCOwner",value:function(e){throw new Error("not implemented")}},{key:"getPeerMediaInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getPeerSourceInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getTrackSourceName",value:function(e){throw new Error("not implemented")}}]),n}(r.a)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConnectionErrors",(function(){return r})),n.d(t,"CONNECTION_DROPPED_ERROR",(function(){return i})),n.d(t,"OTHER_ERROR",(function(){return o})),n.d(t,"PASSWORD_REQUIRED",(function(){return a})),n.d(t,"SERVER_ERROR",(function(){return s})),function(e){e.CONNECTION_DROPPED_ERROR="connection.droppedError",e.OTHER_ERROR="connection.otherError",e.PASSWORD_REQUIRED="connection.passwordRequired",e.SERVER_ERROR="connection.serverError"}(r||(r={}));var i=r.CONNECTION_DROPPED_ERROR,o=r.OTHER_ERROR,a=r.PASSWORD_REQUIRED,s=r.SERVER_ERROR},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(59),i=n(94),o={nowSeconds:function(){return Date.now()/1e3}},a=Object(i.b)()?function(){try{return Object(i.a)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=Object(r.a)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),l=c,d=function(){var e=Object(r.a)().performance;if(e&&e.now){var t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,o=i<36e5,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+t-n):36e5;return o||s<36e5?i<=s?e.timeOrigin:a:n}}()}).call(this,n(244)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_PRESIGNED_URL="https://api.sariska.io/api/v1/misc/get-presigned",t.GENERATE_TOKEN_URL="https://api.sariska.io/api/v1/misc/generate-token",t.MESSAGING_SERVICE_WEBSOCKET="wss://api.sariska.io/api/v1/messaging/websocket/serializer",t.MEDIA_SERVICE_WEBSOCKET="wss://api.sariska.io/api/v1/media/websocket",t.ACTIVE="ACTIVE",t.EMPTY="EMPTY",t.KEYBOARD_EVENTS_DICT=["inputType","data","code","char","key","location","ctrlKey","shiftKey","altKey","metaKey","repeat","locale","detail","bubbles","cancelable","keyCode","charCode","which","buttons","button","clientX","clientY"],t.INPUT_TYPES=[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement],t.pageSize=20,t.TIMEOUT=1e4,t.BACK="back",t.FORWARD="forward",t.RELAOD="reload",t.SECRET_SALT="R43TWE",t.PRIMARY_BUTTON="PRIMARY_BUTTON",t.PRIMARY_BUTTON_WITH_WIDGET="PRIMARY_BUTTON_WITH_WIDGET",t.INPUT_WITH_OVERLAY="INPUT_WITH_OVERLAY",t.HEADER_WITH_CHAT_WIDGET="HEADER_WITH_CHAT_WIDGET",t.RESOLUTION="80x80",t.FRAMERATE=30,t.PRIMARY_BUTTON_WITH_INPUT="PRIMARY_BUTTON_WITH_INPUT",t.PRIMARY_BUTTON_WITH_WIDGET_OPEN="PRIMARY_BUTTON_WITH_WIDGET_OPEN",t.PRIMARY_BUTTON_WITH_WIDGET_CLOSE="PRIMARY_BUTTON_WITH_WIDGET_CLOSE",t.INVITE_PEOPLE="INVITE_PEOPLE",t.AUDIO="AUDIO",t.IS_REOCRDING="IS_REOCRDING",t.IS_MEDIA="isMedia",t.IS_CHAT="isChat",t.SYNC_WITH_CURRENT_URL="syncUrl",t.CANCEL_POPUP="CANCEL_POPUP",t.JOIN_SESSION="JOIN_SESSION",t.VOLUME_TOGGLE="muteAll",t.VIDEO_TOGGLE="videoEnabled",t.WIDGET_TOGGLE="videoWidget",t.MIC_TOGGLE="audioEnabled",t.CALL_END="CALL_END",t.WIDGET_ACTION="WIDGET_ACTION",t.timeout=2e3,t.CB__TOOLBOX_CONTAINER="cb--toolbox-container",t.CB__CUSTOM_MOUSE_CLASS="cb__customMouse",t.INIT_CHAT="INIT_CHAT",t.AFTER_CLOSE_SESSION_PUBLISHER="AFTER_CLOSE_SESSION_PUBLISHER",t.AFTER_CLOSE_SESSION_SUBSCRIBER="AFTER_CLOSE_SESSION_SUBSCRIBER",t.CLOSE_SESSION="close_session",t.REPORT_PROBLEM="REPORT_PROBLEM",t.ERROR="ERROR",t.DUPLICATE_SESSION_TOAST_TEXT="You have started duplicate session, Please mute mic and volume for better experience",t.GOOGLE_API_FEEDBACK_URL="https://docs.google.com/forms/u/0/d/e/1FAIpQLSdwCSJinbN0OMHTxRksOq9f6ZelI-FyGypFXn_8jV8MR09LgQ/formResponse",t.EMOJI_RANGES_REGEX=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(8),s=n(23),u=n(481);t.initLogger=function(e){var t=new u.Nanologger(e.logPrefix||"",{colors:{background:"#000000"}});return s.of(t)},function(e){e.Log="@@Log",e.Info="@@Log.info",e.Debug="@@Log.debug"}(i=t.LogNames||(t.LogNames={})),function(e){e.Info="@@Overlay.info"}(o=t.Overlay||(t.Overlay={})),t.consoleInfo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[i.Log,[i.Info,e]]},t.consoleDebug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[i.Log,[i.Debug,e]]},t.overlayInfo=function(e,t,n,r){return void 0===t&&(t=2e3),void 0===n&&(n="green"),void 0===r&&(r=!0),[o.Info,[e,t,n,r]]},t.logHandler$=new s.BehaviorSubject(((r={})[i.Log]=function(e,t){return e.pipe(a.withLatestFrom(t.logInstance$,t.option$.pipe(a.pluck("injectNotification"))),a.filter((function(e){return"console"===e[2]})),a.tap((function(e){var t=e[0],n=e[1];switch(t[0]){case i.Info:return n.info.apply(n,t[1]);case i.Debug:return n.debug.apply(n,t[1])}})))},r[o.Info]=function(e,t){return s.EMPTY},r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(118),i=n(211);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.a)()(r.a.apply(void 0,e))}},function(e,t,n){"use strict";var r=n(702),i=n(703),o=n(127);e.exports=function(e,t){if(e.Y_)return e;var n,a=function(){},s=typeof e;if("function"==s)n=e.prototype;else{if("object"!=s)throw TypeError();n=e}function u(e){i.call(this,e)}function c(e){r.call(this,e)}return a.prototype=n,n.Y_||o(a,i),n=u.prototype=a.prototype,u.Y_=!0,o(c,r),n._c_=c,n._n_=t,u}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(5),i=n(3),o=(n(591),n(46)),a=n(407),s=n(409),u=n(410),c=Object(r.getLogger)(e),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var o=e.enableWebsocketResume,c=e.websocketKeepAlive,l=e.websocketKeepAliveUrl,d=e.serviceUrl,f=e.shard,h=e.xmppPing;return(r=t.call(this))._options={enableWebsocketResume:void 0===o||o,pingOptions:h,shard:f,websocketKeepAlive:void 0===c?6e4:Number(c),websocketKeepAliveUrl:l},r._stropheConn=new i.Strophe.Connection(d),r._usesWebsocket=d.startsWith("ws:")||d.startsWith("wss:"),r._stropheConn.maxRetries=3,r._rawInputTracker=new s.a,r._rawInputTracker.startTracking(_assertThisInitialized(r),r._stropheConn),r._resumeTask=new a.a(r._stropheConn),r._deferredIQs=[],r.addConnectionPlugin("ping",new u.a({getTimeSinceLastServerResponse:function(){return r.getTimeSinceLastSuccess()},onPingThresholdExceeded:function(){return r._onPingErrorThresholdExceeded()},pingOptions:h})),r._oneSuccessfulConnect=!1,r}return _createClass(n,[{key:"connected",get:function(){var e=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===i.Strophe.Status.CONNECTED||this._status===i.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||e&&e.readyState===WebSocket.OPEN)}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"pingDomain",get:function(){var e;return(null===(e=this._options.pingOptions)||void 0===e?void 0:e.domain)||this.domain}},{key:"service",get:function(){return this._stropheConn.service}},{key:"shard",set:function(e){this._options.shard=e,this._oneSuccessfulConnect&&this._maybeStartWSKeepAlive()}},{key:"status",get:function(){return this._status}},{key:"addConnectionPlugin",value:function(e,t){this[e]=t,t.init(this)}},{key:"addHandler",value:function(){var e;(e=this._stropheConn).addHandler.apply(e,arguments)}},{key:"attach",value:function(e,t,n,r){for(var i,o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];(i=this._stropheConn).attach.apply(i,[e,t,n,this._stropheConnectionCb.bind(this,r)].concat(a))}},{key:"connect",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];(r=this._stropheConn).connect.apply(r,[e,t,this._stropheConnectionCb.bind(this,n)].concat(o))}},{key:"_stropheConnectionCb",value:function(e,t){var r;this._status=t;var o=!1;if(t===i.Strophe.Status.CONNECTED||t===i.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null===(r=this._options.pingOptions)||void 0===r?void 0:r.domain)||this.domain)):t===i.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),(o=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive)),!o){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];e.apply(void 0,[t].concat(s)),this.eventEmitter.emit(n.Events.CONN_STATUS_CHANGED,t)}}},{key:"_clearDeferredIQs",value:function(){var e,t=_createForOfIteratorHelper(this._deferredIQs);try{for(t.s();!(e=t.n()).done;)e.value.reject(new Error("disconnect"))}catch(n){t.e(n)}finally{t.f()}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null))}},{key:"disconnect",value:function(){var e;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(e=this._stropheConn).disconnect.apply(e,arguments)}},{key:"flush",value:function(){var e;(e=this._stropheConn).flush.apply(e,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._rawInputTracker.getTimeSinceLastSuccess()}},{key:"getLastFailedMessage",value:function(){return this._rawInputTracker.getLastFailedMessage()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var e=this._stropheConn.streamManagement;this.isUsingWebSocket?e?e.isSupported()?e.getResumeToken()||(c.info("Enabling XEP-0198 stream management"),e.enable(!0)):c.warn("Stream resume enabled, but XEP-0198 is not supported by the server"):c.warn("Stream resume enabled, but Strophe streamManagement plugin is not installed"):c.warn("Stream resume enabled, but WebSockets are not enabled")}}},{key:"_maybeStartWSKeepAlive",value:function(){var e=this,t=this._options.websocketKeepAlive;if(this._usesWebsocket&&t>0){this._wsKeepAlive||c.info("WebSocket keep alive interval: ".concat(t,"ms")),clearTimeout(this._wsKeepAlive);var n=t+60*Math.random()*1e3;c.debug("Scheduling next WebSocket keep-alive in ".concat(n,"ms")),this._wsKeepAlive=setTimeout((function(){return e._keepAliveAndCheckShard().then((function(){return e._maybeStartWSKeepAlive()}))}),n)}}},{key:"_keepAliveAndCheckShard",value:function(){var e=this,t=this._options,r=t.shard,i=t.websocketKeepAliveUrl||this.service.replace("wss://","https://").replace("ws://","http://");return fetch(i).then((function(t){if(r){var i=t.headers.get("x-jitsi-shard");i!==r&&(c.error("Detected that shard changed from ".concat(r," to ").concat(i)),e.eventEmitter.emit(n.Events.CONN_SHARD_CHANGED))}})).catch((function(e){c.error("Websocket Keep alive failed for url: "+i,{error:e})}))}},{key:"_processDeferredIQs",value:function(){var e,t=this,n=_createForOfIteratorHelper(this._deferredIQs);try{var r=function(){var n=e.value;if(n.iq){clearTimeout(n.timeout);var r=Date.now()-n.start;t.sendIQ(n.iq,(function(e){return n.resolve(e)}),(function(e){return n.reject(e)}),r)}};for(n.s();!(e=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}this._deferredIQs=[]}},{key:"send",value:function(e){if(!this.connected)throw new Error("Not connected");this._stropheConn.send(e)}},{key:"sendIQ",value:function(e,t,n,r){if(this.connected)return this._stropheConn.sendIQ(e,t,n,r);n("Not connected")}},{key:"sendIQ2",value:function(e,t){var n=this,r=t.timeout;return new Promise((function(t,i){if(n.connected)n.sendIQ(e,(function(e){return t(e)}),(function(e){return i(e)}),r);else{var o={iq:e,resolve:t,reject:i,start:Date.now(),timeout:setTimeout((function(){o.iq=void 0,i(void 0)}),r)};n._deferredIQs.push(o)}}))}},{key:"_onPingErrorThresholdExceeded",value:function(){this.isUsingWebSocket&&(c.warn("Ping error threshold exceeded - killing the WebSocket"),this.closeWebsocket())}},{key:"sendPresence",value:function(e,t,n,r){this.connected?this._stropheConn.sendPresence(e,t,n,r):n("Not connected")}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(i.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var e=this._stropheConn._proto._buildBody().attrs({type:"terminate"}),t=Object(i.$pres)({xmlns:i.Strophe.NS.CLIENT,type:"unavailable"});e.cnode(t.tree());var n=navigator.sendBeacon(-1===this.service.indexOf("https://")?"https:"+this.service:this.service,i.Strophe.serialize(e.tree()));return c.info("Successfully send unavailable beacon "+n),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var e=this._stropheConn.streamManagement;return!(!e||!e.getResumeToken())&&(this._resumeTask.schedule(),!0)}}],[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:"CONN_STATUS_CHANGED",CONN_SHARD_CHANGED:"CONN_SHARD_CHANGED"}}},{key:"Status",get:function(){return i.Strophe.Status}}]),n}(o.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n(5),i=n(43),o=n.n(i),a=n(18),s=n(4),u=n(22),c=n(6),l=n(16),d=Object(r.getLogger)(e),f=25e5,h=1,p=["1","2","3"],m=function(){function e(t){var n,r,i;_classCallCheck(this,e),this.pc=t;var o=null===(r=null===(n=this.pc.options)||void 0===n?void 0:n.videoQuality)||void 0===r?void 0:r.maxBitratesVideo,a={low:2e5,standard:7e5,high:f};this.videoBitrates=null!=o?o:a;var s=null!==(i=this.videoBitrates.VP8)&&void 0!==i?i:this.videoBitrates;this.localStreamEncodingsConfig=[{active:!0,maxBitrate:c.a.isFirefox()?s.high:s.low,rid:"1",scaleResolutionDownBy:c.a.isFirefox()?h:4},{active:!0,maxBitrate:s.standard,rid:"2",scaleResolutionDownBy:2},{active:!0,maxBitrate:c.a.isFirefox()?s.low:s.high,rid:"3",scaleResolutionDownBy:c.a.isFirefox()?4:h}]}return _createClass(e,[{key:"_getStreamEncodings",value:function(e){return this.pc.isSimulcastOn()&&e.isVideoTrack()?this.localStreamEncodingsConfig:e.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}]}},{key:"ensureCorrectOrderOfSsrcs",value:function(e){var t=o.a.parse(e.sdp);return t.media.forEach((function(e){if(e.type!==s.a.AUDIO&&e.ssrcGroups&&e.ssrcGroups.length){var t=[],n=new Set;e.ssrcGroups.map((function(e){return e.ssrcs.split(" ").filter(Boolean).forEach((function(e){return n.add(e)}))})),n.forEach((function(n){var r=e.ssrcs.filter((function(e){return e.id.toString()===n}));t=t.concat(r)})),e.ssrcs=t}})),new RTCSessionDescription({type:e.type,sdp:o.a.write(t)})}},{key:"findTransceiver",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null==t?void 0:t.track)&&t.getOriginalStream()?this.pc.peerconnection.getTransceivers().find((function(e){var n,r;return(null===(r=null===(n=e.sender)||void 0===n?void 0:n.track)||void 0===r?void 0:r.id)===t.getTrackId()})):this.pc.peerconnection.getTransceivers().find((function(t){var n,r;return(null===(r=null===(n=t.receiver)||void 0===n?void 0:n.track)||void 0===r?void 0:r.kind)===e}))}},{key:"insertUnifiedPlanSimulcastReceive",value:function(e){if(c.a.usesSdpMungingForSimulcast())return e;var t=o.a.parse(e.sdp),n=t.media.findIndex((function(e){return e.type===s.a.VIDEO}));if(t.media[n].rids&&(t.media[n].simulcast_03||t.media[n].simulcast))return t.media.forEach((function(e,r){e.type===s.a.VIDEO&&r!==n&&(t.media[r].rids=void 0,t.media[r].simulcast=void 0,t.media[r].simulcast_03=void 0)})),new RTCSessionDescription({type:e.type,sdp:o.a.write(t)});t.media[n].rids=[{id:"1",direction:"recv"},{id:"2",direction:"recv"},{id:"3",direction:"recv"}];var r=c.a.isFirefox()&&c.a.isVersionGreaterThan(71)?"recv "+p.join(";"):"recv rid="+p.join(";");return t.media[n].simulcast_03={value:r},new RTCSessionDescription({type:e.type,sdp:o.a.write(t)})}},{key:"addTrack",value:function(e,t){var n=e.getTrack();if(t){var r=[];e.getOriginalStream()&&r.push(e.getOriginalStream());var i={direction:a.a.SENDRECV,streams:r,sendEncodings:[]};c.a.isFirefox()||(i.sendEncodings=this._getStreamEncodings(e)),this.pc.peerconnection.addTransceiver(n,i)}else this.pc.peerconnection.addTrack(n)}},{key:"calculateEncodingsActiveState",value:function(e,t){var n=this,r=e.getTrack().getSettings().height;return this.localStreamEncodingsConfig.map((function(e){return r/e.scaleResolutionDownBy})).map((function(r,i){var o,a=e.getVideoType()!==u.VideoType.CAMERA||t>0&&4===(null===(o=n.localStreamEncodingsConfig[i])||void 0===o?void 0:o.scaleResolutionDownBy)||r<=t;return n.pc.isSharingLowFpsScreen()&&e.getVideoType()===u.VideoType.DESKTOP&&n.pc.usesUnifiedPlan()&&!c.a.isWebKitBased()&&n.localStreamEncodingsConfig[i].scaleResolutionDownBy!==h&&(a=!1),a}))}},{key:"calculateEncodingsBitrates",value:function(e){var t,n,r=this,i=e.getVideoType(),o=(null===(n=null===(t=this.pc.options)||void 0===t?void 0:t.videoQuality)||void 0===n?void 0:n.desktopBitrate)||5e5,a=e._originalStream&&e._originalStream.id!==e.getStreamId();return this.localStreamEncodingsConfig.map((function(e){return r.pc.isSharingLowFpsScreen()&&!c.a.isWebKitBased()?a?f:o:i===u.VideoType.DESKTOP&&c.a.isChromiumBased()&&!r.pc.usesUnifiedPlan()?void 0:e.maxBitrate}))}},{key:"replaceTrack",value:function(e,t){var n,r,i,o,s=null!==(n=null==t?void 0:t.getType())&&void 0!==n?n:null==e?void 0:e.getType(),u=this.pc.getLocalTracks(s),c=null!==(r=null==t?void 0:t.getTrack())&&void 0!==r?r:null,f=l.a.isMultiStreamSupportEnabled()&&(null==u?void 0:u.length)&&!e&&t&&!u.find((function(e){return e===t}));if(e&&!e.isMuted())o=this.pc.peerconnection.getTransceivers().find((function(t){return t.sender.track===e.getTrack()}));else if(f)o=this.pc.peerconnection.getTransceivers().find((function(e){return e.receiver.track.kind===s&&e.direction===a.a.RECVONLY&&e.currentDirection===a.a.INACTIVE}));else{o=this.pc.peerconnection.getTransceivers().find((function(e){return e.receiver.track.kind===s}));var h=null!==(i=null==t?void 0:t.getSourceName())&&void 0!==i?i:null==e?void 0:e.getSourceName();if(h){var p=Number(h.split("-")[1].substring(1));p&&(o=this.pc.peerconnection.getTransceivers().filter((function(e){return e.receiver.track.kind===s&&e.direction!==a.a.RECVONLY}))[p])}}return o?(d.debug("".concat(this.pc," Replacing ").concat(e," with ").concat(t)),o.sender.replaceTrack(c).then((function(){return Promise.resolve(o)}))):Promise.reject(new Error("replace track failed"))}},{key:"setAudioTransferActive",value:function(e){this.setMediaTransferActive(s.a.AUDIO,e)}},{key:"setEncodings",value:function(e){var t,n,r=e.getType(),i=this.findTransceiver(r,e),o=null===(t=null==i?void 0:i.sender)||void 0===t?void 0:t.getParameters();return(null===(n=null==o?void 0:o.encodings)||void 0===n?void 0:n.length)?(o.encodings=this._getStreamEncodings(e),i.sender.setParameters(o)):Promise.resolve()}},{key:"setMediaTransferActive",value:function(e,t){var n=this.pc.peerconnection.getTransceivers().filter((function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e})),r=this.pc.getLocalTracks(e);d.info("".concat(this.pc," ").concat(t?"Enabling":"Suspending"," ").concat(e," media transfer.")),n.forEach((function(e,n){t?n<r.length?e.direction=a.a.SENDRECV:e.direction=a.a.RECVONLY:e.direction=a.a.INACTIVE}))}},{key:"setVideoTransferActive",value:function(e){this.setMediaTransferActive(s.a.VIDEO,e)}},{key:"updateEncodingsResolution",value:function(e){var t,n=this;c.a.isWebKitBased()&&e.encodings&&Array.isArray(e.encodings)&&(t=e.encodings).every((function(e){return void 0!==e.scaleResolutionDownBy&&e.scaleResolutionDownBy===t[0].scaleResolutionDownBy}))&&e.encodings.forEach((function(e,t){e.scaleResolutionDownBy=n.localStreamEncodingsConfig[t].scaleResolutionDownBy}))}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(8),o=n(64),a=n(14);t.dispatchDragAndDropEvent=function(e){return e.pipe(i.tap((function(e){var t=document.getElementsByTagName(e.tagname)[e.index],n=e.type,i=a.getOptions(e);if("dragstart"===n&&(r=new DataTransfer),t)if("function"==typeof DragEvent){i.dataTransfer=r;var o=new DragEvent(n,i);t.dispatchEvent(o)}else if(document.createEvent){var s=a.getFlatOptions(e);window.setTimeout((function(){var e=document.createEvent("DragEvent");"function"==typeof e.initEvent&&e.initEvent(s),t.dispatchEvent(e)}),0)}})))},t.simulateDragAndDropEvent=function(e){return[o.EffectNames.DispatchDragAndDropEvent,e]}},function(e,t,n){var r=n(32).Buffer,i=n(618).Transform,o=n(128).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(24)(a,i),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n(0),i=n(193),o=n(107),a=n(61),s=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),u=function(){function e(e){if(this.traceId=Object(i.g)(),this.spanId=Object(i.g)().substring(16),this.startTimestamp=Object(o.d)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e(Object(r.a)(Object(r.a)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=Object(r.a)(Object(r.a)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=Object(r.a)(Object(r.a)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=c(e);return"unknown_error"!==t&&this.setStatus(t),this},e.prototype.isSuccess=function(){return"ok"===this.status},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:Object(o.d)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return Object(a.c)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,o;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(i=e.tags)?i:{},this.traceId=null!=(o=e.traceId)?o:this.traceId,this},e.prototype.getTraceContext=function(){return Object(a.c)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return Object(a.c)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}();function c(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(50),i=n(98),o=n(164);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(i.a)(e)}},function(e,t,n){"use strict";function r(e){this.ba_=e}t.t=function(e){return new r(e)};var i=n(574);n(249).aF_(r.prototype.createOut=function(e,t,n){return new i(e,t,n)}),n(584)(r.prototype)},function(e,t,n){"use strict";t.a={}},function(e,t,n){"use strict";var r=n(95),i=r.C_,o=n(271),a=o.o_,s=n(89),u=n(319),c=!0===r.aw_,l=n(710),d=n(711);function f(e){var t=e.parentOut,n=e.out,r=t.b_;void 0!==r&&(n.b_=new o(n,r)),n.c(t.g_,t.i_,t.ax_)}function h(e){var t=e.out;f(e),t.on("beginAsync",f),t.on("beginDetachedAsync",h)}e.exports=function(e,t,n){var r=n&&n.onInput,o=t.t,p=!0===t.s,m=!0===t.i,v=n&&p;if(t.d)throw new Error("Runtime/NODE_ENV Mismatch");return function(t,g){!function(e){e.isSync()||e.global.$wa||(e.on("beginAsync",f),e.on("beginDetachedAsync",h),e.global.$wa=!0)}(g);var _,b,y,E=a(g),S=E.e_,D=S._q_,w=void 0!==D,C=E.j_,T=g.g_,A=T&&T.id,k=g.i_;if(D?(_=D.id,b=!0,S._q_=null):C?(y=g.ax_,_=null!=k?function(e,t){return"#"===e[0]?e.substring(1):t.id+"-"+t._L_(e)}(k.toString(),C):C._M_()):_=S._M_(),c)t=(D=s._P_(n,_,t,g,o,y,A))._X_;else{if(!D){if(w&&(D=i[_])&&D._N_!==o&&(D.destroy(),D=void 0),D)b=!0;else if(b=!1,D=s._P_(o,_),!0===v){v=!1;var O="function"==typeof n?n.prototype:n;u(O,D.constructor.prototype)}if(D.U_=!0,void 0!==y&&D._v_(y,A),!1===b&&D._x_(t,g),t=D._g_(t,r,g),!0===b&&(!1===D._j_||!1===D.shouldUpdate(t,D.J_)))return g.ay_(D),S._U_[_]=!0,void D.I_()}D.S_=g.global,D._y_(g)}var R=l(E,D,k,T,p,m);R._G_=b,e(t,g,R,D,D._t_),d(g,R),E.j_=C}}},function(e,t,n){"use strict";var r=n(66);t.a=r.a.indexOf},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="https://api.callstats.io/static/callstats-ws.min.js",i=5},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14),a=n(13);t.dispatchMouseEvent=function(e,t){return e.pipe(r.withLatestFrom(t.usersList$,t.service$),r.tap((function(e){var t,n,r,i=e[0],s=e[1],u=e[2],c=i.css,l=i.user,d=void 0===l?{}:l,f=i.is_toolbox,h=i.type,p=i.coordinates,m=i.is_default,v=i.value,g=i.is_blank,_=document.getElementsByTagName(i.tagname),b=_[i.index],y=o.getOptions(i);switch(n=(r=s.find((function(e){return e.id==d.id})))&&r.element,h){case"click":if(u.setByKey("lastClickTS",Date.now()),m)return void o.handleDefaultClick(b,v,g);break;case"mouseover":n&&b&&"IFRAME"===b.tagName?n.style.display="none":n&&(n.style.display="block"),b&&b.closest("a")&&window.location.href.indexOf("ogs.google.com")<0&&(b.closest("a").target="_self");break;case"mouseout":i.mouseout&&n&&(n.style.display="none");break;case"mousemove":t=o.getProjectedCoords(p),b&&b.closest("a")&&window.location.href.indexOf("ogs.google.com")<0&&(b.closest("a").target="_self"),n&&(n.style.left=t.pWidth+"px",n.style.top=t.pHeight+"px")}if(!f){if(b)if("function"==typeof MouseEvent){var E=void 0,S=void 0,D=void 0,w=void 0;if("click"===h){var C=JSON.parse(i.content);E=new MouseEvent(h,y),S=C.attributesKeys,D=C.attributesValues,w=i.content_type;for(var T,A=document.getElementsByTagName(i.tagname),k=0;k<_.length;k++)if(_[k].textContent===w&&a.matchElementByAttributes(S,D,_[k])){T=A[k];break}!T&&b&&b.textContent===w&&(T=b),T&&T.dispatchEvent(E,y)}else E=new MouseEvent(h,y),b&&b.dispatchEvent(E,y)}else if(document.createEvent){var O=o.getFlatOptions(i);window.setTimeout((function(){var e=document.createEvent("MouseEvent");"function"==typeof e.initMouseEvent&&e.initMouseEvent(O),b.dispatchEvent(e)}),0)}if(b)for(var R in c)b.style[R]=c[R]}})))},t.simulateMouseEvent=function(e){return[i.EffectNames.DispatchMouseEvent,e]}},function(e,t,n){var r=n(319);function i(e,t,n){var i=e.prototype,o=e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});return i&&!1!==n&&r(i,o),e.$super=t,e.prototype=o,e}e.exports=i,i._inherit=i},function(e,t,n){"use strict";var r=n(32).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(202),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(182));o.inherits=n(24);var a=n(344),s=n(257);o.inherits(d,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];d.prototype[l]||(d.prototype[l]=s.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!0;try{void 0===window.localStorage&&(console.log("local storage is not supported"),r=!1)}catch(e){}t.getL=function(e){if(r){var t=window.localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t}},t.setL=function(e,t){if(r)try{var n=JSON.stringify(t);window.localStorage.setItem(e,n)}catch(e){}},t.removeL=function(e){if(r)try{window.localStorage.removeItem(e)}catch(e){}}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g}));var r=n(0),i=n(175),o=n(41),a=n(40),s=n(94),u=n(393),c=n(19),l=n(152),d=n(153),f=n(35);function h(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function p(e,t,n){return Object(f.b)(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(e){return Object(a.h)(e)||"number"!=typeof e&&"boolean"!=typeof e?(c.a&&o.c.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):!(e<0||e>1)||(c.a&&o.c.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1)}(r)?r?(e.sampled=Math.random()<r,e.sampled?(c.a&&o.c.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(c.a&&o.c.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),e)):(c.a&&o.c.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(c.a&&o.c.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function m(e,t){var n=this.getClient(),i=n&&n.getOptions()||{},o=new d.a(e,this);return(o=p(o,i,Object(r.a)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),o}function v(e,t,n,i,o){var a=e.getClient(),s=a&&a.getOptions()||{},u=new l.b(t,e,n,i);return(u=p(u,s,Object(r.a)({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&u.initSpanRecorder(s._experiments&&s._experiments.maxSpans),u}function g(){var t;(t=Object(i.d)()).__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=m),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=h)),Object(s.b)()&&function(){var t=Object(i.d)();if(t.__SENTRY__){var n={mongodb:function(){return new(Object(s.a)(e,"./integrations/node/mongo").Mongo)},mongoose:function(){return new(Object(s.a)(e,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new(Object(s.a)(e,"./integrations/node/mysql").Mysql)},pg:function(){return new(Object(s.a)(e,"./integrations/node/postgres").Postgres)}},o=Object.keys(n).filter((function(e){return!!Object(s.c)(e)})).map((function(e){try{return n[e]()}catch(e){return}})).filter((function(e){return e}));o.length>0&&(t.__SENTRY__.integrations=Object(r.e)(t.__SENTRY__.integrations||[],o))}}(),Object(u.a)()}}).call(this,n(244)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(69);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},function(e,t){function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function r(e){return e[n(0,e.length-1)]}var i={randomHexDigit:function(){return r("0123456789abcdef")},randomHexString:function(e){for(var t="";e--;)t+=this.randomHexDigit();return t},randomElement:r,randomAlphanumStr:function(e){for(var t="",n=0;n<e;n+=1)t+=r("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t},randomInt:n};e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(221),i=n(112),o=n(77),a=n(83),s=n(222),u=n(223),c=n(162),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,d=Object(c.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(40);function i(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n="'{snip} "+n),o<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(r.l)(e)&&(Object(r.k)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){var t=this;_classCallCheck(this,e);var n=this;this.promise=new Promise((function(e,r){t.resolve=function(){n.clearRejectTimeout(),e.apply(void 0,arguments)},t.reject=function(){n.clearRejectTimeout(),r.apply(void 0,arguments)}})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return _createClass(e,[{key:"clearRejectTimeout",value:function(){clearTimeout(this._timeout)}},{key:"setRejectTimeout",value:function(e){var t=this;this._timeout=setTimeout((function(){t.reject(new Error("timeout"))}),e)}}]),e}()},function(e,t){e.exports={ENVIRONMENT:"environment",USER:"user"}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=u.length?r.parseFmtp(u[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=s.length>0&&s[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&u&&n.push({ssrc:u});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var a=r.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=a[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiMediaDevicesEvents",(function(){return r})),n.d(t,"DEVICE_LIST_CHANGED",(function(){return i})),n.d(t,"PERMISSIONS_CHANGED",(function(){return o})),n.d(t,"PERMISSION_PROMPT_IS_SHOWN",(function(){return a})),n.d(t,"SLOW_GET_USER_MEDIA",(function(){return s})),function(e){e.DEVICE_LIST_CHANGED="mediaDevices.devicechange",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.PERMISSION_PROMPT_IS_SHOWN="mediaDevices.permissionPromptIsShown",e.SLOW_GET_USER_MEDIA="mediaDevices.slowGetUserMedia"}(r||(r={}));var i=r.DEVICE_LIST_CHANGED,o=r.PERMISSIONS_CHANGED,a=r.PERMISSION_PROMPT_IS_SHOWN,s=r.SLOW_GET_USER_MEDIA},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u}));var r="MAIN_THREAD_FINISH",i="MAIN_THREAD_INIT",o="MAIN_THREAD_NEW_DATA_ARRIVED",a="WORKER_LIBFLAC_READY",s="WORKER_BLOB_READY",u="DEBUG"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(23),a=n(306),s=n(307),u=n(308),c=n(309),l=n(310);!function(e){e.PropSet="@@BSDOM.Events.PropSet",e.StyleSet="@@BSDOM.Events.StyleSet",e.LinkReplace="@@BSDOM.Events.LinkReplace",e.SetScroll="@@BSDOM.Events.SetScroll",e.SetWindowName="@@BSDOM.Events.SetWindowName"}(i=t.Events||(t.Events={})),t.domHandlers$=new o.BehaviorSubject(((r={})[i.PropSet]=a.propSetDomEffect,r[i.StyleSet]=s.styleSetDomEffect,r[i.LinkReplace]=u.linkReplaceDomEffect,r[i.SetScroll]=c.setScrollDomEffect,r[i.SetWindowName]=l.setWindowNameDomEffect,r))},function(e,t,n){"use strict";function r(){}r.prototype={bA_:function(e,t){this.bQ_=e,this.bR_=0,this.bG_=null,this.bS_=null,this.bD_=null,this.bE_=null,this.aB_=t},get _r_(){var e=this.bG_;return e&&e.bF_?e._r_||e.bT_:e},get bT_(){var e=this.bE_;if(e){if(e.bF_)return e._r_||e.bT_}else{var t=this.bD_;if(t&&t.bF_)return t.bT_}return e},bs_:function(e){if(this.bR_++,"textarea"===this.bI_)if(e.bU_){var t=e.bV_;this.bJ_=(this.bJ_||"")+t}else{if(!e.n_&&!e.m_)throw TypeError();this.bW_=!0}else{var n=this.bS_;e.bD_=this,n?n.bE_=e:this.bG_=e,this.bS_=e}return e},bL_:function(){return this.bR_===this.bQ_&&this.bD_?this.bD_.bL_():this}},e.exports=r},function(e,t,n){"use strict";e.exports={ad_:new WeakMap,ae_:new WeakMap,E_:new WeakMap,af_:new WeakMap,ag_:new WeakMap,F_:{}}},function(e,t,n){"use strict";(function(t,r){var i=n(32).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);return"function"==typeof t?r.nextTick((function(){t(null,n)})):n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(49),n(45))},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a;if("string"==typeof t&&(i="not ",t.substr(0,4)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-9,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+1>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(o(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(336),o=n(340);n(24)(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(45))},function(e,t,n){var r=n(32).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%i,c=Math.min(o-s,i-u),l=0;l<c;l++)n[u+l]=e[s+l];s+=c,(a+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a;if("string"==typeof t&&(i="not ",t.substr(0,4)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-9,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+1>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(o(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(365),o=n(369);n(24)(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(45))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(0),i=n(107),o=n(41),a=n(124),s=n(19),u=n(117),c=n(153),l=1e3,d=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return Object(r.b)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:Object(i.d)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(u.b),f=function(e){function t(t,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(h(n),s.a&&o.c.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(e){return e.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return Object(r.b)(t,e),t.prototype.finish=function(t){var n,a,u=this;if(void 0===t&&(t=Object(i.d)()),this._finished=!0,this.activities={},this.spanRecorder){s.a&&o.c.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var c=Object(r.f)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next())(0,l.value)(this,t)}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===u.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),s.a&&o.c.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||s.a&&o.c.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),s.a&&o.c.log("[Tracing] flushing IdleTransaction")}else s.a&&o.c.log("[Tracing] No active IdleTransaction");return this._onScope&&h(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;this.spanRecorder||(this.spanRecorder=new d((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),s.a&&o.c.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),s.a&&o.c.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,s.a&&o.c.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(s.a&&o.c.log("[Tracing] popActivity "+e),delete this.activities[e],s.a&&o.c.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(i.d)()+n/1e3;setTimeout((function(){t._finished||(t.setTag(a.a,a.b[1]),t.finish(r))}),n)}},t.prototype._beat=function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(s.a&&o.c.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(a.a,a.b[0]),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;s.a&&o.c.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){e._beat()}),5e3)},t}(c.a);function h(e){if(e){var t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(175),o=n(40),a=n(41),s=n(61),u=n(19),c=n(117),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=Object(i.b)(),Object(o.g)(n,i.a)&&(r._hub=n),r.name=t.name||"",r.metadata=t.metadata||{},r._trimEnd=t.trimEnd,r.transaction=r,r}return Object(r.b)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new c.b(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=Object(r.a)({},e)},t.prototype.setMetadata=function(e){this.metadata=Object(r.a)(Object(r.a)({},this.metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(u.a&&a.c.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(u.a&&a.c.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),u.a&&a.c.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}u.a&&a.c.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),s=o&&o.getTransport&&o.getTransport();s&&s.recordLostEvent&&s.recordLostEvent("sample_rate","transaction")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return Object(s.c)(Object(r.a)(Object(r.a)({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(9);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.b(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(37),o=n(217),a=n(29),s=n(209),u=n(84),c=n(220),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.b(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),i&&e.add(e=new s.a(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.a),d=function(e,t){this.time=e,this.value=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);function i(e,t){return t?new r.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),i=n(50),o=n(39),a=n(21),s=n(20),u=n(98),c={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(u.a)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.b(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===c?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(88),i=n(76);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.a)(i.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),i=n(56),o=n(53);function a(e){return new r.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),i=n(98),o=n(39),a=n(9),s=n(21),u=n(20),c=n(77);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(i.a)(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.b(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new p(e)):"function"==typeof e[c.a]?t.push(new h(e[c.a]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a),h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[c.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.b(t,e),t.prototype[c.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(u.a)(this,this.observable,this,t)},t}(s.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(187),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"start",value:function(e){throw new Error("Not implemented")}},{key:"stop",value:function(){throw new Error("Not implemented")}},{key:"exportRecordedData",value:function(){throw new Error("Not implemented")}},{key:"setMuted",value:function(e){throw new Error("Not implemented")}},{key:"setMicDevice",value:function(e){throw new Error("Not implemented")}},{key:"_getAudioStream",value:function(e){return r.a.createLocalTracks({devices:["audio"],micDeviceId:e}).then((function(e){if(1!==e.length)throw new Error("Unexpected number of streams from createLocalTracks.");var t=e[0].stream;if(void 0===t)throw new Error("Failed to create local track.");return t}))}}]),e}()},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(17),i=n(29);function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){var r=n(588),i={loadScript:function(e,t,n,i,o,a){var s=document,u=s.createElement("script"),c=s.getElementsByTagName("script")[0];if(u.async=t,i){var l=r();if(l){var d=l.src,f=d.substring(0,d.lastIndexOf("/")+1);d&&f&&(e=f+e)}}o&&(u.onload=o),a&&(u.onerror=a),u.src=e,n?c.parentNode.insertBefore(u,c):c.parentNode.appendChild(u)}};e.exports=i},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(5),i=n(2),o=n(30),a=n(4),s=n(11),u=n(15),c=n(6),l=n(10),d=Object(r.getLogger)(e),f={ACTIVE:"active",INACTIVE:"inactive",INTERRUPTED:"interrupted",RESTORING:"restoring"},h=function(){function e(t,n,r){_classCallCheck(this,e),this.rtc=t,this.conference=n,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout="number"==typeof r.outOfLastNTimeout?r.outOfLastNTimeout:500,this.p2pRtcMuteTimeout="number"==typeof r.p2pRtcMuteTimeout?r.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"==typeof r.rtcMuteTimeout?r.rtcMuteTimeout:1e4,this.rtcMutedTimestamp={},d.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return _createClass(e,[{key:"_getVideoFrozenTimeout",value:function(e){return this.rtc.isInLastN(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(s.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(i.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(i.USER_LEFT,this._onUserLeft),c.a.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(s.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(s.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(i.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(i.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(i.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(s.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(s.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),c.a.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(s.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(s.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(i.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(i.TRACK_REMOVED,this._onRemoteTrackRemoved)),this.conference.off(i.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this.rtc.removeListener(s.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(i.P2P_STATUS,this._onP2PStatus),this.conference.off(i.USER_LEFT,this._onUserLeft);for(var e=0,t=Object.keys(this.trackTimers);e<t.length;e++){var n=t[e];this.clearTimeout(n),this.clearRtcMutedTimestamp(n)}for(var r in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(r)&&this.onUserLeft(r);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(e,t){d.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED(".concat(Date.now(),"): ").concat(e,": ").concat(t)),e!==this.conference.myUserId()&&(this.connStatusFromJvb[e]=t,this.figureOutConnectionStatus(e))}},{key:"_changeConnectionStatus",value:function(e,t){if(e.getConnectionStatus()!==t){var n=e.getId();e._setConnectionStatus(t),d.debug("Emit endpoint conn status(".concat(Date.now(),") ").concat(n,": ").concat(t)),l.a.sendLog(JSON.stringify({id:"peer.conn.status",participant:n,status:t})),this.conference.eventEmitter.emit(i.PARTICIPANT_CONN_STATUS_CHANGED,n,t)}}},{key:"clearTimeout",value:function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)}},{key:"clearRtcMutedTimestamp",value:function(e){this.rtcMutedTimestamp[e]=null}},{key:"onRemoteTrackAdded",value:function(e){var t=this;e.isLocal()||e.getType()!==a.a.VIDEO||(d.debug("Detector on remote track added for: "+e.getParticipantId()),e.on(o.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),e.on(o.TRACK_VIDEOTYPE_CHANGED,(function(n){return t._onTrackVideoTypeChanged(e,n)})))}},{key:"onRemoteTrackRemoved",value:function(e){if(!e.isLocal()&&e.getType()===a.a.VIDEO){var t=e.getParticipantId();d.debug("Detector on remote track removed: "+t),e.off(o.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}}},{key:"isVideoTrackFrozen",value:function(e){if(!c.a.supportsVideoMuteOnConnInterrupted())return!1;var t=e.getId(),n=e.hasAnyVideoTrackWebRTCMuted(),r=this.rtcMutedTimestamp[t],i=this._getVideoFrozenTimeout(t);return n&&"number"==typeof r&&Date.now()-r>=i}},{key:"refreshConnectionStatusForAll",value:function(){var e,t=this.conference.getParticipants(),n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.figureOutConnectionStatus(r.getId())}}catch(i){n.e(i)}finally{n.f()}}},{key:"figureOutConnectionStatus",value:function(t){var n=this.conference.getParticipantById(t);if(n){var r=this.conference.isP2PActive(),i=this._isRestoringTimedout(t),o=0===this.conference.getLastN(),s=n.isVideoMuted()||o,u=this.isVideoTrackFrozen(n),c=this.rtc.isInLastN(t),l=this.connStatusFromJvb[t];"boolean"!=typeof l&&(l=!0);var h=r?e._getNewStateForP2PMode(s,u):e._getNewStateForJvbMode(l,c,i,s,u);h!==f.RESTORING&&this._clearRestoringTimer(t),d.debug("Figure out conn status for ".concat(t,", is video muted: ").concat(s," is active(jvb): ").concat(l," video track frozen: ").concat(u," p2p mode: ").concat(r," is in last N: ").concat(c," currentStatus => newStatus: ").concat(n.getConnectionStatus()," => ").concat(h));var p=this.connectionStatusMap[t]||{};if(!("p2p"in p)||!("connectionStatus"in p)||p.p2p!==r||p.connectionStatus!==h){var m=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(t,m),this.connectionStatusMap[t]=Object.assign(Object.assign({},p),{connectionStatus:h,p2p:r,startedMs:m}),!("videoType"in this.connectionStatusMap[t])){var v=n.getTracksByMediaType(a.a.VIDEO);Array.isArray(v)&&0!==v.length&&(this.connectionStatusMap[t].videoType=v[0].videoType)}}this._changeConnectionStatus(n,h)}else d.debug("figure out conn status - no participant for: "+t)}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(e,t){var n=this.connectionStatusMap[e];n&&"startedMs"in n&&"videoType"in n&&"connectionStatus"in n&&"p2p"in n&&(n.value=t-n.startedMs,l.a.sendAnalytics(Object(u.I)(n)))}},{key:"_onLastNChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Date.now();d.debug("LastN endpoints changed leaving=".concat(e,", entering=").concat(t," at ").concat(n)),c.a.supportsVideoMuteOnConnInterrupted()||this.refreshConnectionStatusForAll();var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.enteredLastNTimestamp.delete(o),this._clearRestoringTimer(o),c.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(o)}}catch(l){i.e(l)}finally{i.f()}var a,s=_createForOfIteratorHelper(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.enteredLastNTimestamp.set(u,n),c.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(u)}}catch(l){s.e(l)}finally{s.f()}}},{key:"_clearRestoringTimer",value:function(e){var t=this.restoringTimers.get(e);t&&(clearTimeout(t),this.restoringTimers.delete(e))}},{key:"_isRestoringTimedout",value:function(e){var t=this,n=this.enteredLastNTimestamp.get(e);return!!(n&&Date.now()-n>=1e4)||(this.restoringTimers.get(e)||this.restoringTimers.set(e,setTimeout((function(){return t.figureOutConnectionStatus(e)}),1e4)),!1)}},{key:"onUserLeft",value:function(e){this.maybeSendParticipantConnectionStatusEvent(e,Date.now()),delete this.connectionStatusMap[e]}},{key:"onTrackRtcMuted",value:function(e){var t=this,n=e.getParticipantId(),r=this.conference.getParticipantById(n);if(d.debug("Detector track RTC muted: "+n,Date.now()),r){if(this.rtcMutedTimestamp[n]=Date.now(),!r.isVideoMuted()){this.clearTimeout(n);var i=this._getVideoFrozenTimeout(n);this.trackTimers[n]=window.setTimeout((function(){d.debug("Set RTC mute timeout for: ".concat(n,"                     of ").concat(i," ms")),t.clearTimeout(n),t.figureOutConnectionStatus(n)}),i)}}else d.error("No participant for id: "+n)}},{key:"onTrackRtcUnmuted",value:function(e){var t=e.getParticipantId();d.debug("Detector track RTC unmuted: "+t,Date.now()),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}},{key:"onSignallingMuteChanged",value:function(e){var t=e.getParticipantId();d.debug("Detector on track signalling mute changed: "+t,e.isMuted()),this.figureOutConnectionStatus(t)}},{key:"onTrackVideoTypeChanged",value:function(e,t){var n=e.getParticipantId(),r=Date.now();this.maybeSendParticipantConnectionStatusEvent(n,r),this.connectionStatusMap[n]=Object.assign(Object.assign({},this.connectionStatusMap[n]||{}),{videoType:t,startedMs:r})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,r,i){return e?r?f.ACTIVE:c.a.supportsVideoMuteOnConnInterrupted()?i?t?n?f.INTERRUPTED:f.RESTORING:f.INACTIVE:f.ACTIVE:t?f.ACTIVE:f.INACTIVE:f.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(e,t){return c.a.supportsVideoMuteOnConnInterrupted()?e||!t?f.ACTIVE:f.INTERRUPTED:f.ACTIVE}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";var r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;t.parse=function(e){var n="object"==typeof(arguments.length<=1?void 0:arguments[1])&&(arguments.length<=1?void 0:arguments[1]),i=(arguments.length<=1?0:arguments.length-1)>1||!n?arguments.length<=1?void 0:arguments[1]:void 0,o=(arguments.length<=1?0:arguments.length-1)>1&&(arguments.length<=2?void 0:arguments[2])||n||{},a=JSON.parse(e,i);return"ignore"===o.protoAction?a:a&&"object"==typeof a&&e.match(r)?(t.scan(a,o),a):a},t.scan=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[e];n.length;){var r=n;n=[];var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(Object.prototype.hasOwnProperty.call(a,"__proto__")){if("remove"!==t.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete a.__proto__}for(var s in a){var u=a[s];u&&"object"==typeof u&&n.push(a[s])}}}catch(c){o.e(c)}finally{o.f()}}},t.safeParse=function(e,n){try{return t.parse(e,n)}catch(e){return null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.b(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(function(e){s(e)}(n),t.scheduled=void 0)},t}(n(102).a),c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(99).a))(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(67),i=n(112),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(5),i=n(46),o="NETWORK_INFO_CHANGED",a=Object(r.getLogger)(e),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._current={isOnline:!0},e}return _createClass(n,[{key:"updateNetworkInfo",value:function(e){var t=e.isOnline;a.debug("updateNetworkInfo",{isOnline:t}),this._current={isOnline:!0===t},this.eventEmitter.emit(o,this._current)}},{key:"isOnline",value:function(){return!0===this._current.isOnline}}]),n}(i.a),u=new s;t.b=u}).call(this,"/index.js")},function(e,t,n){"use strict";var r;!function(e){e.REMOTE_SOURCE_CONSTRAINTS_CHANGED="media_session.REMOTE_SOURCE_CONSTRAINTS_CHANGED",e.REMOTE_VIDEO_CONSTRAINTS_CHANGED="media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED"}(r||(r={})),t.a=r},function(e,t){e.exports={CAMERA:"camera",DESKTOP:"desktop",DESKTOP_HIGH_FPS:"desktop_high_fps",NONE:"none"}},function(e,t,n){"use strict";t.a={getFocusRecordingUpdate:function(e){var t=e&&e.getElementsByTagName("jibri-recording-status")[0];if(t)return{error:t.getAttribute("failure_reason"),initiator:t.getAttribute("initiator"),recordingMode:t.getAttribute("recording_mode"),sessionID:t.getAttribute("session_id"),status:t.getAttribute("status")}},getHiddenDomainUpdate:function(e){var t=e.getElementsByTagName("live-stream-view-url")[0],n=t&&t.textContent,r=e.getElementsByTagName("mode")[0],i=r&&r.textContent&&r.textContent.toLowerCase(),o=e.getElementsByTagName("session_id")[0];return{liveStreamViewURL:n,mode:i,sessionID:o&&o.textContent}},getSessionIdFromIq:function(e){var t=e&&e.getElementsByTagName("jibri")[0];return t&&t.getAttribute("session_id")},getSessionId:function(e){var t=e.getElementsByTagName("session_id")[0];return t&&t.textContent},isFromFocus:function(e){return e.getAttribute("from").includes("focus")}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r={disableAudioLevels:!1},i={hosts:{domain:"sariska.io",muc:"muc.sariska.io"},serviceUrl:"wss://api.sariska.io/api/v1/media/websocket",clientNode:"https://www.sariska.io"},o={hosts:{domain:"dev.sariska.io",muc:"muc.dev.sariska.io"},serviceUrl:"wss://api.dev.sariska.io/api/v1/media/websocket",clientNode:"https://www.sariska.io"},a={enableLocalRecording:!0,enableVirtualBackground:!1,enableNoiseCancellation:!1,enableTalkWhileMuted:!0,enableNoAudioDetection:!0,enableNoisyMicDetection:!0,createVADProcessor:!0,openBridgeChannel:"websocket",hiddenDomain:"recorder.sariska.io",enableLayerSuspension:!0,e2eping:{pingInterval:-1},analytics:{disabled:!1},p2p:{enabled:!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(0),i=n(193),o=n(107),a=n(41),s=n(59),u=n(94),c="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l=n(240),d=n(391),f=function(){function e(e,t,n){void 0===t&&(t=new l.a),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=l.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Object(i.g)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,Object(r.a)(Object(r.a)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=n&&n.event_id?n.event_id:Object(i.g)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(e){s=e}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,Object(r.a)(Object(r.a)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=t&&t.event_id?t.event_id:Object(i.g)();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,Object(r.a)(Object(r.a)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,s=n.client;if(i&&s){var u=s.getOptions&&s.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,d=u.maxBreadcrumbs,f=void 0===d?100:d;if(!(f<=0)){var h=Object(o.b)(),p=Object(r.a)({timestamp:h},e),m=l?Object(a.b)((function(){return l(p,t)})):p;null!==m&&i.addBreadcrumb(m,f)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=p(this);try{e(this)}finally{p(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return c&&a.c.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,u=o.environment,c=(Object(s.a)().navigator||{}).userAgent,l=new d.a(Object(r.a)(Object(r.a)(Object(r.a)({release:a,environment:u},n&&{user:n.getUser()}),c&&{userAgent:c}),e));if(n){var f=n.getSession&&n.getSession();f&&"ok"===f.status&&f.update({status:"exited"}),this.endSession(),n.setSession(l)}return l},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,Object(r.e)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=h().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);c&&a.c.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function h(){var e=Object(s.a)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function p(e){var t=h(),n=g(t);return _(t,e),n}function m(){var e=h();return v(e)&&!g(e).isOlderThan(4)||_(e,new f),Object(u.b)()?function(e){try{var t=h().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return g(e);if(!v(n)||g(n).isOlderThan(4)){var r=g(e).getStackTop();_(n,new f(r.client,l.a.clone(r.scope)))}return g(n)}catch(t){return g(e)}}(e):g(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function g(e){return Object(s.b)("hub",(function(){return new f}),e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.dispatchTouchEvent=function(e){return e.pipe(r.tap((function(e){var t=document.getElementsByTagName(e.tagname)[e.index],n=e.type,r=o.getOptions(e);if(t)if("function"==typeof TouchEvent){var i=new TouchEvent(n,r);t.dispatchEvent(i)}else if(document.createEvent){var a=o.getFlatOptions(e);window.setTimeout((function(){var e=document.createEvent("TouchEvent");"function"==typeof e.initEvent&&e.initEvent(a),t.dispatchEvent(e)}),0)}})))},t.simulateTouchEvent=function(e){return[i.EffectNames.DispatchTouchEvent,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64);t.dispatchMediaEvent=function(e){return e.pipe(r.tap((function(e){var t=document.getElementsByTagName(e.tagname)[e.index],n=e.type;if(t)switch(n){case"play":t.muted=!0,t.play();break;case"pause":t.pause();break;case"volumechange":t.volume=e.volume,t.muted=e.muted;break;case"seeked":t.currentTime=e.seek_time}})))},t.simulateMediaEvent=function(e){return[i.EffectNames.DispatchMediaEvent,e]}},function(e,t){e.exports=function(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(24),i=n(250),o=n(253),a=n(254),s=n(116);function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(62).Buffer.isBuffer},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r=n(96),i=n(81);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){"use strict";var r=n(24),i=n(269).Reporter,o=n(267).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){return e instanceof a||"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.isEncoderBuffer=function(e){return e instanceof s||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";(function(e){n(714);var r=n(5),i=n.n(r),o=n(38),a=n(2),s=n(467),u=n(106),c=n(57),l=n(243),d=n(141),f=n(47),h=n(33),p=n(30),m=n(231),v=n(28),g=n(6),_=n(170),b=n(166),y=n(190),E=n(453),S=n(51),D=n(234),w=n(16),C=n(454),T=n(456),A=n(70),k=n(228),O=n(457),R=n(10),M=n(458),I=n.n(M),P=n(27),N=n.n(P),x=n(165),F=n.n(x),L=n(54),j=n(459),B=n(4),U=n(75),H=n(236),V=n(15),q=n(196),G=n(174),J=n(464),z=i.a.getLogger(e);function K(e){var t={audio_requested:e.devices.includes("audio"),video_requested:e.devices.includes("video"),screen_sharing_requested:e.devices.includes("desktop")};return t.video_requested&&(t.resolution=e.resolution),t}t.a=function(e){return"object"==typeof window.SariskaMediaTransport?Object.assign({},window.SariskaMediaTransport,e):e}({version:"{#COMMIT_HASH#}",JitsiConnection:s.a,ProxyConnectionService:C.a,effects:{createPresenterEffect:q.a,createRnnoiseProcessor:q.b,createScreenshotCaptureEffect:q.c,createVirtualBackgroundEffect:q.d},constants:{participantConnectionStatus:b.a,recording:T.a,sipVideoGW:L,transcriptionStatus:m,trackStreamingStatus:y.a},events:{conference:a,connection:c,detection:S,track:p,mediaDevices:d,connectionQuality:U,e2eping:H},errors:{conference:o,connection:u,track:h},errorTypes:{JitsiTrackError:f.a},logLevels:i.a.levels,mediaDevices:l.a,analytics:R.a.analytics,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.init(e)},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e=Object.assign(Object.assign({},G.d),e),A.a.init(e.externalStorage),R.a.init(e),void 0!==e.enableUnifiedOnChrome&&e.flags&&(e.flags.enableUnifiedOnChrome=e.enableUnifiedOnChrome),w.a.init(e.flags||{}),window.connectionTimes||(window.connectionTimes={}),!0!==e.enableAnalyticsLogging&&(z.warn("Analytics disabled, disposing."),this.analytics.dispose()),e.enableWindowOnErrorHandler&&N.a.addHandler(this.getGlobalOnErrorHandler.bind(this)),this.version){var t={id:"component_version",component:"sariska-media-transport",version:this.version};R.a.sendLog(JSON.stringify(t))}return v.a.init(e)},isDesktopSharingEnabled:function(){return v.a.isDesktopSharingEnabled()},isWebRtcSupported:function(){return v.a.isWebRtcSupported()},setLogLevel:function(e){i.a.setLogLevel(e)},setLogLevelById:function(e,t){i.a.setLogLevelById(e,t)},addGlobalLogTransport:function(e){i.a.addGlobalTransport(e)},removeGlobalLogTransport:function(e){i.a.removeGlobalTransport(e)},setGlobalLogOptions:function(e){i.a.setGlobalOptions(e)},createLocalTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(window.location.href.indexOf("iAmRecorder")>=0)return[];var r=!1,i=t.firePermissionPromptIsShownEvent,o=t.fireSlowPromiseEvent,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["firePermissionPromptIsShownEvent","fireSlowPromiseEvent"]);return!i&&!n||v.a.arePermissionsGrantedForAvailableDevices()?o&&window.setTimeout((function(){r||l.a.emitEvent(d.SLOW_GET_USER_MEDIA)}),1e3):l.a.emitEvent(d.PERMISSION_PROMPT_IS_SHOWN,g.a.getName()),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),v.a.obtainAudioAndVideoPermissions(a).then((function(t){if(r=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),R.a.sendAnalytics(Object(V.E)("success",K(a))),!v.a.options.disableAudioLevels)for(var n=function(){var e=t[i],n=e.getOriginalStream();e.getType()===B.a.AUDIO&&(R.a.startLocalStats(n,e.setAudioLevel.bind(e)),e.addEventListener(p.LOCAL_TRACK_STOPPED,(function(){R.a.stopLocalStats(n)})))},i=0;i<t.length;i++)n();var o=v.a.getCurrentlyAvailableMediaDevices();if(o)for(var s=0;s<t.length;s++)t[s]._setRealDeviceIdFromDeviceList(o);var u,c=_createForOfIteratorHelper(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.type===B.a.VIDEO&&"desktop"===l.videoType&&e.setVideoTrackContentHints(l.track,"detail")}}catch(d){c.e(d)}finally{c.f()}return t})).catch((function(e){if(r=!0,e.name===h.SCREENSHARING_USER_CANCELED){var n={id:"screensharing_user_canceled",message:e.message};R.a.sendLog(JSON.stringify(n)),R.a.sendAnalytics(Object(V.E)("warning",{reason:"extension install user canceled"}))}else if(e.name===h.NOT_FOUND){var i={id:"usermedia_missing_device",status:e.gum.devices};R.a.sendLog(JSON.stringify(i));var o=K(t);o.reason="device not found",o.devices=e.gum.devices.join("."),R.a.sendAnalytics(Object(V.E)("error",o))}else{R.a.sendGetUserMediaFailed(e);var a=K(t);a.reason=e.name,R.a.sendAnalytics(Object(V.E)("error",a))}return window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(e)}))},createTrackVADEmitter:function(e,t,n){return D.a.create(e,t,n)},createAudioMixer:function(){return new j.a},getActiveAudioDevice:function(){return Object(E.a)()},isDeviceListAvailable:function(){return z.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return z.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return R.a.audioLevelsEnabled&&k.a.isLocalStatsSupported()},enumerateDevices:function(e){z.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,r,i){z.error("UnhandledError: "+e,"Script: "+t,"Line: "+n,"Column: "+r,"StackTrace: ",i),R.a.reportGlobalError(i)},setNetworkInfo:function(e){var t=e.isOnline;R.a.sendAnalytics(J.a({isOnline:t})),_.b.updateNetworkInfo({isOnline:t})},setVideoTrackContentHints:function(e,t){"contentHint"in e?(e.contentHint=t,e.contentHint!==t&&z.debug("Invalid video track contentHint")):z.debug("MediaStreamTrack contentHint attribute not supported")},precallTest:O.a,util:{AuthUtil:I(),ScriptUtil:F(),browser:g.a}})}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(5),i=n(194),o=n.n(i),a=n(78),s=n.n(a),u=n(283),c=n(2),l=n(138),d=n(46),f=n(52),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},p=Object(r.getLogger)(e),m="error",v="key-info",g="key-info-ack",_="session-ack",b="session-init",y=Symbol("OlmData"),E={OLM_ID_KEY_READY:"olm.id_key_ready",PARTICIPANT_E2EE_CHANNEL_READY:"olm.participant_e2ee_channel_ready",PARTICIPANT_KEY_UPDATED:"olm.partitipant_key_updated"},S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._conf=e,r._init=new l.a,r._key=void 0,r._keyIndex=-1,r._reqs=new Map,r._sessionInitialization=void 0,n.isSupported()?(r._bootstrapOlm(),r._conf.on(c.ENDPOINT_MESSAGE_RECEIVED,r._onEndpointMessageReceived.bind(_assertThisInitialized(r))),r._conf.on(c.CONFERENCE_LEFT,r._onConferenceLeft.bind(_assertThisInitialized(r))),r._conf.on(c.USER_LEFT,r._onParticipantLeft.bind(_assertThisInitialized(r))),r._conf.on(c.PARTICIPANT_PROPERTY_CHANGED,r._onParticipantPropertyChanged.bind(_assertThisInitialized(r)))):r._init.reject(new Error("Olm not supported")),r}return _createClass(n,[{key:"initSessions",value:function(){return h(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sessionInitialization){e.next=2;break}throw new Error("OlmAdapter initSessions called multiple times");case 2:return this._sessionInitialization=new l.a,e.next=5,this._init;case 5:t=[],n=this._conf.myUserId(),r=_createForOfIteratorHelper(this._conf.getParticipants());try{for(r.s();!(i=r.n()).done;)(o=i.value).hasFeature(f.b)&&n<o.getId()&&t.push(this._sendSessionInit(o))}catch(a){r.e(a)}finally{r.f()}return e.next=10,Promise.allSettled(t);case 10:this._sessionInitialization.resolve(),this._sessionInitialization=void 0;case 12:case"end":return e.stop()}}),e,this)})))}},{key:"updateKey",value:function(e){return h(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._key=e,this._keyIndex++,n=[],r=_createForOfIteratorHelper(this._conf.getParticipants()),t.prev=3,o=_regeneratorRuntime().mark((function e(){var t,r,o,s,c,d,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.value,o=r.getId(),(s=a._getParticipantOlmData(r)).session){e.next=5;break}return p.warn("Tried to send key to participant ".concat(o," but we have no session")),e.abrupt("return",1);case 5:c=Object(u.a)(),_defineProperty(t={},f.d,"olm"),_defineProperty(t,"olm",{type:v,data:{ciphertext:a._encryptKeyInfo(s.session),uuid:c}}),d=t,(h=new l.a).setRejectTimeout(5e3),h.catch((function(){a._reqs.delete(c)})),a._reqs.set(c,h),n.push(h),a._sendMessage(d,o);case 7:case"end":return e.stop()}}),e)})),r.s();case 6:if((i=r.n()).done){t.next=12;break}return t.delegateYield(o(),"t0",8);case 8:if(!t.t0){t.next=10;break}return t.abrupt("continue",10);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(3),r.e(t.t1);case 17:return t.prev=17,r.f(),t.finish(17);case 20:return t.next=22,Promise.allSettled(n);case 22:return t.abrupt("return",this._keyIndex);case 23:case"end":return t.stop()}}),t,this,[[3,14,17,20]])})))}},{key:"updateCurrentKey",value:function(e){return this._key=e,this._keyIndex}},{key:"clearParticipantSession",value:function(e){var t=this._getParticipantOlmData(e);t.session&&(t.session.free(),t.session=void 0)}},{key:"clearAllParticipantsSessions",value:function(){var e,t=_createForOfIteratorHelper(this._conf.getParticipants());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.clearParticipantSession(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"_bootstrapOlm",value:function(){return h(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.debug("Initializing Olm..."),e.prev=1,e.next=4,Olm.init();case 4:this._olmAccount=new Olm.Account,this._olmAccount.create(),t=JSON.parse(this._olmAccount.identity_keys()),this._idKey=t.curve25519,p.debug("Olm ".concat(Olm.get_library_version().join(".")," initialized")),this._init.resolve(),this._onIdKeyReady(this._idKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),p.error("Failed to initialize Olm",e.t0),this._init.reject(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})))}},{key:"_onIdKeyReady",value:function(e){p.debug("Olm id key ready: "+e),this._conf.setLocalParticipantProperty("e2ee.idKey",e)}},{key:"_onParticipantE2EEChannelReady",value:function(e){p.debug("E2EE channel with participant ".concat(e," is ready"))}},{key:"_encryptKeyInfo",value:function(e){var t={};return void 0!==this._key&&(t.key=!!this._key&&o.a.fromByteArray(this._key),t.keyIndex=this._keyIndex),e.encrypt(JSON.stringify(t))}},{key:"_getParticipantOlmData",value:function(e){return e[y]=e[y]||{},e[y]}},{key:"_onConferenceLeft",value:function(){return h(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.debug("Conference left"),e.next=3,this._init;case 3:t=_createForOfIteratorHelper(this._conf.getParticipants());try{for(t.s();!(n=t.n()).done;)r=n.value,this._onParticipantLeft(r.getId(),r)}catch(i){t.e(i)}finally{t.f()}this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_onEndpointMessageReceived",value:function(e,t){return h(this,void 0,void 0,_regeneratorRuntime().mark((function n(){var r,i,a,u,c,l,d,h,y,S,w,C,T,A,k,O,R,M,I,P,N,x,F,L;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("olm"===t[f.d]){n.next=2;break}return n.abrupt("return");case 2:if(t.olm){n.next=4;break}return n.abrupt("return",void p.warn("Incorrectly formatted message"));case 4:return n.next=6,this._init;case 6:r=t.olm,i=e.getId(),a=this._getParticipantOlmData(e),n.t0=r.type,n.next=n.t0===b?10:n.t0===_?12:n.t0===m?14:n.t0===v?16:n.t0===g?18:19;break;case 10:return a.session?(p.warn("Participant ".concat(i," already has a session")),this._sendError(e,"Session already established")):((c=new Olm.Session).create_outbound(this._olmAccount,r.data.idKey,r.data.otKey),a.session=c,_defineProperty(u={},f.d,"olm"),_defineProperty(u,"olm",{type:_,data:{ciphertext:this._encryptKeyInfo(c),uuid:r.data.uuid}}),l=u,this._sendMessage(l,i),this._onParticipantE2EEChannelReady(i)),n.abrupt("break",19);case 12:return a.session?(p.warn("Participant ".concat(i," already has a session")),this._sendError(e,"No session found")):r.data.uuid===a.pendingSessionUuid?(d=r.data.ciphertext,h=this._reqs.get(r.data.uuid),(y=new Olm.Session).create_inbound(this._olmAccount,d.body),this._olmAccount.remove_one_time_keys(y),S=y.decrypt(d.type,d.body),a.session=y,a.pendingSessionUuid=void 0,this._onParticipantE2EEChannelReady(i),this._reqs.delete(r.data.uuid),h.resolve(),(w=D(S)).key&&(C=o.a.toByteArray(w.key),T=w.keyIndex,a.lastKey=C,this.eventEmitter.emit(E.PARTICIPANT_KEY_UPDATED,i,C,T))):(p.warn("Received ACK with the wrong UUID"),this._sendError(e,"Invalid UUID")),n.abrupt("break",19);case 14:return p.error(r.data.error),n.abrupt("break",19);case 16:return a.session?(A=r.data.ciphertext,void 0!==(k=D(a.session.decrypt(A.type,A.body))).key&&void 0!==k.keyIndex&&(R=!!k.key&&o.a.toByteArray(k.key),M=k.keyIndex,s()(a.lastKey,R)||(a.lastKey=R,this.eventEmitter.emit(E.PARTICIPANT_KEY_UPDATED,i,R,M)),_defineProperty(O={},f.d,"olm"),_defineProperty(O,"olm",{type:g,data:{ciphertext:this._encryptKeyInfo(a.session),uuid:r.data.uuid}}),I=O,this._sendMessage(I,i))):(p.debug("Received key info message from ".concat(i," but we have no session for them!")),this._sendError(e,"No session found while processing key-info")),n.abrupt("break",19);case 18:a.session?(P=r.data.ciphertext,void 0!==(N=D(a.session.decrypt(P.type,P.body))).key&&void 0!==N.keyIndex&&(x=!!N.key&&o.a.toByteArray(N.key),F=N.keyIndex,s()(a.lastKey,x)||(a.lastKey=x,this.eventEmitter.emit(E.PARTICIPANT_KEY_UPDATED,i,x,F))),L=this._reqs.get(r.data.uuid),this._reqs.delete(r.data.uuid),L.resolve()):(p.debug("Received key info ack message from ".concat(i," but we have no session for them!")),this._sendError(e,"No session found while processing key-info-ack"));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"_onParticipantLeft",value:function(e,t){p.debug("Participant ".concat(e," left")),this.clearParticipantSession(t)}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,r){return h(this,void 0,void 0,_regeneratorRuntime().mark((function n(){var i,o,a,s,c,l;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="e2ee.enabled"===n.t0?3:19;break;case 3:if(!r||!this._conf.isE2EEEnabled()){n.next=19;break}return i=this._conf.myUserId(),o=e.getId(),n.next=7,e.getFeatures();case 7:if(n.t1=n.sent.has(f.b),!n.t1){n.next=10;break}n.t1=i<o;case 10:if(!n.t1){n.next=19;break}if(n.t2=this._sessionInitialization,!n.t2){n.next=15;break}return n.next=15,this._sessionInitialization;case 15:return n.next=17,this._sendSessionInit(e);case 17:s=this._getParticipantOlmData(e),c=Object(u.a)(),_defineProperty(a={},f.d,"olm"),_defineProperty(a,"olm",{type:v,data:{ciphertext:this._encryptKeyInfo(s.session),uuid:c}}),l=a,this._sendMessage(l,o);case 19:case"end":return n.stop()}}),n,this)})))}},{key:"_sendError",value:function(e,t){var n,r=e.getId(),i=(_defineProperty(n={},f.d,"olm"),_defineProperty(n,"olm",{type:m,data:{error:t}}),n);this._sendMessage(i,r)}},{key:"_sendMessage",value:function(e,t){this._conf.sendMessage(e,t)}},{key:"_sendSessionInit",value:function(e){var t,n=this,r=e.getId(),i=this._getParticipantOlmData(e);if(i.session)return p.warn("Tried to send session-init to ".concat(r," but we already have a session")),Promise.reject();if(void 0!==i.pendingSessionUuid)return p.warn("Tried to send session-init to ".concat(r," but we already have a pending session")),Promise.reject();this._olmAccount.generate_one_time_keys(1);var o=JSON.parse(this._olmAccount.one_time_keys()),a=Object.values(o.curve25519)[0];if(!a)return Promise.reject(new Error("No one-time-keys generated"));this._olmAccount.mark_keys_as_published();var s=Object(u.a)(),c=(_defineProperty(t={},f.d,"olm"),_defineProperty(t,"olm",{type:b,data:{idKey:this._idKey,otKey:a,uuid:s}}),t),d=new l.a;return d.setRejectTimeout(5e3),d.catch((function(){n._reqs.delete(s),i.pendingSessionUuid=void 0})),this._reqs.set(s,d),this._sendMessage(c,r),i.pendingSessionUuid=s,d}}],[{key:"isSupported",value:function(){return void 0!==window.Olm}}]),n}(d.a);function D(e){try{return JSON.parse(e)}catch(e){return{}}}S.events=E}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(5),i=n(3),o=n(44),a=n(18),s=n(4),u=n(15),c=n(1),l=n(85),d=n(16),f=n(36),h=n(195),p=n(12),m=n(10),v=n(419),g=n(27),_=n.n(g),b=n(421),y=n(6),E=n(422),S=n(79),D=n(171),w=n(113),C=Object(r.getLogger)(e),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,c){var l;return _classCallCheck(this,n),(l=t.call(this,e,r,i,o,a,s,c))._bridgeSessionId=null,l._cachedOldLocalSdp=void 0,l._cachedNewLocalSdp=void 0,l._iceCheckingStartedTimestamp=null,l._gatheringStartedTimestamp=null,l.localRecvMaxFrameHeight=void 0,l._sourceReceiverConstraints=void 0,l._localVideoActive=!0,l._remoteVideoActive=!0,l._gatheringReported=!1,l.lasticecandidate=!1,l.closed=!1,l.isP2P=u,l.remoteRecvMaxFrameHeight=void 0,l.remoteSourceMaxFrameHeights=void 0,l.modificationQueue=new v.a,l.wasConnected=!1,l.establishmentDuration=void 0,l._xmppListeners=[],l._xmppListeners.push(o.addEventListener(w.a.Events.CONN_STATUS_CHANGED,l.onXmppStatusChanged.bind(_assertThisInitialized(l)))),l._removeSenderVideoConstraintsChangeListener=void 0,l}return _createClass(n,[{key:"_assertNotEnded",value:function(){return this.state!==S.b}},{key:"doInitialize",value:function(e){var t,n,r,i,a,s=this;this.failICE=Boolean(e.failICE),this.lasticecandidate=!1,this.options=e,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(e.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(e.webrtcIceTcpDisable);var d={disableRtx:e.disableRtx};if(e.gatherStats&&(d.maxstats=300),d.capScreenshareBitrate=!1,d.enableInsertableStreams=e.enableInsertableStreams,d.videoQuality=e.videoQuality,d.forceTurnRelay=e.forceTurnRelay,d.audioQuality=e.audioQuality,d.usesUnifiedPlan=this.usesUnifiedPlan=y.a.supportsUnifiedPlan()&&(y.a.isFirefox()||y.a.isWebKitBased()||(y.a.isChromiumBased()&&this.isP2P?null===(n=null===(t=e.p2p)||void 0===t?void 0:t.enableUnifiedOnChrome)||void 0===n||n:null===(r=e.enableUnifiedOnChrome)||void 0===r||r)),this.isP2P){d.disableSimulcast=!0;var h=this._abtestSuspendVideoEnabled(e);void 0!==h&&(d.abtestSuspendVideo=h)}else d.disableSimulcast=e.disableSimulcast||e.preferH264&&!e.disableH264||e.videoQuality&&e.videoQuality.preferredCodec===o.H264,d.capScreenshareBitrate=d.disableSimulcast||!("number"==typeof(null===(i=e.desktopSharingFrameRate)||void 0===i?void 0:i.max)&&(null===(a=e.desktopSharingFrameRate)||void 0===a?void 0:a.max)>l.a),m.a.analytics.addPermanentProperties({capScreenshareBitrate:d.capScreenshareBitrate});e.startSilent&&(d.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this._signalingLayer,this.pcConfig,this.isP2P,d),this.peerconnection.onicecandidate=function(e){if(e){var t=e.candidate,n=window.performance.now();if(t){null===s._gatheringStartedTimestamp&&(s._gatheringStartedTimestamp=n);var r=t.protocol;if("string"==typeof r)if("tcp"===(r=r.toLowerCase())||"ssltcp"===r){if(s.webrtcIceTcpDisable)return}else if("udp"===r&&s.webrtcIceUdpDisable)return}else s._gatheringReported||(m.a.sendAnalytics(u.o,{phase:"gathering",value:n-s._gatheringStartedTimestamp,p2p:s.isP2P,initiator:s.isInitiator}),s._gatheringReported=!0);s.sendIceCandidate(t)}},this.peerconnection.onsignalingstatechange=function(){"stable"===s.peerconnection.signalingState?s.wasstable=!0:"closed"!==s.peerconnection.signalingState&&"closed"!==s.peerconnection.connectionState||s.room.eventEmitter.emit(c.XMPPEvents.SUSPEND_DETECTED,s)},this.peerconnection.oniceconnectionstatechange=function(){var e=window.performance.now(),t=!1;switch(s.isP2P||(s.room.connectionTimes["ice.state."+s.peerconnection.iceConnectionState]=e),C.log("(TIME) ICE ".concat(s.peerconnection.iceConnectionState," ").concat(s.isP2P?"P2P":"JVB",":\t"),e),m.a.sendAnalytics(u.q,{p2p:s.isP2P,state:s.peerconnection.iceConnectionState,signaling_state:s.peerconnection.signalingState,reconnect:s.isReconnect,value:e}),s.room.eventEmitter.emit(c.XMPPEvents.ICE_CONNECTION_STATE_CHANGED,s,s.peerconnection.iceConnectionState),s.peerconnection.iceConnectionState){case"checking":s._iceCheckingStartedTimestamp=e;break;case"connected":if("stable"===s.peerconnection.signalingState){t=!0;var n=!s.options.enableIceRestart&&s.room.supportsRestartByTerminate();(s.isReconnect||n)&&s.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_RESTORED,s)}if(!s.wasConnected&&(s.wasstable||t||s.usesUnifiedPlan&&s.isInitiator&&y.a.isChromiumBased())){m.a.sendAnalytics(u.o,{phase:"checking",value:e-s._iceCheckingStartedTimestamp,p2p:s.isP2P,initiator:s.isInitiator});var r=Math.min(s._iceCheckingStartedTimestamp,s._gatheringStartedTimestamp);s.establishmentDuration=e-r,m.a.sendAnalytics(u.o,{phase:"establishment",value:s.establishmentDuration,p2p:s.isP2P,initiator:s.isInitiator}),s.wasConnected=!0,s.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_ESTABLISHED,s)}s.isReconnect=!1;break;case"disconnected":s.isReconnect=!0,s.wasstable&&s.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_INTERRUPTED,s);break;case"failed":s.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_ICE_FAILED,s)}},this.peerconnection.onconnectionstatechange=function(){var e=s.peerconnection.iceConnectionState;"failed"===s.peerconnection.connectionState&&"disconnected"===e&&s.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_ICE_FAILED,s)},this.peerconnection.onnegotiationneeded=function(){var e=s.peerconnection.signalingState,t=s.peerconnection.remoteDescription;s.usesUnifiedPlan&&!s.isP2P&&"stable"===e&&t&&"string"==typeof t.sdp&&(C.info("".concat(s," onnegotiationneeded fired on ").concat(s.peerconnection)),s.modificationQueue.push((function(e){var t=new f.a(s.peerconnection.localDescription.sdp);s._renegotiate().then((function(){return s.peerconnection.configureSenderVideoEncodings()})).then((function(){var e=new f.a(s.peerconnection.localDescription.sdp);s.notifyMySSRCUpdate(t,e)})).then((function(){return e()}),(function(t){return e(t)}))}),(function(e){e?C.error(s+" onnegotiationneeded error",e):C.debug(s+" onnegotiationneeded executed - OK")})))}}},{key:"getRemoteRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteRecvMaxFrameHeight}},{key:"getRemoteSourcesRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteSourceMaxFrameHeights}},{key:"sendIceCandidate",value:function(e){var t=this,n=new f.a(this.peerconnection.localDescription.sdp);if(e&&e.candidate.length&&!this.lasticecandidate){var r=p.a.iceparams(n.media[e.sdpMLineIndex],n.session),i=p.a.candidateToJingle(e.candidate);if(!r||!i){var o="failed to get ice && jcand";return _.a.callErrorHandler(new Error(o)),void C.error(o)}r.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.dripContainer.length&&setTimeout((function(){0!==t.dripContainer.length&&(t.sendIceCandidates(t.dripContainer),t.dripContainer=[])}),150),this.dripContainer.push(e)):this.sendIceCandidates([e])}else C.log(this+" sendIceCandidate: last candidate"),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(e){var t=this;if(this._assertNotEnded("sendIceCandidates")){C.log("".concat(this," sendIceCandidates ").concat(JSON.stringify(e)));for(var n=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiatorJid,sid:this.sid}),r=new f.a(this.peerconnection.localDescription.sdp),o=function(i){var o=e.filter((function(e){return e.sdpMLineIndex===i})),a=p.a.parseMLine(r.media[i].split("\r\n")[0]);if(o.length>0){var s=p.a.iceparams(r.media[i],r.session);s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",n.c("content",{creator:t.initiatorJid===t.localJid?"initiator":"responder",name:o[0].sdpMid?o[0].sdpMid:a.media}).c("transport",s);for(var u=0;u<o.length;u++){var c=p.a.candidateToJingle(o[u].candidate);t.failICE&&(c.ip="1.1.1.1"),n.c("candidate",c).up()}var l=p.a.findLine(r.media[i],"a=fingerprint:",r.session);if(l){var d=p.a.parseFingerprint(l);d.required=!0,n.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(d.fingerprint),delete d.fingerprint,n.attrs(d),n.up()}n.up(),n.up()}},a=0;a<r.media.length;a++)o(a);this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),1e4)}}},{key:"sendIceFailedNotification",value:function(){var e=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiatorJid,sid:this.sid}).c("ice-state",{xmlns:"http://jitsi.org/protocol/focus"}).t("failed").up();this._bridgeSessionId&&e.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId}),this.connection.sendIQ2(e,{timeout:65}).catch(this.newJingleErrorHandler(e))}},{key:"addIceCandidates",value:function(e){var t=this;if("closed"!==this.peerconnection.signalingState){var n=[];e.find(">content>transport>candidate").each((function(e,t){var r=p.a.candidateFromJingle(t);r=r.replace("\r\n","").replace("a=","");var i=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"",candidate:r});n.push(i)})),n.length?(C.debug("".concat(this," Queued add (").concat(n.length,") ICE candidates task")),this.modificationQueue.push((function(e){for(var r=0,i=n;r<i.length;r++){var o=i[r];t.peerconnection.addIceCandidate(o).then((function(){return C.debug(t+" addIceCandidate ok!")}),(function(e){return C.error(t+" addIceCandidate failed!",e)}))}e(),C.debug(t+" ICE candidates task finished")}))):C.error(this+" No ICE candidates to add ?",e[0]&&e[0].outerHTML)}else C.warn(this+" Ignored add ICE candidate when in closed state")}},{key:"readSsrcInfo",value:function(e){var t=this;$(e).find('>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,n){var r=Number(n.getAttribute("ssrc"));if(d.a.isSourceNameSignalingEnabled()&&n.hasAttribute("name")){var o=n.getAttribute("name");t._signalingLayer.setTrackSourceName(r,o)}t.isP2P?t._signalingLayer.setSSRCOwner(r,i.Strophe.getResourceFromJid(t.remoteJid)):$(n).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each((function(e,n){var o,a=n.getAttribute("owner");(null==a?void 0:a.length)&&(isNaN(r)||r<0?C.warn("".concat(t," Invalid SSRC ").concat(r," value received for ").concat(a)):t._signalingLayer.setSSRCOwner(r,(o=a,i.Strophe.getResourceFromJid(o)||o)))}))}))}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():C.error(this+" Unable to generate recvonly SSRC - no peerconnection")}},{key:"getConfiguredVideoCodec",value:function(){return this.peerconnection.getConfiguredVideoCodec()}},{key:"acceptOffer",value:function(e,t,n,r){var i=this;this.setOfferAnswerCycle(e,(function(){i.sendSessionAccept((function(){t(),i.room.eventEmitter.emit(c.XMPPEvents.SESSION_ACCEPT,i);var e=r.filter((function(e){return e.getType()===s.a.VIDEO}));e.length&&e.splice(0,1),d.a.isMultiStreamSupportEnabled()&&e.length&&i.addTracks(e)}),(function(e){n(e),i.room.eventEmitter.emit(c.XMPPEvents.SESSION_ACCEPT_ERROR,i,e)}))}),n,r)}},{key:"invite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error("Trying to invite from the responder session");C.debug(this+" Queued invite task"),this.modificationQueue.push((function(n){var r,i=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(e.peerconnection.addTrack(a,e.isInitiator))}}catch(s){o.e(s)}finally{o.f()}Promise.all(i).then((function(){return e.peerconnection.createOffer(e.mediaConstraints)})).then((function(t){return e.peerconnection.setLocalDescription(t)})).then((function(){e.sendSessionInitiate(e.peerconnection.localDescription.sdp)})).then((function(){return n()}),(function(e){return n(e)}))}),(function(t){t?C.error(e+" invite error",t):C.debug(e+" invite executed - OK")}))}},{key:"sendSessionInitiate",value:function(e){var t=this,n=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-initiate",initiator:this.initiatorJid,sid:this.sid});new f.a(e).toJingle(n,this.isInitiator?"initiator":"responder"),n=n.tree(),C.debug(this+" Session-initiate: ",n),this.connection.sendIQ(n,(function(){C.info(t+' Got RESULT for "session-initiate"')}),(function(e){C.error(t+' "session-initiate" error',e)}),1e4)}},{key:"setAnswer",value:function(e){var t=this;if(!this.isInitiator)throw new Error("Trying to set an answer on the responder session");this.setOfferAnswerCycle(e,(function(){C.info(t+" setAnswer - succeeded"),t.usesUnifiedPlan&&y.a.isChromiumBased()&&(C.debug(t+" Queued responderRenegotiate task"),t.modificationQueue.push((function(e){var n=t.peerconnection.remoteDescription.sdp,r=new RTCSessionDescription({type:"offer",sdp:n});return t._responderRenegotiate(r).then((function(){return e()}),(function(t){return e(t)}))}),(function(e){e?C.error("".concat(t," failed to renegotiate a decoder for muted endpoint ").concat(e)):C.debug(t+" renegotiate a decoder for muted endpoint")})))}),(function(e){C.error(t+" setAnswer failed: ",e)}))}},{key:"setOfferAnswerCycle",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];C.debug(this+" Queued setOfferAnswerCycle task"),this.modificationQueue.push((function(t){var n=[],o=i.filter((function(e){return e.getType()===s.a.AUDIO})),a=i.filter((function(e){return e.getType()===s.a.VIDEO})),u=i;d.a.isMultiStreamSupportEnabled()&&a.length>1&&(u=[].concat(_toConsumableArray(o),[a[0]]));var c,l=_createForOfIteratorHelper(u);try{for(l.s();!(c=l.n()).done;){var h=c.value;n.push(r.peerconnection.addTrack(h,r.isInitiator))}}catch(g){l.e(g)}finally{l.f()}var p=r._processNewJingleOfferIq(e),m=r.peerconnection.localDescription.sdp,v=$(e).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("id");v!==r._bridgeSessionId&&(r._bridgeSessionId=v),Promise.all(n).then((function(){return r._renegotiate(p.raw)})).then((function(){if(r.state===S.c&&(r.state=S.a,r.isP2P&&(!r._localVideoActive||r.localRecvMaxFrameHeight||r._sourceReceiverConstraints)&&r.sendContentModify()),m){var e=new f.a(r.peerconnection.localDescription.sdp);r.notifyMySSRCUpdate(new f.a(m),e)}})).then((function(){return t()}),(function(e){return t(e)}))}),(function(e){e?(C.error("".concat(r," setOfferAnswerCycle task failed: ").concat(e)),n(e)):(C.debug(r+" setOfferAnswerCycle task done"),t())}))}},{key:"setVideoCodecs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.peerconnection.getConfiguredVideoCodec();this._assertNotEnded()&&t!==r&&(C.info("".concat(this," Switching video codec from ").concat(r," to ").concat(t)),this.peerconnection.setVideoCodecs(t,n),C.debug(this+" Queued setVideoCodecs task"),this.modificationQueue.push((function(t){e._renegotiate().then((function(){return C.debug(e+" setVideoCodecs task is done"),t()}),(function(n){return C.error("".concat(e," setVideoCodecs task failed: ").concat(n)),t(n)}))})))}},{key:"replaceTransport",value:function(e,t,n){var r=this;if(this.options.enableForcedReload){var i=new f.a(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(i,t,n),void this.room.eventEmitter.emit(c.XMPPEvents.CONNECTION_RESTARTED,this)}this.room.eventEmitter.emit(c.XMPPEvents.ICE_RESTARTING,this);var o=e.clone();e.find(">content[name='data']").attr("senders","rejected"),e.find(">content>description>source").remove(),e.find(">content>description>ssrc-group").remove();var a=e.find(">content>transport>fingerprint");a.attr("hash","sha-1"),a.text("00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00"),this.setOfferAnswerCycle(e,(function(){r.setOfferAnswerCycle(o,(function(){var e=new f.a(r.peerconnection.localDescription.sdp);r.sendTransportAccept(e,t,n),r.room.eventEmitter.emit(c.XMPPEvents.ICE_RESTART_SUCCESS,r,o)}),n)}),n)}},{key:"sendSessionAccept",value:function(e,t){var n=this,r=new f.a(this.peerconnection.localDescription.sdp),o=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(r.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(r.removeUdpCandidates=!0),this.failICE&&(r.failICE=!0),r.toJingle(o,this.initiatorJid===this.localJid?"initiator":"responder"),C.info(this+" Sending session-accept"),C.debug(o.tree()),this.connection.sendIQ(o,e,this.newJingleErrorHandler(o,(function(e){t(e),n.room.eventEmitter.emit(c.XMPPEvents.SESSION_ACCEPT_TIMEOUT,n)})),1e4)}},{key:"sendContentModify",value:function(){var e=this,t=this.localRecvMaxFrameHeight,n=this._localVideoActive?"both":"none",r=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-modify",initiator:this.initiatorJid,sid:this.sid}).c("content",{name:s.a.VIDEO,senders:n});void 0!==t&&(r=r.c("max-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).t(t),C.info("".concat(this," sending content-modify, video senders: ").concat(n,", max frame height: ")+t)),void 0!==this._sourceReceiverConstraints&&this._sourceReceiverConstraints.forEach((function(t,n){r.c("source-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).attrs({sourceName:n,maxHeight:t}),r.up(),C.info("".concat(e," sending content-modify for source-name: ").concat(n,", maxHeight: ").concat(t))})),C.debug(r.tree()),this.connection.sendIQ(r,null,this.newJingleErrorHandler(r),1e4)}},{key:"setReceiverVideoConstraint",value:function(e,t){C.info("".concat(this," setReceiverVideoConstraint - max frame height: ").concat(e," sourceReceiverConstraints: ")+t),d.a.isSourceNameSignalingEnabled()?this._sourceReceiverConstraints=t:this.localRecvMaxFrameHeight=e,this.isP2P&&this.state===S.a&&this.sendContentModify()}},{key:"sendTransportAccept",value:function(e,t,n){var r=this,o=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiatorJid,sid:this.sid});e.media.forEach((function(t,n){var i=p.a.parseMLine(t.split("\r\n")[0]);o.c("content",{creator:r.initiatorJid===r.localJid?"initiator":"responder",name:i.media}),e.transportToJingle(n,o),o.up()})),C.info(this+" Sending transport-accept"),C.debug(o.tree()),this.connection.sendIQ(o,t,this.newJingleErrorHandler(o,n),1e4)}},{key:"sendTransportReject",value:function(e,t){var n=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiatorJid,sid:this.sid});C.info(this+" Sending 'transport-reject'"),C.debug(n.tree()),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),1e4)}},{key:"setSenderVideoConstraint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._assertNotEnded()){C.info("".concat(this," setSenderVideoConstraint: ").concat(e,", sourceName: ").concat(t));var n=t?this.rtc.getLocalVideoTracks().find((function(e){return e.getSourceName()===t})):this.rtc.getLocalVideoTrack();return this.peerconnection.setSenderVideoConstraints(e,n)}return Promise.resolve()}},{key:"terminate",value:function(e,t,n){if(this.state!==S.b){if(!n||Boolean(n.sendSessionTerminate)){var r=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiatorJid,sid:this.sid}).c("reason").c(n&&n.reason||"success").up();n&&n.reasonDescription?r.c("text").t(n.reasonDescription).up().up():r.up(),this._bridgeSessionId&&r.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId,restart:n&&!0===n.requestRestart}).up(),C.info(this+" Sending session-terminate"),C.debug(r.tree()),this.connection.sendIQ(r,e,this.newJingleErrorHandler(r,t),1e4)}else C.info(this+" Skipped sending session-terminate");this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(e,t){C.info(this+" Session terminated",e,t),this._xmppListeners.forEach((function(e){return e()})),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close()}},{key:"onXmppStatusChanged",value:function(e){e===w.a.Status.CONNECTED&&this._cachedOldLocalSdp&&(C.info(this+" Sending SSRC update on reconnect"),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(e,t){var n=this,r=[],i=this;return $(e).each((function(e,o){var a=$(o).attr("name"),s="";$(o).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map((function(){return this.getAttribute("ssrc")})).get();t.length&&(s+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\r\n"))})),$(o).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=$(this).attr("ssrc");t.containsSSRC(e)?(!i.usesUnifiedPlan||!i.isP2P)&&C.warn("".concat(i," Source-add request for existing SSRC: ").concat(e)):$(this).find(">parameter").each((function(){s+="a=ssrc:".concat(e," ").concat($(this).attr("name")),$(this).attr("value")&&$(this).attr("value").length&&(s+=":"+$(this).attr("value")),s+="\r\n"}))}));var u=!1;t.media.forEach((function(e,t){p.a.findLine(e,"a=mid:"+a)&&(r[t]||(r[t]=""),r[t]+=s,u=!0)})),!u&&n.isP2P&&d.a.isSourceNameSignalingEnabled()&&(r[a]=s)})),r}},{key:"addRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!0,e)}},{key:"removeRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!1,e)}},{key:"removeRemoteStreamsOnLeave",value:function(e){var t=this;C.debug("".concat(this," Queued removeRemoteStreamsOnLeave task for participant ").concat(e)),this.modificationQueue.push((function(n){var r=t.peerconnection.getRemoteSourceInfoByParticipant(e);if(r.length){var i=new f.a(t.peerconnection.localDescription.sdp),o=t._processRemoteRemoveSource(r);t._renegotiate(o.raw).then((function(){var e=new f.a(t.peerconnection.localDescription.sdp);t.notifyMySSRCUpdate(i,e),n()})).catch((function(e){return n(e)}))}else n()}),(function(e){e?C.error(t+" removeRemoteStreamsOnLeave error:",e):C.info(t+" removeRemoteStreamsOnLeave done!")}))}},{key:"_addOrRemoveRemoteStream",value:function(e,t){var n=this,r=e?"addRemoteStream":"removeRemoteStream";e&&this.readSsrcInfo(t),C.debug("".concat(this," Queued ").concat(r," task")),this.modificationQueue.push((function(i){if(!n.peerconnection.localDescription||!n.peerconnection.localDescription.sdp){var o=r+" - localDescription not ready yet";return C.error(o),void i(o)}C.log("".concat(n," Processing ").concat(r));var a=new f.a(n.peerconnection.localDescription.sdp),s=new f.a(n.peerconnection.remoteDescription.sdp),u=e?n._parseSsrcInfoFromSourceAdd(t,s):n._parseSsrcInfoFromSourceRemove(t,s),c=e?n._processRemoteAddSource(u):n._processRemoteRemoveSource(u),l=new RTCSessionDescription({type:"offer",sdp:c.raw});(e&&n.usesUnifiedPlan&&n.isP2P&&y.a.isChromiumBased()?n._responderRenegotiate(l):n._renegotiate(c.raw)).then((function(){var e=new f.a(n.peerconnection.localDescription.sdp);C.log("".concat(n," ").concat(r," - OK")),n.notifyMySSRCUpdate(a,e),i()}),(function(e){C.error("".concat(n," ").concat(r," failed:"),e),i(e)}))}))}},{key:"_processNewJingleOfferIq",value:function(e){var t=new f.a("");return this.webrtcIceTcpDisable&&(t.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(t.removeUdpCandidates=!0),this.failICE&&(t.failICE=!0),t.fromJingle(e),this.readSsrcInfo($(e).find(">content")),t}},{key:"_processRemoteRemoveSource",value:function(e){var t=this,n=this.usesUnifiedPlan?new f.a(this.peerconnection.peerconnection.remoteDescription.sdp):new f.a(this.peerconnection.remoteDescription.sdp);return e.forEach((function(e,r){var i;if((e=e.split("\r\n")).pop(),t.usesUnifiedPlan){if(e.forEach((function(e){var r;if(i=n.media.findIndex((function(t){return t.includes(e)})),i>-1)if(n.media[i]=n.media[i].replace(e+"\r\n",""),t.isP2P){var o=null===(r=p.a.parseMLine(n.media[i].split("\r\n")[0]))||void 0===r?void 0:r.media,s=t.peerconnection.getDesiredMediaDirection(o,!1);[a.a.SENDRECV,a.a.SENDONLY].forEach((function(e){n.media[i]=n.media[i].replace("a="+e,"a="+s)}))}else n.media[i]=n.media[i].replace("a="+a.a.SENDONLY,"a="+a.a.INACTIVE)})),i>-1&&!t.isP2P&&d.a.isMultiStreamSupportEnabled()){var o=p.a.parseMLine(n.media[i].split("\r\n")[0]),s=o.media,u=o.port;n.media[i]=n.media[i].replace("m=".concat(s," ").concat(u),"m=".concat(s," 0"))}}else e.forEach((function(e){n.media[r]=n.media[r].replace(e+"\r\n","")}))})),n.raw=n.session+n.media.join(""),n}},{key:"_processRemoteAddSource",value:function(e){var t=this,n=new f.a(this.peerconnection.remoteDescription.sdp);return e.length>n.media.length&&d.a.isSourceNameSignalingEnabled()&&this.isP2P&&this.usesUnifiedPlan&&(n.addMlineForNewLocalSource(s.a.VIDEO),n=new f.a(n.raw)),e.forEach((function(e,r){var i;if(n.media[r]+=e,t.isP2P&&t.usesUnifiedPlan){var o=null===(i=p.a.parseMLine(n.media[r].split("\r\n")[0]))||void 0===i?void 0:i.media,s=t.peerconnection.getDesiredMediaDirection(o,!0);[a.a.RECVONLY,a.a.INACTIVE].forEach((function(e){n.media[r]=n.media[r].replace("a="+e,"a="+s)}))}})),n.raw=n.session+n.media.join(""),n}},{key:"_renegotiate",value:function(e){if("closed"===this.peerconnection.signalingState){var t=new Error("Attempted to renegotiate in state closed");return this.room.eventEmitter.emit(c.XMPPEvents.RENEGOTIATION_FAILED,t,this),Promise.reject(t)}var n=e||this.peerconnection.remoteDescription.sdp;if(!n){var r=new Error("Can not renegotiate without remote description, current state: "+this.state);return this.room.eventEmitter.emit(c.XMPPEvents.RENEGOTIATION_FAILED,r,this),Promise.reject(r)}var i=new RTCSessionDescription({type:this.isInitiator?"answer":"offer",sdp:n});return this.isInitiator?this._initiatorRenegotiate(i):this._responderRenegotiate(i)}},{key:"_responderRenegotiate",value:function(e){var t=this;return C.debug(this+" Renegotiate: setting remote description"),this.peerconnection.setRemoteDescription(e).then((function(){return C.debug(t+" Renegotiate: creating answer"),t.peerconnection.createAnswer(t.mediaConstraints).then((function(e){return C.debug(t+" Renegotiate: setting local description"),t.peerconnection.setLocalDescription(e)}))}))}},{key:"_initiatorRenegotiate",value:function(e){var t=this;return C.debug(this+" Renegotiate: creating offer"),this.peerconnection.createOffer(this.mediaConstraints).then((function(n){return C.debug(t+" Renegotiate: setting local description"),t.peerconnection.setLocalDescription(n).then((function(){return C.debug(t+" Renegotiate: setting remote description"),t.peerconnection.setRemoteDescription(e)}))}))}},{key:"addTracks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!d.a.isMultiStreamSupportEnabled()||!(null==t?void 0:t.length)||t.find((function(e){return e.getType()!==s.a.VIDEO})))return Promise.reject(new Error("Multiple tracks of the given media type are not supported"));var n=[],r=function(r){var i,o=new f.a(e.peerconnection.localDescription.sdp),a=new f.a(e.peerconnection.peerconnection.remoteDescription.sdp),s=_createForOfIteratorHelper(t);try{for(s.s();!(i=s.n()).done;){var u=i.value;a.addMlineForNewLocalSource(u.getType())}}catch(l){s.e(l)}finally{s.f()}var c=new RTCSessionDescription({type:"offer",sdp:a.raw});e._responderRenegotiate(c).then((function(){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(e.peerconnection.replaceTrack(null,o))}}catch(l){i.e(l)}finally{i.f()}return Promise.all(n)})).then((function(){return e._renegotiate()})).then((function(){var t=new f.a(e.peerconnection.localDescription.sdp);e.notifyMySSRCUpdate(o,t),r()})).catch((function(e){return r(e)}))};return new Promise((function(t,n){C.debug(e+" Queued renegotiation after addTrack"),e.modificationQueue.push(r,(function(r){r?(C.error(e+" renegotiation after addTrack error",r),n(r)):(C.debug(e+" renegotiation after addTrack executed - OK"),t())}))}))}},{key:"replaceTrack",value:function(e,t){var n=this,r=function(r){C.debug("".concat(n," replaceTrack worker started. oldTrack = ").concat(e,", newTrack = ").concat(t));var i=n.peerconnection.localDescription.sdp;n.usesUnifiedPlan||(n.peerconnection.options.capScreenshareBitrate&&e&&t&&t.isVideoTrack()&&n.peerconnection.clearRecvonlySsrc(),!e&&t&&t.isVideoTrack()?n.peerconnection.clearRecvonlySsrc():e&&e.isVideoTrack()&&!t&&(n.peerconnection.clearRecvonlySsrc(),n.peerconnection.generateRecvonlySsrc())),n.peerconnection.replaceTrack(e,t).then((function(r){var o=Promise.resolve();return C.debug("".concat(n," TPC.replaceTrack finished. shouldRenegotiate = ").concat(r,", JingleSessionState = ").concat(n.state)),r&&(e||t)&&n.state===S.a&&(o=n._renegotiate().then((function(){var e=new f.a(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(new f.a(i),e)}))),o.then((function(){if(null==t?void 0:t.isVideoTrack())return C.debug(n+" replaceTrack worker: configuring video stream"),n.peerconnection.configureSenderVideoEncodings(t)}))})).then((function(){return r()}),(function(e){return r(e)}))};return new Promise((function(i,o){C.debug("".concat(n," Queued replaceTrack task. Old track = ").concat(e,", new track = ").concat(t)),n.modificationQueue.push(r,(function(e){e?(C.error(n+" Replace track error:",e),o(e)):(C.info(n+"  Replace track done!"),i())}))}))}},{key:"_parseSsrcInfoFromSourceRemove",value:function(e,t){var n=[];return $(e).each((function(e,r){var i=$(r).attr("name"),o="";$(r).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map((function(){return this.getAttribute("ssrc")})).get();t.length&&(o+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\r\n"))}));var a=[];$(r).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=$(this).attr("ssrc");a.push(e)})),t.media.forEach((function(e,t){p.a.findLine(e,"a=mid:"+i)&&(n[t]||(n[t]=""),a.forEach((function(r){var i=p.a.findLines(e,"a=ssrc:"+r);i.length&&(n[t]+=i.join("\r\n")+"\r\n")})),n[t]+=o)}))})),n}},{key:"_verifyNoSSRCChanged",value:function(e,t){var n=new f.a(this.peerconnection.localDescription.sdp),r=new h.a(t,n),i=r.getNewMedia();if(Object.keys(i).length)return C.error("".concat(this," - some SSRC were added on ").concat(e),i),!1;var o=(r=new h.a(n,t)).getNewMedia();return!Object.keys(o).length||(C.error("".concat(this," - some SSRCs were removed on ").concat(e),o),!1)}},{key:"addTrackAsUnmute",value:function(e){var t=this;return this._addRemoveTrackAsMuteUnmute(!1,e).then((function(){if(e.isVideoTrack())return t.peerconnection.configureSenderVideoEncodings(e)}))}},{key:"removeTrackAsMute",value:function(e){return this._addRemoveTrackAsMuteUnmute(!0,e)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(e,t){var n=this;if(!t)return Promise.reject('invalid "track" argument value');var r=e?"removeTrackMute":"addTrackUnmute",i=function(i){var o=n.peerconnection;if(o){var a=o.localDescription.sdp;(e?o.removeTrackMute(t):o.addTrackUnmute(t)).then((function(e){e&&a&&o.remoteDescription.sdp?n._renegotiate().then((function(){!n.usesUnifiedPlan&&n._verifyNoSSRCChanged(r,new f.a(a));var e=o.localDescription.sdp;n.notifyMySSRCUpdate(new f.a(a),new f.a(e)),i()})):i()}),i)}else i("Error:  tried ".concat(r," track with no active peerconnection"))};return C.debug("".concat(this," Queued ").concat(r," task")),new Promise((function(e,t){n.modificationQueue.push(i,(function(i){i?(C.error("".concat(n," ").concat(r," failed")),t(i)):(C.debug("".concat(n," ").concat(r," done")),e())}))}))}},{key:"setMediaTransferActive",value:function(e,t){var n=this;if(!this.peerconnection)return Promise.reject('Can not modify transfer active state, before "initialize" is called');var r=e?"audio active":"audio inactive",i=t?"video active":"video inactive";C.info("".concat(this," Queued make ").concat(i,", ").concat(r," task"));var o=function(r){var i=n.state===S.a,o=n.peerconnection.setAudioTransferActive(e);n._localVideoActive!==t&&(n._localVideoActive=t,n.isP2P&&i&&n.sendContentModify());var a=n.peerconnection.setVideoTransferActive(n._localVideoActive&&n._remoteVideoActive);i&&(o||a)?n._renegotiate().then(r,r):r()};return new Promise((function(e,t){n.modificationQueue.push(o,(function(o){o?(C.error("".concat(n," Make ").concat(i,", ").concat(r," task failed!")),t(o)):(C.debug("".concat(n," Make ").concat(i,", ").concat(r," task done!")),e())}))}))}},{key:"modifyContents",value:function(e){var t=this,r=n.parseVideoSenders(e),i=n.parseMaxFrameHeight(e),o=n.parseSourceMaxFrameHeight(e);i&&(C.info("".concat(this," received remote max frame height: ").concat(i)),this.remoteRecvMaxFrameHeight=i,this.eventEmitter.emit(D.a.REMOTE_VIDEO_CONSTRAINTS_CHANGED,this)),o&&(this.remoteSourceMaxFrameHeights=o,this.eventEmitter.emit(D.a.REMOTE_SOURCE_CONSTRAINTS_CHANGED,this,o)),null!==r?(C.debug("".concat(this,' queued "content-modify" task(video senders="').concat(r,'")')),this.modificationQueue.push((function(e){t._assertNotEnded()&&t._modifyRemoteVideoActive(r)?t._renegotiate().then(e,e):e()}),(function(e){e?C.error(t+' "content-modify" failed',e):C.debug("".concat(t,' "content-modify" task(video senders="').concat(r,'") done'))}))):C.error(this+' - failed to parse video "senders" attribute in "content-modify" action')}},{key:"_modifyRemoteVideoActive",value:function(e){var t="both"===e||"initiator"===e&&this.isInitiator||"responder"===e&&!this.isInitiator;return t!==this._remoteVideoActive&&(C.debug("".concat(this," new remote video active: ").concat(t)),this._remoteVideoActive=t),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(e,t){var n=this;if(this.state===S.a){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=e),this._cachedNewLocalSdp=t,void C.warn(this+" Not sending SSRC update while the signaling is disconnected");this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var r=function(e){var t=e.getNewMedia(),n=[],r=null;return Object.keys(t).forEach((function(e){var i=Object.keys(t[e].ssrcs);r=t[e].mid,(null==i?void 0:i.length)&&(n=n.concat(i))})),{mediaType:r,ssrcs:n}},o=new h.a(t,e),a=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiatorJid,sid:this.sid});o.toJingle(a);var s={},u=r(o);u.ssrcs.length&&(C.info("".concat(this," Sending source-remove for ").concat(u.mediaType," ssrcs=")+u.ssrcs),this.connection.sendIQ(a,(function(){n.room.eventEmitter.emit(c.XMPPEvents.SOURCE_REMOVE,n,s)}),this.newJingleErrorHandler(a,(function(e){n.room.eventEmitter.emit(c.XMPPEvents.SOURCE_REMOVE_ERROR,n,e,s)})),1e4)),o=new h.a(e,t);var l=Object(i.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiatorJid,sid:this.sid});o.toJingle(l);var d=r(o);d.ssrcs.length&&(C.info("".concat(this," Sending source-add for ").concat(d.mediaType," ssrcs=").concat(d.ssrcs)),this.connection.sendIQ(l,(function(){n.room.eventEmitter.emit(c.XMPPEvents.SOURCE_ADD,n,s)}),this.newJingleErrorHandler(l,(function(e){n.room.eventEmitter.emit(c.XMPPEvents.SOURCE_ADD_ERROR,n,e,d.mediaType,s)})),1e4))}else C.warn("".concat(this," Skipping SSRC update in '").concat(this.state," ' state."))}},{key:"newJingleErrorHandler",value:function(e,t){var n=this;return function(e){var r={},i=$(e).find("error");if(i.length){r.code=i.attr("code");var o=$(e).find("error :first");o.length&&(r.reason=o[0].tagName);var a=i.find(">text");a.length&&(r.msg=a.text())}e||(r.reason="timeout"),r.session=n.toString(),t?t(r):n.state===S.b&&"item-not-found"===r.reason?C.debug("".concat(n," Jingle error: ").concat(JSON.stringify(r))):_.a.callErrorHandler(new Error("Jingle error: "+JSON.stringify(r)))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var e=this;this.state=S.b,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),C.debug(this+" Clearing modificationQueue"),this.modificationQueue.clear(),C.debug(this+" Queued PC close task"),this.modificationQueue.push((function(t){e.peerconnection&&e.peerconnection.close(),t(),C.debug(e+" PC close task done!")})),C.debug(this+" Shutdown modificationQueue!"),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[session=".concat(this.isP2P?"P2P":"JVB",",initiator=").concat(this.isInitiator,",sid=").concat(this.sid,"]")}},{key:"_abtestSuspendVideoEnabled",value:function(e){var t=e.abTesting;if(t&&t.enableSuspendVideoTest){var n=this._getInitiatorJid();return Object(b.integerHash)(n)%2==0}}}],[{key:"parseVideoSenders",value:function(e){var t=e.find('>content[name="video"]');if(t.length){var n=t[0].getAttribute("senders");if("both"===n||"initiator"===n||"responder"===n||"none"===n)return n}return null}},{key:"parseMaxFrameHeight",value:function(e){var t=e.find('>content[name="video"]>max-frame-height');return t.length?Number(t.text()):null}},{key:"parseSourceMaxFrameHeight",value:function(e){var t,n,r=[],i=e.find('>content[name="video"]>source-frame-height');return i.length?(i.each((function(e,i){n=i.getAttribute("sourceName"),t=i.getAttribute("maxHeight"),r.push({maxHeight:t,sourceName:n})})),r):null}}]),n}(E.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,i=n(5),o=n(2),a=n(30),s=n(11),u=n(15),c=n(6),l=n(10);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.INTERRUPTED="interrupted",e.RESTORING="restoring"}(r||(r={}));var d=Object(i.getLogger)(e),f=function(){function e(t,n,r,i){_classCallCheck(this,e),this.rtc=t,this.conference=n,this.track=r,this.restoringTimer=null,this.rtcMutedTimestamp=null,this.streamingStatusMap={},this.trackTimer=null,this.outOfForwardedSourcesTimeout="number"==typeof i.outOfForwardedSourcesTimeout?i.outOfForwardedSourcesTimeout:500,this.p2pRtcMuteTimeout="number"==typeof i.p2pRtcMuteTimeout?i.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"==typeof i.rtcMuteTimeout?i.rtcMuteTimeout:1e4,d.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout)}return _createClass(e,[{key:"_getVideoFrozenTimeout",value:function(){var e=this.track.getSourceName();return this.rtc.isInForwardedSources(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfForwardedSourcesTimeout}},{key:"init",value:function(){this._onP2PStatus=this.figureOutStreamingStatus.bind(this),this.conference.on(o.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(o.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),c.a.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(s.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(s.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this.track.on(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this),this.track.on(a.TRACK_VIDEOTYPE_CHANGED,this._onTrackVideoTypeChanged)),this._onForwardedSourcesChanged=this.onForwardedSourcesChanged.bind(this),this.conference.on(o.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this._onLastNValueChanged=this.figureOutStreamingStatus.bind(this),this.rtc.on(s.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){c.a.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(s.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(s.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.track.off(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged)),this.conference.off(o.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this.conference.off(o.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this.conference.off(o.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),this.rtc.removeListener(s.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.maybeSendTrackStreamingStatusEvent(Date.now()),this.figureOutStreamingStatus()}},{key:"_changeStreamingStatus",value:function(e){if(this.track.getTrackStreamingStatus()!==e){var t=this.track.getSourceName();this.track._setTrackStreamingStatus(e),d.debug("Emit track streaming status(".concat(Date.now(),") ").concat(t,": ").concat(e)),l.a.sendLog(JSON.stringify({id:"track.streaming.status",track:t,status:e})),this.track.emit(a.TRACK_STREAMING_STATUS_CHANGED,e)}}},{key:"clearTimeout",value:function(){this.trackTimer&&(window.clearTimeout(this.trackTimer),this.trackTimer=null)}},{key:"clearRtcMutedTimestamp",value:function(){this.rtcMutedTimestamp=null}},{key:"isVideoTrackFrozen",value:function(){if(!c.a.supportsVideoMuteOnConnInterrupted())return!1;var e=this.track.isWebRTCTrackMuted(),t=this.rtcMutedTimestamp,n=this._getVideoFrozenTimeout();return e&&"number"==typeof t&&Date.now()-t>=n}},{key:"figureOutStreamingStatus",value:function(){var t=this.track.getSourceName(),n=this.conference.isP2PActive(),i=this._isRestoringTimedout(),o=0===this.conference.getLastN(),a=this.track.isMuted()||o,s=this.isVideoTrackFrozen(),u=this.rtc.isInForwardedSources(t),c=n?e._getNewStateForP2PMode(a,s):e._getNewStateForJvbMode(u,i,a,s);c!==r.RESTORING&&this._clearRestoringTimer(),d.debug("Figure out conn status for ".concat(t,", is video muted: ").concat(a," video track frozen: ").concat(s," p2p mode: ").concat(n," is in forwarded sources: ").concat(u," currentStatus => newStatus: ").concat(this.track.getTrackStreamingStatus()," => ").concat(c));var l=this.streamingStatusMap||{};if(!("p2p"in l)||!("streamingStatus"in l)||l.p2p!==n||l.streamingStatus!==c){var f=Date.now();this.maybeSendTrackStreamingStatusEvent(f),this.streamingStatusMap=Object.assign(Object.assign({},l),{streamingStatus:c,p2p:n,startedMs:f}),"videoType"in this.streamingStatusMap||(this.streamingStatusMap.videoType=this.track.getVideoType())}this._changeStreamingStatus(c)}},{key:"maybeSendTrackStreamingStatusEvent",value:function(e){var t=this.streamingStatusMap;t&&"startedMs"in t&&"videoType"in t&&"streamingStatus"in t&&"p2p"in t&&(t.value=e-t.startedMs,l.a.sendAnalytics(Object(u.L)(t)))}},{key:"onForwardedSourcesChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=this.track.getSourceName();d.debug("Fowarded sources changed leaving=".concat(e,", entering=").concat(t," at ").concat(n)),c.a.supportsVideoMuteOnConnInterrupted()||this.figureOutStreamingStatus(),e.includes(r)&&(this.track._clearEnteredForwardedSourcesTimestamp(),this._clearRestoringTimer(),c.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus()),t.includes(r)&&(this.track._setEnteredForwardedSourcesTimestamp(n),c.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus())}},{key:"_clearRestoringTimer",value:function(){var e=this.restoringTimer;e&&(clearTimeout(e),this.restoringTimer=null)}},{key:"_isRestoringTimedout",value:function(){var e=this,t=this.track._getEnteredForwardedSourcesTimestamp();return!!(t&&Date.now()-t>=1e4)||(this.restoringTimer||(this.restoringTimer=setTimeout((function(){return e.figureOutStreamingStatus()}),1e4)),!1)}},{key:"_isCurrentTrack",value:function(e){return e.getSourceName()===this.track.getSourceName()}},{key:"onUserLeft",value:function(e){this.track.getParticipantId()===e&&(this.maybeSendTrackStreamingStatusEvent(Date.now()),this.streamingStatusMap={})}},{key:"onTrackRtcMuted",value:function(e){var t=this;if(this._isCurrentTrack(e)){var n=e.getSourceName();if(d.debug("Detector track RTC muted: "+n,Date.now()),this.rtcMutedTimestamp=Date.now(),!e.isMuted()){this.clearTimeout();var r=this._getVideoFrozenTimeout();this.trackTimer=window.setTimeout((function(){d.debug("Set RTC mute timeout for: ".concat(n," of ").concat(r," ms")),t.clearTimeout(),t.figureOutStreamingStatus()}),r)}}}},{key:"onTrackRtcUnmuted",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();d.debug("Detector track RTC unmuted: "+t,Date.now()),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.figureOutStreamingStatus()}}},{key:"onSignallingMuteChanged",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();d.debug("Detector on track signalling mute changed: "+t,e.isMuted()),this.figureOutStreamingStatus()}}},{key:"onTrackVideoTypeChanged",value:function(e){var t=Date.now();this.maybeSendTrackStreamingStatusEvent(t),this.streamingStatusMap=Object.assign(Object.assign({},this.streamingStatusMap||{}),{videoType:e,startedMs:t})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,i){return n?r.ACTIVE:c.a.supportsVideoMuteOnConnInterrupted()?i?e?t?r.INTERRUPTED:r.RESTORING:r.INACTIVE:r.ACTIVE:e?r.ACTIVE:r.INACTIVE}},{key:"_getNewStateForP2PMode",value:function(e,t){return c.a.supportsVideoMuteOnConnInterrupted()?e||!t?r.ACTIVE:r.INTERRUPTED:r.ACTIVE}}]),e}();t.b=f}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{sharedKey:!0})}return _createClass(n,[{key:"setKey",value:function(e){this.e2eeCtx.setKey(void 0,{encryptionKey:e.encryptionKey},e.index)}}]),n}(n(229).a),o=n(406),a=n(188),s=function(){function e(t){_classCallCheck(this,e);var n=t.options.config.e2ee,r=void 0===n?{}:n;this._externallyManaged=r.externallyManagedKey,this._externallyManaged?this._keyHandler=new i(t):this._keyHandler=new o.a(t)}return _createClass(e,[{key:"isEnabled",value:function(){return this._keyHandler.isEnabled()}},{key:"setEnabled",value:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._keyHandler.setEnabled(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setEncryptionKey",value:function(e){this._keyHandler.setKey(e)}}],[{key:"isSupported",value:function(e){var t=e.e2ee;return!(!(void 0===t?{}:t).externallyManagedKey&&!a.a.isSupported())&&!(e.testing&&e.testing.disableE2EE)&&(r.a.supportsInsertableStreams()||e.enableEncodedTransformSupport&&r.a.supportsEncodedTransform())}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(40);function i(e){return new a((function(t){t(e)}))}function o(e){return new a((function(t,n){n(e)}))}var a=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,n){0===t._state&&(Object(r.n)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(e){i(e)}else e(n)},function(t){if(n)try{e(n(t))}catch(e){i(e)}else i(t)}]),r._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e}()},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(0),i=n(59),o=n(61);function a(){var e=Object(i.a)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function u(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function c(e){var t=e.message,n=e.event_id;if(t)return t;var r=u(e);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function d(e,t){var n=u(e);if(n){var i=n.mechanism;if(n.mechanism=Object(r.a)(Object(r.a)(Object(r.a)({},{type:"generic",handled:!0}),i),t),t&&"data"in t){var o=Object(r.a)(Object(r.a)({},i&&i.data),t.data);n.mechanism.data=o}}}function f(e){return e.split(/[\?#]/,1)[0]}function h(e){if(e&&e.__sentry_captured__)return!0;try{Object(o.a)(e,"__sentry_captured__",!0)}catch(e){}return!1}n(137)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(16),i=n(12);function o(e,t){if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function a(e,t){if(this.mySDP=e,this.otherSDP=t,!e)throw new Error('"mySDP" is undefined!');if(!t)throw new Error('"otherSDP" is undefined!')}a.prototype.getNewMedia=function(){var e=this.mySDP.getMediaSsrcMap(),t=this.otherSDP.getMediaSsrcMap(),n={};return Object.keys(t).forEach((function(r){var i=e[r],a=t[r];i||!a?(Object.keys(a.ssrcs).forEach((function(e){(-1===Object.keys(i.ssrcs).indexOf(e)||a.ssrcs[e].lines&&i.ssrcs[e].lines&&void 0!==i.ssrcs[e].lines.find((function(e){return-1!==e.indexOf("msid")}))!==(void 0!==a.ssrcs[e].lines.find((function(e){return-1!==e.indexOf("msid")}))))&&(n[r]||(n[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcs[e]=a.ssrcs[e])})),a.ssrcGroups.forEach((function(e){for(var t=!1,s=0;s<i.ssrcGroups.length;s++){var u=i.ssrcGroups[s];if(e.semantics===u.semantics&&o(e.ssrcs,u.ssrcs)){t=!0;break}}t||(n[r]||(n[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcGroups.push(e))}))):n[r]=a})),n},a.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach((function(o){n=!0;var a=t[o];e.c("content",{name:a.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:a.mid}),Object.keys(a.ssrcs).forEach((function(t){var n=a.ssrcs[t],o=n.lines,s=i.a.parseSourceNameLine(o);e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({name:r.a.isSourceNameSignalingEnabled()?s:void 0,ssrc:n.ssrc});var u=i.a.parseMSIDAttribute(o);u&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:u}),e.up()),e.up()})),a.ssrcGroups.forEach((function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach((function(t){e.c("source",{ssrc:t}).up()})),e.up())})),e.up(),e.up()})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return A})),n(187);var r=URL.createObjectURL(new Blob(["\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case 1: {\n            timer = setInterval(() => {\n                postMessage({ id: 3 });\n            }, request.data.timeMs);\n            break;\n        }\n        case 2: {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"],{type:"application/javascript"})),i=function(){function e(t){var n;_classCallCheck(this,e);var r=document.createElement("div"),i=t.getVideoTracks()[0],o=null!==(n=i.getSettings())&&void 0!==n?n:i.getConstraints(),a=o.height,s=o.width,u=o.frameRate;this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._desktopElement=document.createElement("video"),this._videoElement=document.createElement("video"),r.appendChild(this._videoElement),r.appendChild(this._desktopElement),null!==document.body&&document.body.appendChild(r),this._frameRate=parseInt(u,10),this._videoElement.width=parseInt(s,10),this._videoElement.height=parseInt(a,10),this._videoElement.autoplay=!0,this._videoElement.srcObject=t,this._videoElement.play(),r.style.display="none",this._onVideoFrameTimer=this._onVideoFrameTimer.bind(this)}return _createClass(e,[{key:"_onVideoFrameTimer",value:function(e){3===e.data.id&&this._renderVideo()}},{key:"_renderVideo",value:function(){var e,t=this._desktopStream.getVideoTracks(),n=_slicedToArray(t,1)[0],r=null!==(e=n.getSettings())&&void 0!==e?e:n.getConstraints(),i=r.height,o=r.width;this._canvas.width=parseInt(o,10),this._canvas.height=parseInt(i,10),this._ctx.drawImage(this._desktopElement,0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._videoElement,this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.beginPath(),this._ctx.lineWidth=2,this._ctx.strokeStyle="#A9A9A9",this._ctx.rect(this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.stroke()}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"desktop"===e.videoType}},{key:"startEffect",value:function(e){var t,n=e.getVideoTracks()[0],i=null!==(t=n.getSettings())&&void 0!==t?t:n.getConstraints(),o=i.height,a=i.width;return this._desktopStream=e,this._desktopElement.width=parseInt(a,10),this._desktopElement.height=parseInt(o,10),this._desktopElement.autoplay=!0,this._desktopElement.srcObject=e,this._desktopElement.play(),this._canvas.width=parseInt(a,10),this._canvas.height=parseInt(o,10),this._videoFrameTimerWorker=new Worker(r,{name:"Presenter effect worker"}),this._videoFrameTimerWorker.onmessage=this._onVideoFrameTimer,this._videoFrameTimerWorker.postMessage({id:1,timeMs:1e3/this._frameRate}),this._canvas.captureStream(this._frameRate)}},{key:"stopEffect",value:function(){this._videoFrameTimerWorker.postMessage({id:2}),this._videoFrameTimerWorker.terminate()}}]),e}();function o(e){return MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints?Promise.resolve(new i(e)):Promise.reject(new Error("JitsiStreamPresenterEffect not supported!"))}var a,s=n(460),u=function(){function e(t){_classCallCheck(this,e);try{if(this._wasmInterface=t,this._wasmPcmInput=this._wasmInterface._malloc(1920),!this._wasmPcmInput)throw Error("Failed to create wasm input memory buffer!");if(this._wasmPcmOutput=this._wasmInterface._malloc(1920),!this._wasmPcmOutput)throw t._free(this._wasmPcmInput),Error("Failed to create wasm output memory buffer!");this._wasmPcmInputF32Index=this._wasmPcmInput/4,this._context=this._wasmInterface._rnnoise_create()}catch(t){throw this._releaseWasmResources(),t}}return _createClass(e,[{key:"_copyPCMSampleToWasmBuffer",value:function(e){this._wasmInterface.HEAPF32.set(e,this._wasmPcmInputF32Index)}},{key:"_convertTo16BitPCM",value:function(e){var t,n=_createForOfIteratorHelper(e.entries());try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),i=r[0],o=r[1];e[i]=32767*o}}catch(a){n.e(a)}finally{n.f()}}},{key:"_releaseWasmResources",value:function(){this._wasmPcmInput&&(this._wasmInterface._free(this._wasmPcmInput),this._wasmPcmInput=null),this._wasmPcmOutput&&(this._wasmInterface._free(this._wasmPcmOutput),this._wasmPcmOutput=null),this._context&&(this._wasmInterface._rnnoise_destroy(this._context),this._context=null)}},{key:"getSampleLength",value:function(){return 480}},{key:"getRequiredPCMFrequency",value:function(){return 44100}},{key:"destroy",value:function(){this._destroyed||(this._releaseWasmResources(),this._destroyed=!0)}},{key:"calculateAudioFrameVAD",value:function(e){if(this._destroyed)throw new Error("RnnoiseProcessor instance is destroyed, please create another one!");var t=e.length;if(480!==t)throw new Error("Rnnoise can only process PCM frames of 480 samples! Input sample was:"+t);return this._convertTo16BitPCM(e),this._copyPCMSampleToWasmBuffer(e),this._wasmInterface._rnnoise_process_frame(this._context,this._wasmPcmOutput,this._wasmPcmInput)}}]),e}();function c(){return a||(a=Object(s.a)()),a.then((function(e){return new u(e)}))}var l=n(461),d=n.n(l),f=URL.createObjectURL(new Blob(["\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case 1: {\n            timer = setInterval(() => {\n                postMessage({ id: 3 });\n            }, request.data.timeMs);\n            break;\n        }\n        case 2: {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"],{type:"application/javascript"})),h=function(){function e(t){_classCallCheck(this,e),this.callback=t,this._currentCanvas=document.createElement("canvas"),this._currentCanvasContext=this._currentCanvas.getContext("2d"),this._videoElement=document.createElement("video"),this._handleWorkerAction=this._handleWorkerAction.bind(this),this._initScreenshotCapture=this._initScreenshotCapture.bind(this),this._streamWorker=new Worker(f,{name:"Screenshot capture worker"}),this._streamWorker.onmessage=this._handleWorkerAction}return _createClass(e,[{key:"startEffect",value:function(e,t){var n=this;return new Promise((function(r,i){var o;"desktop"!==t&&i();var a=e.getVideoTracks()[0],s=null!==(o=a.getSettings())&&void 0!==o?o:a.getConstraints(),u=s.height,c=s.width;n._streamHeight=u,n._streamWidth=c,n._currentCanvas.height=parseInt(u,10),n._currentCanvas.width=parseInt(c,10),n._videoElement.height=parseInt(u,10),n._videoElement.width=parseInt(c,10),n._videoElement.srcObject=e,n._videoElement.play(),n._videoElement.addEventListener("loadeddata",n._initScreenshotCapture),r()}))}},{key:"stopEffect",value:function(){this._streamWorker.postMessage({id:2}),this._videoElement.removeEventListener("loadeddata",this._initScreenshotCapture)}},{key:"_initScreenshotCapture",value:function(){var e=document.createElement("canvas").getContext("2d");e.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var t=e.getImageData(0,0,this._streamWidth,this._streamHeight).data;this._storedImageData=t,this._streamWorker.postMessage({id:1,timeMs:3e4})}},{key:"_handleWorkerAction",value:function(e){return 3===e.data.id&&this._handleScreenshot()}},{key:"_shouldProcessScreenshot",value:function(e){return e>=1e5}},{key:"_handleScreenshot",value:function(){this._currentCanvasContext.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var e=this._currentCanvasContext.getImageData(0,0,this._streamWidth,this._streamHeight).data,t=d()(e,this._storedImageData,null,this._streamWidth,this._streamHeight);this._shouldProcessScreenshot(t)&&(this._storedImageData=e,this.callback(this._currentCanvas))}}]),e}();function p(e){return MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints?Promise.resolve(new h(e)):Promise.reject(new Error("ScreenshotCaptureEffect not supported!"))}var m="image",v="desktop-share",g=URL.createObjectURL(new Blob(["\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case 1: {\n            timer = setTimeout(() => {\n                postMessage({ id: 3 });\n            }, request.data.timeMs);\n            break;\n        }\n        case 2: {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            break;\n        }\n        }\n    };\n"],{type:"application/javascript"})),_=function(){function e(t,n){var r,i,o;_classCallCheck(this,e),this._options=n,this._options.virtualBackground.backgroundType===m&&(this._virtualImage=document.createElement("img"),this._virtualImage.crossOrigin="anonymous",this._virtualImage.src=this._options.virtualBackground.virtualSource),this._options.virtualBackground.backgroundType===v&&(this._virtualVideo=document.createElement("video"),this._virtualVideo.autoplay=!0,this._virtualVideo.srcObject=null===(o=null===(i=null===(r=this._options)||void 0===r?void 0:r.virtualBackground)||void 0===i?void 0:i.virtualSource)||void 0===o?void 0:o.stream),this._model=t,this._segmentationPixelCount=this._options.width*this._options.height,this._onMaskFrameTimer=this._onMaskFrameTimer.bind(this),this._outputCanvasElement=document.createElement("canvas"),this._outputCanvasElement.getContext("2d"),this._inputVideoElement=document.createElement("video")}return _createClass(e,[{key:"_onMaskFrameTimer",value:function(e){3===e.data.id&&this._renderMask()}},{key:"runPostProcessing",value:function(){this._outputCanvasCtx.globalCompositeOperation="copy",this._options.virtualBackground.backgroundType===m?this._outputCanvasCtx.filter="blur(4px)":this._outputCanvasCtx.filter="blur(8px)",this._outputCanvasCtx.drawImage(this._segmentationMaskCanvas,0,0,this._options.width,this._options.height,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._outputCanvasCtx.globalCompositeOperation="source-in",this._outputCanvasCtx.filter="none",this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0),this._outputCanvasCtx.globalCompositeOperation="destination-over",this._options.virtualBackground.backgroundType===m&&this._outputCanvasCtx.drawImage(this._virtualImage,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._options.virtualBackground.backgroundType===v?this._outputCanvasCtx.drawImage(this._virtualVideo,0,0,this._desktopShareDimensions.width,this._desktopShareDimensions.height):(this._outputCanvasCtx.filter="blur(".concat(this._options.virtualBackground.blurValue,"px)"),this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0))}},{key:"runInference",value:function(){this._model._runInference();for(var e=this._model._getOutputMemoryOffset()/4,t=0;t<this._segmentationPixelCount;t++){var n=this._model.HEAPF32[e+2*t],r=this._model.HEAPF32[e+2*t+1],i=Math.max(n,r),o=Math.exp(n-i),a=Math.exp(r-i);this._segmentationMask.data[4*t+3]=255*a/(o+a)}this._segmentationMaskCtx.putImageData(this._segmentationMask,0,0)}},{key:"_renderMask",value:function(){var e,t,n,r=null===(n=null===(t=null===(e=this._options)||void 0===e?void 0:e.virtualBackground)||void 0===t?void 0:t.virtualSource)||void 0===n?void 0:n.track;r&&(this._desktopShareDimensions=r.getSettings?r.getSettings():r.getConstraints()),this.resizeSource(),this.runInference(),this.runPostProcessing(),this._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})}},{key:"resizeSource",value:function(){this._segmentationMaskCtx.drawImage(this._inputVideoElement,0,0,this._inputVideoElement.width,this._inputVideoElement.height,0,0,this._options.width,this._options.height);for(var e=this._segmentationMaskCtx.getImageData(0,0,this._options.width,this._options.height),t=this._model._getInputMemoryOffset()/4,n=0;n<this._segmentationPixelCount;n++)this._model.HEAPF32[t+3*n]=e.data[4*n]/255,this._model.HEAPF32[t+3*n+1]=e.data[4*n+1]/255,this._model.HEAPF32[t+3*n+2]=e.data[4*n+2]/255}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"camera"===e.videoType}},{key:"startEffect",value:function(e){var t=this;this._maskFrameTimerWorker=new Worker(g,{name:"Blur effect worker"}),this._maskFrameTimerWorker.onmessage=this._onMaskFrameTimer;var n=e.getVideoTracks()[0],r=n.getSettings?n.getSettings():n.getConstraints(),i=r.height,o=r.frameRate,a=r.width;return this._segmentationMask=new ImageData(this._options.width,this._options.height),this._segmentationMaskCanvas=document.createElement("canvas"),this._segmentationMaskCanvas.width=this._options.width,this._segmentationMaskCanvas.height=this._options.height,this._segmentationMaskCtx=this._segmentationMaskCanvas.getContext("2d"),this._outputCanvasElement.width=parseInt(a,10),this._outputCanvasElement.height=parseInt(i,10),this._outputCanvasCtx=this._outputCanvasElement.getContext("2d"),this._inputVideoElement.width=parseInt(a,10),this._inputVideoElement.height=parseInt(i,10),this._inputVideoElement.autoplay=!0,this._inputVideoElement.srcObject=e,this._inputVideoElement.onloadeddata=function(){t._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})},this._outputCanvasElement.captureStream(parseInt(o,10))}},{key:"stopEffect",value:function(){this._maskFrameTimerWorker.postMessage({id:2}),this._maskFrameTimerWorker.terminate()}}]),e}(),b=n(462),y=n.n(b),E=n(463),S=n.n(E),D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},w="https://sdk.sariska.io/segm_lite_v681.tflite",C="https://sdk.sariska.io/segm_full_v679.tflite",T={model96:{height:96,width:160},model144:{height:144,width:256}};function A(e,t){var r;return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints){t.next=2;break}throw new Error("JitsiStreamBackgroundEffect not supported!");case 2:if(t.prev=2,o=n(599),!(null===(r=null==o?void 0:o.feature)||void 0===r?void 0:r.simd)){t.next=10;break}return t.next=7,S()();case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,y()();case 12:t.t0=t.sent;case 13:i=t.t0,t.next=19;break;case 16:return t.prev=16,t.t1=t.catch(2),t.abrupt("return");case 19:return a=i._getModelBufferMemoryOffset(),t.next=22,fetch(o.feature.simd?C:w);case 22:if((s=t.sent).ok){t.next=25;break}throw new Error("Failed to download tflite model!");case 25:return t.next=27,s.arrayBuffer();case 27:return u=t.sent,i.HEAPU8.set(new Uint8Array(u),a),i._loadModel(u.byteLength),c=Object.assign(Object.assign({},o.feature.simd?T.model144:T.model96),{virtualBackground:e}),t.abrupt("return",new _(i,c));case 31:case"end":return t.stop()}}),t,null,[[2,16]])})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o.a})),n.d(t,"a",(function(){return a.a}));var r=n(330);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"recording.ogg",n=window.URL.createObjectURL(e),r=document.createElement("a");r.style="display: none",r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}n(161);var o=n(331),a=n(332)},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n(0),i=n(9),o=n(29),a=n(17),s=n(37);function u(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}}var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.b(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,i);var o=new f(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new f(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new d(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.a),d=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.b(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.b(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new h(n)),t.add(r.subscribe(e)),t},t}(a.a),h=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.b(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!0;try{void 0===window.sessionStorage&&(console.log("session storage not supported"),r=!1)}catch(e){}t.get=function(e){if(r){var t=window.sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t}},t.set=function(e,t){if(r)try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}},t.remove=function(e){if(r)try{window.sessionStorage.removeItem(e)}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.dispatchKeyboardEvent=function(e){return e.pipe(r.tap((function(e){var t=document.getElementsByTagName(e.tagname)[e.index],n=e.type,r=o.getOptions(e);if(t)if("function"==typeof KeyboardEvent){var i=new KeyboardEvent(n,r);t.dispatchEvent(i)}else if(document.createEvent){var a=o.getFlatOptions(e);window.setTimeout((function(){var e=document.createEvent("KeyboardEvent");"function"==typeof e.initKeyboardEvent&&e.initKeyboardEvent(a)}),0)}})))},t.simulateKeyboardEvent=function(e){return[i.EffectNames.DispatchKeyboardEvent,e]}},function(e,t,n){"use strict";var r=n(95),i=r.al_,o=r.C_,a=r.am_,s="$MDE"+i,u={};function c(e,t){var n=a(e)[t];return"string"==typeof n&&((n=n.split(" "))[2]&&(n[2]="true"===n[2]),4==n.length&&(n[3]=parseInt(n[3],10))),n}function l(e,t,n,r){var i=n[0],s=n[1],u=n[2],c=n[3];u&&delete a(e)[t];var l=o[s];if(l){var d="function"==typeof i?i:l[i];if(!d)throw Error("Method not found: "+i);null!=c&&"number"==typeof c&&(c=l.N_[c]),c?d.apply(l,c.concat(r,e)):d.call(l,r,e)}}function d(){}t.ab_=d,t.___=d,t._Z_=l,t.a__=c,t._D_=function(e){u[e]||(u[e]=!0)},t.an_=function(e){Object.keys(u).forEach((function(t){!function(e,t){var n=t[s]=t[s]||{};n[e]||(t.body||t).addEventListener(e,n[e]=function(t){var n=t.target;if(n){n=n.correspondingUseElement||(3===n.nodeType?n.parentNode:n);var r,i="on"+e;if(t.bubbles){var o=!1,a=t.stopPropagation;t.stopPropagation=function(){a.call(t),o=!0};do{if((r=c(n,i))&&(l(n,i,r,t),o))break}while((n=n.parentNode)&&n.getAttribute)}else(r=c(n,i))&&l(n,i,r,t)}},!0)}(t,e)}))}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(45))},function(e,t,n){var r=n(32).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,u,c=n[0],l=n[1],d=n[2],f=n[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],v=e[3]^t[3],g=4,_=1;_<i;_++)o=c[h>>>24]^l[p>>>16&255]^d[m>>>8&255]^f[255&v]^t[g++],a=c[p>>>24]^l[m>>>16&255]^d[v>>>8&255]^f[255&h]^t[g++],s=c[m>>>24]^l[v>>>16&255]^d[h>>>8&255]^f[255&p]^t[g++],u=c[v>>>24]^l[h>>>16&255]^d[p>>>8&255]^f[255&m]^t[g++],h=o,p=a,m=s,v=u;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&v])^t[g++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[v>>>8&255]<<8|r[255&h])^t[g++],s=(r[m>>>24]<<24|r[v>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[g++],u=(r[v>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[g++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var l=e[a],d=e[l],f=e[d],h=257*e[c]^16843008*c;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*f^65537*d^257*l^16843008*a,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===a?a=s=1:(a=l^e[e[e[f^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t==0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-t]^a}for(var c=[],l=0;l<r;l++){var d=r-l,f=i[d-(l%4?0:4)];c[l]=l<4||d<=4?f:u.INV_SUB_MIX[0][u.SBOX[f>>>24]]^u.INV_SUB_MIX[1][u.SBOX[f>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[f>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},function(e,t,n){var r=n(32).Buffer,i=n(250);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),c=r.alloc(0);a>0||o>0;){var l=new i;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var d=0;if(a>0){var f=s.length-a;d=Math.min(a,c.length),c.copy(s,f,0,d),a-=d}if(d<c.length&&o>0){var h=u.length-o,p=Math.min(o,c.length-d);c.copy(u,h,d,d+p),o-=p}}return c.fill(0),{key:s,iv:u}}},function(e,t,n){"use strict";var r=n(63),i=n(82),o=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var a,u,c=[];for(a=0;a<r.length;a+=n.step){u=0;for(var l=a+n.step-1;l>=a;l--)u=(u<<1)+r[l];c.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<c.length;a++)(u=c[a])===h?f=f.mixedAdd(n.points[a]):u===-h&&(f=f.mixedAdd(n.points[a].neg()));d=d.add(f)}return d.toP()},u.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&0===a[c];c--)l++;if(c>=0&&l++,u=u.dblp(l),c<0)break;var d=a[c];s(0!==d),u="affine"===e.type?d>0?u.mixedAdd(i[d-1>>1]):u.mixedAdd(i[-d-1>>1].neg()):d>0?u.add(i[d-1>>1]):u.add(i[-d-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,r,i){var s,u,c,l=this._wnafT1,d=this._wnafT2,f=this._wnafT3,h=0;for(s=0;s<r;s++){var p=(c=t[s])._getNAFPoints(e);l[s]=p.wnd,d[s]=p.points}for(s=r-1;s>=1;s-=2){var m=s-1,v=s;if(1===l[m]&&1===l[v]){var g=[t[m],null,null,t[v]];0===t[m].y.cmp(t[v].y)?(g[1]=t[m].add(t[v]),g[2]=t[m].toJ().mixedAdd(t[v].neg())):0===t[m].y.cmp(t[v].y.redNeg())?(g[1]=t[m].toJ().mixedAdd(t[v]),g[2]=t[m].add(t[v].neg())):(g[1]=t[m].toJ().mixedAdd(t[v]),g[2]=t[m].toJ().mixedAdd(t[v].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[m],n[v]);for(h=Math.max(b[0].length,h),f[m]=new Array(h),f[v]=new Array(h),u=0;u<h;u++){var y=0|b[0][u],E=0|b[1][u];f[m][u]=_[3*(y+1)+(E+1)],f[v][u]=0,d[m]=g}}else f[m]=o(n[m],l[m],this._bitLength),f[v]=o(n[v],l[v],this._bitLength),h=Math.max(f[m].length,h),h=Math.max(f[v].length,h)}var S=this.jpoint(null,null,null),D=this._wnafT4;for(s=h;s>=0;s--){for(var w=0;s>=0;){var C=!0;for(u=0;u<r;u++)D[u]=0|f[u][s],0!==D[u]&&(C=!1);if(!C)break;w++,s--}if(s>=0&&w++,S=S.dblp(w),s<0)break;for(u=0;u<r;u++){var T=D[u];0!==T&&(T>0?c=d[u][T-1>>1]:T<0&&(c=d[u][-T-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(s=0;s<r;s++)d[s]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var r=n(681),i=n(688),o=n(689),a=n(259),s=n(351),u=n(32).Buffer;function c(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var n,c,l=o(e,t),d=l.tag,f=l.data;switch(d){case"CERTIFICATE":c=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=r.PublicKey.decode(f,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=r.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,d=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(t,n,r,d,"sha1"),h=a.createDecipheriv(o,f,c),p=[];return p.push(h.update(l)),p.push(h.final()),u.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(n=(c=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:r.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=r.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=c,c.signature=r.signature},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(0),i=n(37),o=n(17),a=n(9),s=n(29),u=n(154),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.b(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e},t.prototype.refCount=function(){return Object(u.a)()(this)},t}(o.a),l=function(){var e=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.b(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);a.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(37),o=n(84),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.b(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(0),i=n(9),o=n(73);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.b(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(i.a),c=function(e,t){this.notification=e,this.destination=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(158);function i(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(17),i=n(50),o=n(158),a=n(98);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return Object(i.a)(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(n)(Object(a.a)(e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),i=n(39),o=n(98),a=n(21),s=n(20);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new c)}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.b(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(s.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(17),i=n(42),o=n(104),a=n(50);function s(e,t,n){void 0===e&&(e=0);var s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=i.a),new r.a((function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:s,subscriber:t})}))}function u(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default={setByKey:function(e,t){r[e]=t},getByKey:function(e){return r[e]},removeAll:function(e){r={}},removeByKey:function(e){var t=r[e];delete r[e],t.element&&t.element.remove()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(17),i=n(29),o=n(83),a=n(164),s=n(77),u=n(223),c=n(222);function l(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(u.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(c.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.b(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(102).a),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t}(n(99).a))(i)},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(713),o=n(715);i.init({dsn:"https://2b97597fd6e24e96be2a456fc45223fd@debug.sariska.io/45",integrations:[new o.BrowserTracing],tracesSampleRate:1}),n(471);var a=n(23),s=n(8),u=n(474),c=n(535),l=n(143),d=n(64),f=n(536),h=n(537),p=n(31),m=n(572),v=n(109),g=n(13).inIframe();function _(e,t){return function(e,n){return n.pipe(s.filter((function(e){return void 0!==e})),s.groupBy((function(e){return e[0]})),s.withLatestFrom(e),s.filter((function(e){var t=e[0];return"function"==typeof e[1][t.key]})),s.mergeMap((function(e){var n=e[0];return e[1][n.key](n.pipe(s.pluck(String(1))),t)})),s.share())}}var b=u.initWindow(window),y=u.initDocument(),E=f.initWindowName(window),S=new a.BehaviorSubject({push:function(){}}),D=new a.BehaviorSubject(null),w=new a.BehaviorSubject([]),C=new a.BehaviorSubject({user:{},room:{}}),T=new a.BehaviorSubject({widget:!0}),A=u.initOptions(),k=u.initNavigator(),O=c.initNotify(A.getValue()),R=v.initLogger(A.getValue()),M=u.initService(),I=new a.BehaviorSubject({}),P=new a.BehaviorSubject({}),N=new a.BehaviorSubject({}),x={sessionInfo$:C,sariskaChannel$:S,widget$:T,socket$:D,usersList$:w,window$:b,document$:y,option$:A,navigator$:k,notifyElement$:O,logInstance$:R,service$:M,socketStream$:I,socketStreamFrame$:P,outgoing$:N};function F(){x.usersList$.next([]);var e=g?a.EMPTY:u.initSocketStream(window,x.sariskaChannel$,x.sessionInfo$,x.service$,x.socket$),t=h.initListeners(window,document,e,P,x.option$,x.service$,x.sessionInfo$,x.sariskaChannel$);x.socketStream$=e,x.outgoing$=t;var n=a.zip(d.effectOutputHandlers$,f.scrollRestoreHandlers$,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return r({},e,t)}),{})})),i=_(0,x)(p.socketHandlers$,a.merge(x.socketStream$,x.outgoing$)),o=_(0,x)(n,i),s=_(0,x)(l.domHandlers$,a.merge(o,E)),c=a.merge(i,o,s);_(0,x)(v.logHandler$,c).subscribe()}function L(e){var t=M.getValue(),n=t.getByKey("sessionParams")||{};n.name=e.name,n.session_id=e.session_id,n.id=e.id,console.log("sessionParams",n),t.setByKey("sessionParams",n),F()}t.initApp=F,t.startNewSession=L,window.sariskaConfig||(window.sariskaConfig={}),window.sariskaConfig.startNewSession=L,m.initWidget(T,x,F).subscribe(),t.coBrowsing={startCoBrowsing:function(e,t){window.startCoBrowsing(e,t)},stopCoBrowsing:function(){window.stopCoBrowsing()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(0);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e,t){var i,o,a,s;void 0===t&&(t=0);var u=[];try{for(var c=Object(r.f)(e.split("\n").slice(t)),l=c.next();!l.done;l=c.next()){var d=l.value;try{for(var f=(a=void 0,Object(r.f)(n)),h=f.next();!h.done;h=f.next()){var p=(0,h.value)(d);if(p){u.push(p);break}}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return function(e){if(!e.length)return[];var t=e,n=t[0].function||"",i=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return Object(r.a)(Object(r.a)({},e),{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}(u)}}function o(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.b(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(29).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(583);e.exports=function e(t){if(!t)return null;var n=typeof t;if("string"!==n){var i="";if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++){var s=e(t[o]);s&&(i+=s+(";"!==s[s.length-1]?";":""))}else if("object"===n)for(var u in t){var c=t[u];null!=c&&!1!==c&&("number"==typeof c&&c&&(c+="px"),i+=r.aJ_(u)+":"+c+";")}return i||null}return t}},function(e,t,n){"use strict";var r=n(120);t.a=r.a.toString},function(e,t,n){"use strict";var r=n(120),i=n(226);t.a=function(e){return null==e?e+"":"object"==typeof e?r.a[i.a.call(e)]||"object":typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),window.AudioContext=window.AudioContext||window.webkitAudioContext;var r=null;function i(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}window.AudioContext&&(r=new AudioContext).suspend&&r.suspend(),i.prototype.start=function(){var e=this;if(i.isLocalStatsSupported()){r.resume();var t=r.createAnalyser();t.smoothingTimeConstant=.8,t.fftSize=2048,r.createMediaStreamSource(this.stream).connect(t),this.intervalId=setInterval((function(){var n=new Uint8Array(t.frequencyBinCount);t.getByteTimeDomainData(n);var r=function(e){for(var t=0,n=e.length,r=0;r<n;r++)t<e[r]&&(t=e[r]);return parseFloat(((t-127)/128).toFixed(3))}(n);e.audioLevel=function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))}(r,e.audioLevel),e.callback(e.audioLevel)}),this.intervalMilis)}},i.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},i.isLocalStatsSupported=function(){return Boolean(r)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(2),o=n(11),a=n(6),s=n(138),u=n(46),c=n(405),l=Object(r.getLogger)(e),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r=t.call(this)).conference=e,r.e2eeCtx=new c.a(a),r.enabled=!1,r._enabling=void 0,r.conference.on(i._MEDIA_SESSION_STARTED,r._onMediaSessionStarted.bind(_assertThisInitialized(r))),r.conference.on(i.TRACK_ADDED,(function(e){return e.isLocal()&&r._onLocalTrackAdded(e)})),r.conference.rtc.on(o.default.REMOTE_TRACK_ADDED,(function(e,t){return r._setupReceiverE2EEForTrack(t,e)})),r.conference.on(i.TRACK_MUTE_CHANGED,r._trackMuteChanged.bind(_assertThisInitialized(r))),r}return _createClass(n,[{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e!==this.enabled,!t.t0){t.next=16;break}if(t.t1=this._enabling,!t.t1){t.next=6;break}return t.next=6,this._enabling;case 6:if(this._enabling=new s.a,this.enabled=e,e||this.e2eeCtx.cleanupAll(),t.t2=this._setEnabled,!t.t2){t.next=13;break}return t.next=13,this._setEnabled(e);case 13:this.conference.setLocalParticipantProperty("e2ee.enabled",e),this.conference._restartMediaSessions(),this._enabling.resolve();case 16:case"end":return t.stop()}}),t,this)})))}},{key:"setEncryptionKey",value:function(){throw new Error("Not implemented by subclass")}},{key:"_onLocalTrackAdded",value:function(e){var t,n=_createForOfIteratorHelper(this.conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setupSenderE2EEForTrack(r,e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_onMediaSessionStarted",value:function(e){var t,n=this.conference.getLocalTracks(),r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._setupSenderE2EEForTrack(e,i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_setupReceiverE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.findReceiverForTrack(t.track);n?this.e2eeCtx.handleReceiver(n,t.getType(),t.getParticipantId()):l.warn("Could not handle E2EE for ".concat(t,": receiver not found in: ").concat(e))}}},{key:"_setupSenderE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.peerconnection,r=n&&n.findSenderForTrack(t.track);r?this.e2eeCtx.handleSender(r,t.getType(),t.getParticipantId()):l.warn("Could not handle E2EE for ".concat(t,": sender not found in ").concat(n))}}},{key:"_trackMuteChanged",value:function(e){if(a.a.doesVideoMuteByStreamRemove()&&e.isLocal()&&e.isVideoTrack()&&!e.isMuted()){var t,n=_createForOfIteratorHelper(this.conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setupSenderE2EEForTrack(r,e)}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(u.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return D}));var r=n(5),i=n(78),o=n.n(i),a=n(3),s=n(231),u=n(4),c=n(22),l=n(1),d=n(27),f=n.n(d),h=n(46),p=n(412),m=n(413),v=n(414),g=n(113),_=n(415),b=Object(r.getLogger)(e),y={packet2JSON:function(e,t){for(var n=0,r=Array.from(e.children);n<r.length;n++){for(var i=r[n],o={attributes:{},children:[],tagName:i.tagName},s=0,u=Array.from(i.attributes);s<u.length;s++){var c=u[s];o.attributes[c.name]=c.value}var l=a.Strophe.getText(i);l&&(o.value=a.Strophe.xmlunescape(l)),t.push(o),this.packet2JSON(i,o.children)}},json2packet:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r&&(t.c(r.tagName,r.attributes),r.value&&t.t(r.value),r.children&&this.json2packet(r.children,t),t.up())}}};function E(e,t){for(var n=[],r=0;r<e.length;r++)e[r].tagName===t&&n.push(e[r]);return n}var S=["owner","admin","member"],D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,u){var c;return _classCallCheck(this,n),(c=t.call(this)).xmpp=o,c.connection=e,c.roomjid=a.Strophe.getBareJidFromJid(r),c.myroomjid=r,c.password=i,c.replaceParticipant=!1,b.info("Joined MUC as "+c.myroomjid),c.members={},c.presMap={},c.presHandlers={},c._removeConnListeners=[],c.joined=!1,c.inProgressEmitted=!1,c.role=null,c.focusMucJid=null,c.noBridgeAvailable=!1,c.options=u||{},c.moderator=new _.a(c.roomjid,c.xmpp,c.eventEmitter,{connection:c.xmpp.options,conference:c.options}),(void 0===c.options.enableLobby||c.options.enableLobby)&&(c.lobby=new v.a(_assertThisInitialized(c))),c.avModeration=new p.a(_assertThisInitialized(c)),c.breakoutRooms=new m.a(_assertThisInitialized(c)),c.initPresenceMap(u),c.lastPresences={},c.phoneNumber=null,c.phonePin=null,c.connectionTimes={},c.participantPropertyListener=null,c.locked=!1,c.transcriptionStatus=s.OFF,c}return _createClass(n,[{key:"initPresenceMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],e.statsId&&this.presMap.nodes.push({tagName:"stats-id",value:e.statsId}),this.presenceUpdateTime=Date.now()}},{key:"join",value:function(e,t){var n=this;return this.password=e,this.replaceParticipant=t,new Promise((function(e){n.options.disableFocus&&b.info("Conference focus disabled for "+n.roomjid),(n.options.disableFocus?Promise.resolve():n.moderator.allocateConferenceFocus()).then((function(){n.sendPresence(!0),n._removeConnListeners.push(n.connection.addEventListener(g.a.Events.CONN_STATUS_CHANGED,n.onConnStatusChanged.bind(n))),e()}))}))}},{key:"sendPresence",value:function(e){var t=this.presMap.to;if(this.connection&&this.connection.connected&&t&&(this.joined||e)){var n=Object(a.$pres)({to:t});e&&(this.replaceParticipant&&n.c("flip_device").up(),n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),this.options.billingId&&n.c("billingid").t(this.options.billingId).up(),n.up()),y.json2packet(this.presMap.nodes,n),this.presenceSyncTime=Date.now(),this.connection.send(n),e&&this.connection.flush()}}},{key:"doLeave",value:function(){b.log("do leave",this.myroomjid);var e=Object(a.$pres)({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(e),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var e=this,t=Object(a.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:a.Strophe.NS.DISCO_INFO});this.connection.sendIQ(t,(function(t){var n=1===$(t).find('>query>feature[var="muc_passwordprotected"]').length;n!==e.locked&&(e.eventEmitter.emit(l.XMPPEvents.MUC_LOCK_CHANGED,n),e.locked=n);var r=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');r.length?e.setMeetingId(r.text()):b.warn("No meeting ID from backend");var i=1===$(t).find('>query>feature[var="muc_membersonly"]').length,o=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value');e.lobby&&e.lobby.setLobbyRoomJid(o&&o.length?o.text():void 0);var a=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_isbreakout"]>value'),s=Boolean(null==a?void 0:a.text());e.breakoutRooms._setIsBreakoutRoom(s);var u=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_breakout_main_room"]>value');(null==u?void 0:u.length)&&e.breakoutRooms._setMainRoomJid(u.text()),i!==e.membersOnlyEnabled&&(e.membersOnlyEnabled=i,e.eventEmitter.emit(l.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,i))}),(function(e){f.a.callErrorHandler(e),b.error("Error getting room info: ",e)}))}},{key:"setMeetingId",value:function(e){this.meetingId!==e&&(this.meetingId&&b.warn("Meeting Id changed from:".concat(this.meetingId," to:").concat(e)),this.meetingId=e,this.eventEmitter.emit(l.XMPPEvents.MEETING_ID_SET,e))}},{key:"createNonAnonymousRoom",value:function(){var e=this;if(!this.options.disableDiscoInfo){var t=Object(a.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"});this.connection.sendIQ(t,(function(t){if(!$(t).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]').length){var n="non-anonymous rooms not supported";return f.a.callErrorHandler(new Error(n)),void b.error(n)}var r=Object(a.$iq)({to:e.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});r.c("x",{xmlns:"jabber:x:data",type:"submit"}),r.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),r.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),e.connection.sendIQ(r)}),(function(e){f.a.callErrorHandler(e),b.error("Error getting room configuration form: ",e)}))}}},{key:"onConnStatusChanged",value:function(e){e===g.a.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(e){var t=this,n=e.getAttribute("from"),r={},i=e.getElementsByTagName("status")[0];i&&(r.status=i.textContent||"");var s=!1,u=!1,c=e.getElementsByTagNameNS("http://jabber.org/protocol/muc#user","x")[0],d=c&&c.getElementsByTagName("item")[0];r.isReplaceParticipant=e.getElementsByTagName("flip_device").length,r.affiliation=d&&d.getAttribute("affiliation"),r.role=d&&d.getAttribute("role");var f=d&&d.getAttribute("jid");r.jid=f,r.isFocus=f&&0===f.indexOf(this.moderator.getFocusUserJid()+"/"),r.isHiddenDomain=f&&f.indexOf("@")>0&&this.options.hiddenDomain===f.substring(f.indexOf("@")+1,f.indexOf("/"));var h=e.getElementsByTagName("nick");h[0]&&"transcriber"===h[0].innerHTML.toLowerCase()&&(r.isHiddenDomain=!0),this.eventEmitter.emit(l.XMPPEvents.PRESENCE_RECEIVED,{fromHiddenDomain:r.isHiddenDomain,presence:e});var p=e.querySelector("x");p&&p.remove();var m=[];y.packet2JSON(e,m),this.lastPresences[n]=m;for(var v=function(e){var n={},r=e.children.find((function(e){return"user"===e.tagName}));if(r){n.user={};var i=["id","name","avatar"];t.options.hiddenFromRecorderFeatureEnabled&&i.push("hidden-from-recorder");for(var o=function(){var e=s[a],t=r.children.find((function(t){return t.tagName===e}));t&&(n.user[e]=t.value)},a=0,s=i;a<s.length;a++)o()}var u=e.children.find((function(e){return"group"===e.tagName}));return u&&(n.group=u.value),n},g=0;g<m.length;g++){var _=m[g];switch(_.tagName){case"bot":var E=_.attributes;if(!E)break;var S=E.type;r.botType=S;break;case"nick":r.nick=_.value;break;case"userId":r.id=_.value;break;case"stats-id":r.statsID=_.value;break;case"identity":r.identity=v(_);break;case"features":r.features=this._extractFeatures(_);break;case"stat":var D=_.attributes;if(!D)break;"version"===D.name&&(r.version=D.value)}}if(!this.joined&&!this.inProgressEmitted){var w=this.connectionTimes["muc.join.started"]=window.performance.now();b.log("(TIME) MUC join started:\t",w),this.eventEmitter.emit(l.XMPPEvents.MUC_JOIN_IN_PROGRESS),this.inProgressEmitted=!0}if(n===this.myroomjid){var C="owner"===r.affiliation?r.role:"none";if(this.role!==C&&(this.role=C,this.eventEmitter.emit(l.XMPPEvents.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var T=this.connectionTimes["muc.joined"]=window.performance.now();b.log("(TIME) MUC joined:\t",T),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(l.XMPPEvents.MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo()}}else if(void 0===f)b.info("Ignoring member with undefined JID");else if(void 0===this.members[n])this.members[n]=r,b.log("entered",n,r),s=void 0!==r.status,u=void 0!==r.version,r.isFocus?this._initFocus(n,r.features):(this.eventEmitter.emit(l.XMPPEvents.MUC_MEMBER_JOINED,n,r.nick,r.role,r.isHiddenDomain,r.statsID,r.status,r.identity,r.botType,r.jid,r.features,r.isReplaceParticipant),s=!1);else{var A=this.members[n];A.role!==r.role&&(A.role=r.role,this.eventEmitter.emit(l.XMPPEvents.MUC_ROLE_CHANGED,n,r.role)),A.affiliation!==r.affiliation&&(A.affiliation=r.affiliation),A.botType!==r.botType&&(A.botType=r.botType,this.eventEmitter.emit(l.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,n,r.botType)),r.isFocus&&(A.isFocus=!0,this._initFocus(n,r.features)),r.displayName&&(A.displayName=r.displayName),A.status!==r.status&&(s=!0,A.status=r.status),A.version!==r.version&&(u=!0,A.version=r.version),o()(A.features,r.features)||(A.features=r.features,this.eventEmitter.emit(l.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,n,r.features))}for(var k=0;k<m.length;k++){var O=m[k];switch(O.tagName){case"nick":if(!r.isFocus){var R=this.xmpp.options.displayJids?a.Strophe.getResourceFromJid(n):r.nick;this.eventEmitter.emit(l.XMPPEvents.DISPLAY_NAME_CHANGED,n,R)}break;case"bridgeNotAvailable":r.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(l.XMPPEvents.BRIDGE_DOWN));break;case"conference-properties":if(r.isFocus){for(var M={},I=0;I<O.children.length;I++){var P=O.children[I].attributes;P&&P.key&&(M[P.key]=P.value)}this.eventEmitter.emit(l.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,M),void 0===this.restartByTerminateSupported&&(this.restartByTerminateSupported="true"===M["support-terminate-restart"],b.info("Jicofo supports restart by terminate: "+this.supportsRestartByTerminate()))}break;case"transcription-status":var N=O.attributes;if(!N)break;var x=N.status;x&&x!==this.transcriptionStatus&&(this.transcriptionStatus=x,this.eventEmitter.emit(l.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,x));break;case"call-control":var F=O.attributes;if(!F)break;this.phoneNumber=F.phone||null,this.phonePin=F.pin||null,this.eventEmitter.emit(l.XMPPEvents.PHONE_NUMBER_CHANGED);break;default:this.processNode(O,n)}}s&&this.eventEmitter.emit(l.XMPPEvents.PRESENCE_STATUS,n,r.status),u&&b.info("Received version for ".concat(f,": ").concat(r.version))}},{key:"_extractFeatures",value:function(e){for(var t=new Set,n=0;n<e.children.length;n++){var r=e.children[n].attributes;r&&r.var&&t.add(r.var)}return t}},{key:"_initFocus",value:function(e,t){this.focusMucJid=e,this.focusFeatures=t}},{key:"setParticipantPropertyListener",value:function(e){this.participantPropertyListener=e}},{key:"supportsRestartByTerminate",value:function(){return this.restartByTerminateSupported}},{key:"processNode",value:function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(n=[this.participantPropertyListener]),n&&n.forEach((function(n){n(e,a.Strophe.getResourceFromJid(t),t)}))}catch(t){f.a.callErrorHandler(t),b.error("Error processing:".concat(e.tagName," node."),t)}}},{key:"sendMessage",value:function(e,t){var n=Object(a.$msg)({to:this.roomjid,type:"groupchat"});"body"===t?n.c(t,{},e):n.c(t,{xmlns:"http://jitsi.org/jitmeet"},e),this.connection.send(n),this.eventEmitter.emit(l.XMPPEvents.SENDING_CHAT_MESSAGE,e)}},{key:"sendPrivateMessage",value:function(e,t,n){var r=Object(a.$msg)({to:"".concat(this.roomjid,"/").concat(e),type:"chat"});"body"===n?r.c(n,t).up():r.c(n,{xmlns:"http://jitsi.org/jitmeet"},t).up(),this.connection.send(r),this.eventEmitter.emit(l.XMPPEvents.SENDING_PRIVATE_CHAT_MESSAGE,t)}},{key:"setSubject",value:function(e){var t=Object(a.$msg)({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t)}},{key:"onParticipantLeft",value:function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(l.XMPPEvents.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))}},{key:"onPresenceUnavailable",value:function(e,t){var n=this;if($(e).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;var r=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy');if(r.length){var i,o=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason');return o.length&&(i=o.text()),this.eventEmitter.emit(l.XMPPEvents.MUC_DESTROYED,i,r.attr("jid")),this.connection.emuc.doLeave(this.roomjid),!0}var s=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]').length,u=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]').length,c=Object.keys(this.members),d=$(e).find("flip_device").length;if(u){var f,h,p=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');p.length&&(f=p.attr("nick"));var m=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>reason');m.length&&(h=m.text()),this.eventEmitter.emit(l.XMPPEvents.KICKED,s,f,a.Strophe.getResourceFromJid(t),h,d)}s?(c.forEach((function(e){var t=n.members[e];delete n.members[e],n.onParticipantLeft(e,t.isFocus)})),this.connection.emuc.doLeave(this.roomjid),u||this.eventEmitter.emit(l.XMPPEvents.MUC_LEFT)):(delete this.members[t],this.onParticipantLeft(t,!1))}},{key:"onMessage",value:function(e,t){var n=e.getAttribute("type");if("error"===n){var r=$(e).find(">settings-error>text").text();if(r.length)return this.eventEmitter.emit(l.XMPPEvents.SETTINGS_ERROR_RECEIVED,r),!0;var i=$(e).find(">error>text").text();return this.eventEmitter.emit(l.XMPPEvents.CHAT_ERROR_RECEIVED,i),!0}var o=$(e).find(">body").text(),a=$(e).find(">subject");if(a.length){var s=a.text();(s||""===s)&&(this.eventEmitter.emit(l.XMPPEvents.SUBJECT_CHANGED,s),b.log("Subject is changed to "+s))}var u,c=$(e).find(">delay").attr("stamp");if(!c&&(c=$(e).find('>[xmlns="jabber:x:delay"]').attr("stamp"))){var d=c.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);c="".concat(d[1],"-").concat(d[2],"-").concat(d[3],"Z")}if(t===this.roomjid)if($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length)this.discoRoomInfo();else if((u=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>invite'))&&u.length){var f,h=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>password');h&&h.length&&(f=h.text()),this.eventEmitter.emit(l.XMPPEvents.INVITE_MESSAGE_RECEIVED,t,u.attr("from"),o,f)}var p=$(e).find(">json-message").text();if(p){var m=this.xmpp.tryParseJSONAndVerify(p);if(m&&void 0===c)return void this.eventEmitter.emit(l.XMPPEvents.JSON_MESSAGE_RECEIVED,t,m)}o&&("chat"===n?this.eventEmitter.emit(l.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,t,o,this.myroomjid,c):"groupchat"===n&&this.eventEmitter.emit(l.XMPPEvents.MESSAGE_RECEIVED,t,o,this.myroomjid,c))}},{key:"onPresenceError",value:function(e,t){if($(e).find('>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length)b.log("on password required",t),this.eventEmitter.emit(l.XMPPEvents.PASSWORD_REQUIRED);else if($(e).find('>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length)a.Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(l.XMPPEvents.ROOM_JOIN_ERROR):(b.warn("onPresError ",e),this.eventEmitter.emit(l.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR));else if($(e).find(">error>service-unavailable").length)b.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(l.XMPPEvents.ROOM_MAX_USERS_ERROR);else if($(e).find('>error[type="auth"]>registration-required[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length){var n,r=$(e).find('>error[type="auth"]>lobbyroom');if(r.length)n=r.text();else{var i=$(e).find(">lobbyroom");i.length&&(n=i.text())}this.eventEmitter.emit(l.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,n)}else b.warn("onPresError ",e),this.eventEmitter.emit(l.XMPPEvents.ROOM_CONNECT_ERROR)}},{key:"setAffiliation",value:function(e,t){var n=Object(a.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:t,jid:a.Strophe.getBareJidFromJid(e)}).c("reason").t("Your affiliation has been changed to '".concat(t,"'.")).up().up().up();this.connection.sendIQ(n,(function(n){return b.log("Set affiliation of participant with jid: ",e,"to",t,n)}),(function(e){return b.log("Set affiliation of participant error: ",e)}))}},{key:"kick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You have been kicked.",n=Object(a.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:a.Strophe.getResourceFromJid(e),role:"none"}).c("reason").t(t).up().up().up();this.connection.sendIQ(n,(function(t){return b.log("Kick participant with jid: ",e,t)}),(function(e){return b.log("Kick participant error: ",e)}))}},{key:"lockRoom",value:function(e,t,n,r){var i=this;this.connection.sendIQ(Object(a.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),(function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]').length){var s=Object(a.$iq)({to:i.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});s.c("x",{xmlns:"jabber:x:data",type:"submit"}),s.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),s.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),s.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t(null===e||0===e.length?"0":"1").up().up(),i.membersOnlyEnabled&&s.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t("true").up().up(),s.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),i.connection.sendIQ(s,(function(){i.password=e,t()}),n)}else r()}),n)}},{key:"setMembersOnly",value:function(e,t,n){var r=this;e&&Object.values(this.members).filter((function(e){return!e.isFocus})).length&&Object.values(this.members).forEach((function(e){e.jid&&!S.includes(e.affiliation)&&r.xmpp.connection.sendIQ(Object(a.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"member",jid:a.Strophe.getBareJidFromJid(e.jid)}).up().up())}));var i=n||function(){};this.xmpp.connection.sendIQ(Object(a.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),(function(n){if($(n).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]').length){var o=Object(a.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});o.c("x",{xmlns:"jabber:x:data",type:"submit"}),o.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),o.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t(e?"true":"false").up().up(),r.locked&&o.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t("1").up().up(),r.xmpp.connection.sendIQ(o,t,i)}else i(new Error("Setting members only room not supported!"))}),i)}},{key:"addToPresence",value:function(e,t){return this.addOrReplaceInPresence(e,t)}},{key:"addOrReplaceInPresence",value:function(e,t){t.tagName=e;var n=this.presMap.nodes.filter((function(t){return e===t.tagName}));return(1!==n.length||!o()(n[0],t))&&(this.removeFromPresence(e),this.presMap.nodes.push(t),this.presenceUpdateTime=Date.now(),!0)}},{key:"getFromPresence",value:function(e){return this.presMap.nodes.find((function(t){return e===t.tagName}))}},{key:"removeFromPresence",value:function(e){var t=this.presMap.nodes.filter((function(t){return e!==t.tagName}));this.presMap.nodes=t,this.presenceUpdateTime=Date.now()}},{key:"addPresenceListener",value:function(e,t){if("function"!=typeof t)throw new Error('"handler" is not a function');var n=this.presHandlers[e];n||(this.presHandlers[e]=n=[]),-1===n.indexOf(t)?n.push(t):b.warn("Trying to add the same handler more than once for: "+e)}},{key:"removePresenceListener",value:function(e,t){var n=this.presHandlers[e],r=n?n.indexOf(t):-1;-1!==r?n.splice(r,1):b.warn("Handler for: ".concat(e," was not registered"))}},{key:"isFocus",value:function(e){var t=this.members[e];return t?t.isFocus:null}},{key:"isModerator",value:function(){return"moderator"===this.role}},{key:"getMemberRole",value:function(e){return this.members[e]?this.members[e].role:null}},{key:"addAudioInfoToPresence",value:function(e){return!(e&&!this.getFromPresence("audiomuted"))&&this.addOrReplaceInPresence("audiomuted",{value:e.toString()})}},{key:"addVideoInfoToPresence",value:function(e){return!(e&&!this.getFromPresence("videomuted"))&&this.addOrReplaceInPresence("videomuted",{value:e.toString()})}},{key:"getMediaPresenceInfo",value:function(e,t){var n=this.lastPresences["".concat(this.roomjid,"/").concat(e)];if(!n)return null;var r={muted:!0,videoType:t===u.a.VIDEO?c.VideoType.CAMERA:void 0},i=null;if(t===u.a.AUDIO)i=E(n,"audiomuted");else{if(t!==u.a.VIDEO)return b.error("Unsupported media type: "+t),null;i=E(n,"videomuted");var o=E(n,"jitsi_participant_codecType"),a=E(n,"videoType");a.length>0&&(r.videoType=a[0].value),o.length>0&&(r.codecType=o[0].value)}return i.length>0&&(r.muted="true"===i[0].value),r}},{key:"getLastPresence",value:function(e){return this.lastPresences["".concat(this.roomjid,"/").concat(e)]}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(e){return this.connection.rayo.dial(e,"fromnumber",a.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getLobby",value:function(){return this.lobby}},{key:"getAVModeration",value:function(){return this.avModeration}},{key:"getBreakoutRooms",value:function(){return this.breakoutRooms}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(e,t,n){b.info("set mute",t,e);var r=Object(a.$iq)({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/"+n,jid:e}).t(t.toString()).up();this.connection.sendIQ(r,(function(e){return b.log("set mute",e)}),(function(e){return b.log("set mute error",e)}))}},{key:"onMute",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(l.XMPPEvents.AUDIO_MUTED_BY_FOCUS,t.attr("actor")):b.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else b.warn("Ignored mute from non focus peer")}},{key:"onMuteVideo",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(l.XMPPEvents.VIDEO_MUTED_BY_FOCUS,t.attr("actor")):b.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else b.warn("Ignored mute from non focus peer")}},{key:"clean",value:function(){this._removeConnListeners.forEach((function(e){return e()})),this._removeConnListeners=[],this.joined=!1,this.inProgressEmitted=!1}},{key:"leave",value:function(){var e,t=this,n=this;this.avModeration.dispose(),this.breakoutRooms.dispose();var r=[];return(null===(e=this.lobby)||void 0===e?void 0:e.lobbyRoom)&&r.push(this.lobby.leave()),r.push(new Promise((function(e,r){var i=-1,o=function t(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.eventEmitter.removeListener(l.XMPPEvents.MUC_LEFT,t),clearTimeout(i),o?(n.connection.emuc.doLeave(n.roomjid),r(new Error("The timeout for the confirmation about leaving the room expired."))):e()};i=setTimeout((function(){return o(!0)}),5e3),t.clean(),t.eventEmitter.on(l.XMPPEvents.MUC_LEFT,o),t.doLeave()}))),Promise.allSettled(r)}}]),n}(h.a)}).call(this,"/index.js")},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTranscriptionStatus",(function(){return r})),n.d(t,"ON",(function(){return i})),n.d(t,"OFF",(function(){return o})),function(e){e.ON="on",e.OFF="off"}(r||(r={}));var i=r.ON,o=r.OFF},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(5),i=n(34),o=n.n(i),a=n(30),s=n(4),u=n(6),c=n(26),l=Object(r.getLogger)(e),d={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"},f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this)).addEventListener=u.addListener,u.removeEventListener=u.off=u.removeListener,u.containers=[],u.conference=e,u.audioLevel=-1,u.type=a,u.track=i,u.videoType=s,u.handlers=new Map,u.disposed=!1,u._streamInactiveHandler=o,u._setStream(r),u}return _createClass(n,[{key:"_addMediaStreamInactiveHandler",value:function(e){u.a.isFirefox()?this.track.onended=e:this.stream.oninactive=e}},{key:"_setHandler",value:function(e,t){if(d.hasOwnProperty(e)){if(t?this.handlers.set(e,t):this.handlers.delete(e),this.stream){var n,r=_createForOfIteratorHelper(this.stream.getTracks());try{for(r.s();!(n=r.n()).done;)n.value[d[e]]=t}catch(i){r.e(i)}finally{r.f()}}}else l.error("Invalid handler type "+e)}},{key:"_unregisterHandlers",value:function(){if(this.stream){var e,t=_createForOfIteratorHelper(this.handlers.keys());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(this.stream.getVideoTracks());try{for(i.s();!(n=i.n()).done;)n.value[d[r]]=void 0}catch(o){i.e(o)}finally{i.f()}}}catch(o){t.e(o)}finally{t.f()}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0)}else l.warn(this+": unable to unregister handlers - no stream object")}},{key:"_setStream",value:function(e){if(this.stream!==e&&(this.stream=e,this.stream)){var t,n=_createForOfIteratorHelper(this.handlers.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setHandler(r,this.handlers.get(r))}}catch(i){n.e(i)}finally{n.f()}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler)}}},{key:"getVideoType",value:function(){return this.videoType}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===s.a.AUDIO}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===s.a.VIDEO}},{key:"isLocal",value:function(){throw new Error("Not implemented by subclass")}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default"}},{key:"_maybeFireTrackAttached",value:function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)}},{key:"attach",value:function(e){this.stream&&(this._onTrackAttach(e),c.a.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e)}},{key:"detach",value:function(e){if(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var r=t[n];e||(this._onTrackDetach(r),c.a.attachMediaStream(r,null)),e&&r!==e||t.splice(n,1)}e&&(this._onTrackDetach(e),c.a.attachMediaStream(e,null))}}},{key:"_onTrackAttach",value:function(e){}},{key:"_onTrackDetach",value:function(e){}},{key:"_attachTTFMTracker",value:function(e){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?c.a.getStreamID(this.stream):null}},{key:"isActive",value:function(){return void 0===this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(e,t){var n=e;u.a.supportsReceiverStats()&&void 0!==t&&this.isMuted()&&(n=0),this.audioLevel!==n?(this.audioLevel=n,this.emit(a.TRACK_AUDIO_LEVEL_CHANGED,n,t)):0===this.audioLevel&&0===n&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(a.NO_AUDIO_INPUT,n)}},{key:"getMSID",value:function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?"".concat(e," ").concat(t):null}},{key:"setAudioOutput",value:function(e){var t=this;return c.a.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map((function(t){return t.setSinkId(e).catch((function(e){throw l.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e}))}))).then((function(){t.emit(a.TRACK_AUDIO_OUTPUT_CHANGED,e)})):Promise.reject(new Error("Audio output device change is not supported"))}}]),n}(o.a)}).call(this,"/index.js")},function(e,t){e.exports={2160:{width:3840,height:2160},"4k":{width:3840,height:2160},1080:{width:1920,height:1080},fullhd:{width:1920,height:1080},720:{width:1280,height:720},hd:{width:1280,height:720},540:{width:960,height:540},qhd:{width:960,height:540},480:{width:640,height:480},vga:{width:640,height:480},360:{width:640,height:360},240:{width:320,height:240},180:{width:320,height:180}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i=n.n(r),o=n(28),a=n(235),s=n(51),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._procNodeSampleRate=e,o._vadProcessor=r,o._localTrack=i,o._bufferResidue=new Float32Array([]),o._audioContext=Object(a.a)({sampleRate:r.getRequiredPCMFrequency()}),o._vadSampleSize=r.getSampleLength(),o._onAudioProcess=o._onAudioProcess.bind(_assertThisInitialized(o)),o._initializeAudioContext(),o}return _createClass(n,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(e){for(var t=e.inputBuffer.getChannelData(0),n=[].concat(_toConsumableArray(this._bufferResidue),_toConsumableArray(t)),r=Date.now(),i=0;i+this._vadSampleSize<n.length;i+=this._vadSampleSize){var o=n.slice(i,i+this._vadSampleSize),a=this._vadProcessor.calculateAudioFrameVAD(o.slice());this.emit(s.VAD_SCORE_PUBLISHED,{timestamp:r,score:a,pcmData:o,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(i,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(e,t,r){return o.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:e}).then((function(i){if(!i[0])throw new Error("Failed to create jitsi local track for device id: "+e);return new n(t,r,i[0])}))}}]),n}(i.a)},function(e,t,n){"use strict";function r(e){var t=window.AudioContext||window.webkitAudioContext;if(t)return new t(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"E2ePingEvents",(function(){return r})),n.d(t,"E2E_RTT_CHANGED",(function(){return i})),function(e){e.E2E_RTT_CHANGED="e2eping.e2e_rtt_changed"}(r||(r={}));var i=r.E2E_RTT_CHANGED},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=n(161),o=Object(r.getLogger)(e),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._audioContext=null,e._audioProcessingNode=null,e._audioSource=null,e._stream=null,e._sampleRate=44100,e._audioContext=new AudioContext,e._sampleRate=e._audioContext.sampleRate,o.log("Current sampleRate ".concat(e._sampleRate,".")),e}return _createClass(n,[{key:"_initializeAudioContext",value:function(e,t){var n=this;return"function"!=typeof t?Promise.reject("a callback function is required."):this._getAudioStream(e).then((function(e){n._stream=e,n._audioSource=n._audioContext.createMediaStreamSource(e),n._audioProcessingNode=n._audioContext.createScriptProcessor(4096,1,1),n._audioProcessingNode.onaudioprocess=t,o.debug("AudioContext is set up.")})).catch((function(e){return o.error("Error calling getUserMedia(): "+e),Promise.reject(e)}))}},{key:"_connectAudioGraph",value:function(){this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=void 0,this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_replaceMic",value:function(e){var t=this;return this._audioContext&&this._audioProcessingNode?this._getAudioStream(e).then((function(e){var n=t._audioContext.createMediaStreamSource(e);t._audioSource.disconnect(),n.connect(t._audioProcessingNode),t._stream=e,t._audioSource=n})):Promise.resolve()}}]),n}(i.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(5),i=n(3),o=n(4),a=n(68),s=n(105),u=n(22),c=n(1),l=n(16),d=n(230),f=Object(r.getLogger)(e),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).ssrcOwners=new Map,e.chatRoom=null,e._localSourceState={},e._remoteSourceState={},e._sourceNames=new Map,e}return _createClass(n,[{key:"_addLocalSourceInfoToPresence",value:function(){return!!this.chatRoom&&this.chatRoom.addOrReplaceInPresence("SourceInfo",{value:JSON.stringify(this._localSourceState)})}},{key:"_doesEndpointSendNewSourceInfo",value:function(e){var t,n=null===(t=this.chatRoom)||void 0===t?void 0:t.getLastPresence(e);return Boolean(n&&n.find((function(e){return"SourceInfo"===e.tagName})))}},{key:"setChatRoom",value:function(e){var t=this,n=this.chatRoom;this.chatRoom=e,n&&(n.removePresenceListener("audiomuted",this._audioMuteHandler),n.removePresenceListener("videomuted",this._videoMuteHandler),n.removePresenceListener("videoType",this._videoTypeHandler),l.a.isSourceNameSignalingEnabled()&&(this._sourceInfoHandler&&n.removePresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler&&n.removeEventListener(c.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler))),e&&(l.a.isSourceNameSignalingEnabled()?(this._bindChatRoomEventHandlers(e),this._addLocalSourceInfoToPresence()):(this._audioMuteHandler=function(e,n){t.eventEmitter.emit(a.a,n,o.a.AUDIO,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t.eventEmitter.emit(a.a,n,o.a.VIDEO,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,n){t.eventEmitter.emit(a.b,n,e.value)},e.addPresenceListener("videoType",this._videoTypeHandler)))}},{key:"_bindChatRoomEventHandlers",value:function(e){var t=this;this._audioMuteHandler=function(e,n){t._doesEndpointSendNewSourceInfo(n)||function(e,n){t.eventEmitter.emit(a.a,e,o.a.AUDIO,n)}(n,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t._doesEndpointSendNewSourceInfo(n)||function(e,n){t.eventEmitter.emit(a.a,e,o.a.VIDEO,n)}(n,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,n){t._doesEndpointSendNewSourceInfo(n)||function(e,n){t.eventEmitter.emit(a.b,e,n)}(n,e.value)},l.a.isMultiStreamSupportEnabled()||e.addPresenceListener("videoType",this._videoTypeHandler),this._sourceInfoHandler=function(e,n){for(var r,i=n,c=e.value,l=JSON.parse(c),d=t._doesEndpointSendNewSourceInfo(i),f=t._remoteSourceState[i]||(t._remoteSourceState[i]={}),h=0,p=Object.keys(l);h<p.length;h++){var m=p[h],v=Object(s.b)(m),g=Boolean(l[m].muted),_=f[m]||(f[m]={sourceName:m});_.muted!==g&&(_.muted=g,d&&!t._localSourceState[m]&&t.eventEmitter.emit(a.c,m,g));var b=v===o.a.VIDEO?null!==(r=l[m].videoType)&&void 0!==r?r:u.VideoType.CAMERA:void 0;_.videoType!==b&&(_.videoType=b,d&&!t._localSourceState[m]&&t.eventEmitter.emit(a.d,m,b))}for(var y=Object.keys(l),E=0,S=Object.keys(f);E<S.length;E++){var D=S[E];-1===y.indexOf(D)&&delete f[D]}},e.addPresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler=function(e){var n=i.Strophe.getResourceFromJid(e);if(delete t._remoteSourceState[n],l.a.isSourceNameSignalingEnabled()){var r,o=_createForOfIteratorHelper(t.ssrcOwners.entries());try{for(o.s();!(r=o.n()).done;){var a=_slicedToArray(r.value,2),s=a[0];a[1]===n&&delete t._sourceNames[s]}}catch(u){o.e(u)}finally{o.f()}}},e.addEventListener(c.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler)}},{key:"_findEndpointSourceInfoForMediaType",value:function(e,t){var n=this._remoteSourceState[e];if(!n)return null;for(var r=0,i=Object.values(n);r<i.length;r++){var o=i[r];if(Object(s.b)(o.sourceName)===t)return o}return null}},{key:"getPeerMediaInfo",value:function(e,t,n){var r=this,i=function(){if(r.chatRoom)return r.chatRoom.getMediaPresenceInfo(e,t);f.error("Requested peer media info, before room was set")},a=this.chatRoom.getLastPresence(e);if(!a)throw new Error("getPeerMediaInfo - no presence stored for: "+e);if(l.a.isSourceNameSignalingEnabled()){if(!this._doesEndpointSendNewSourceInfo(e))return i();if(n)return this.getPeerSourceInfo(e,n);var s={},u=this._findEndpointSourceInfoForMediaType(e,t);if(t===o.a.AUDIO)s.muted=!u||u.muted;else{if(t!==o.a.VIDEO)throw new Error("Unsupported media type: "+t);s.muted=!u||u.muted,s.videoType=u?u.videoType:void 0;var c=Object(d.b)(a,"jitsi_participant_codecType");c.length>0&&(s.codecType=c[0].value)}return s}return i()}},{key:"getPeerSourceInfo",value:function(e,t){var n,r={muted:!0,videoType:u.VideoType.CAMERA};return this._remoteSourceState[e]?null!==(n=this._remoteSourceState[e][t])&&void 0!==n?n:r:void 0}},{key:"getSSRCOwner",value:function(e){return this.ssrcOwners.get(e)}},{key:"setSSRCOwner",value:function(e,t){if("number"!=typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this.ssrcOwners.get(e);n&&n!==t&&f.error("SSRC owner re-assigned from ".concat(n," to ").concat(t)),this.ssrcOwners.set(e,t)}},{key:"setTrackMuteStatus",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].muted=t,!!this.chatRoom&&this._addLocalSourceInfoToPresence()}},{key:"setTrackVideoType",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].videoType!==t&&(this._localSourceState[e].videoType=t===u.VideoType.CAMERA?void 0:t,this._addLocalSourceInfoToPresence())}},{key:"getTrackSourceName",value:function(e){return this._sourceNames.get(e)}},{key:"setTrackSourceName",value:function(e,t){if("number"!=typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this._sourceNames.get(e);n&&n!==t&&f.error("SSRC(".concat(e,") sourceName re-assigned from ").concat(n," to ").concat(t)),this._sourceNames.set(e,t)}}]),n}(s.a)}).call(this,"/index.js")},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o){n.c(r,i,o),(e._||(e._=e.render||e.renderer||e))(t,n),n.g_=null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(0),i=n(40),o=n(107),a=n(192),s=n(59),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=Object(r.e)(t._breadcrumbs),n._tags=Object(r.a)({},t._tags),n._extra=Object(r.a)({},t._extra),n._contexts=Object(r.a)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=Object(r.e)(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=Object(r.a)(Object(r.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=Object(r.a)(Object(r.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(r.a)(Object(r.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=Object(r.a)(Object(r.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(r.a)(Object(r.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Object(r.a)(Object(r.a)({},this._tags),t._tags),this._extra=Object(r.a)(Object(r.a)({},this._extra),t._extra),this._contexts=Object(r.a)(Object(r.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Object(i.i)(t)&&(this._tags=Object(r.a)(Object(r.a)({},this._tags),t.tags),this._extra=Object(r.a)(Object(r.a)({},this._extra),t.extra),this._contexts=Object(r.a)(Object(r.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var i=Object(r.a)({timestamp:Object(o.b)()},e);return this._breadcrumbs=Object(r.e)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(r.a)(Object(r.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(r.a)(Object(r.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(r.a)(Object(r.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(r.a)(Object(r.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(r.a)({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=Object(r.a)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(r.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Object(r.e)(c(),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=Object(r.a)(Object(r.a)({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.a((function(a,u){var c=e[o];if(null===t||"function"!=typeof c)a(t);else{var l=c(Object(r.a)({},t),n);Object(i.n)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(e,l,n,o+1).then(a).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function c(){return Object(s.b)("globalEventProcessors",(function(){return[]}))}function l(e){c().push(e)}},function(e,t,n){"use strict";var r=n(333);n.d(t,"a",(function(){return r.a}))},function(e,t){e.exports=function(){"use strict";function e(t,n,r){_classCallCheck(this,e),this._userId=t,this.setDisplayName(n),this._isLocalStats=r||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1,this._faceExpressions={happy:0,neutral:0,surprised:0,angry:0,fearful:0,disgusted:0,sad:0}}return _createClass(e,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(e){if(!this.isDominantSpeaker()&&e)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!e){var t=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=t,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var e=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(e+=Date.now()-this._dominantSpeakerStart),e}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}},{key:"getFaceExpressions",value:function(){return this._faceExpressions}},{key:"setFaceExpressions",value:function(e){this._faceExpressions=e}},{key:"addFaceExpression",value:function(e,t){this._faceExpressions[e]+=t}}]),e}()},function(e,t,n){"use strict";var r=n(34),i=n.n(r),o=n(141),a=n(28),s=n(6),u=n(10),c=n(4),l=n(11);t.a=new(function(){function e(){var t=this;_classCallCheck(this,e),this._eventEmitter=new i.a,this._permissions={},a.a.addListener(l.default.DEVICE_LIST_CHANGED,(function(e){return t._eventEmitter.emit(o.DEVICE_LIST_CHANGED,e)})),a.a.addListener(l.default.DEVICE_LIST_AVAILABLE,(function(e){return t._logOutputDevice(t.getAudioOutputDevice(),e)})),a.a.addListener(l.default.PERMISSIONS_CHANGED,(function(e){return t._handlePermissionsChange(e)})),this._permissionsApiSupported=new Promise((function(e){if(navigator.permissions){var n=t,r=[];r.push(navigator.permissions.query({name:"camera"}).then((function(e){return t._handlePermissionsChange(_defineProperty({},c.a.VIDEO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(_defineProperty({},c.a.VIDEO,n._parsePermissionState(this)))}catch(e){}},!0})).catch((function(){return!1}))),r.push(navigator.permissions.query({name:"microphone"}).then((function(e){return t._handlePermissionsChange(_defineProperty({},c.a.AUDIO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(_defineProperty({},c.a.AUDIO,n._parsePermissionState(this)))}catch(e){}},!0})).catch((function(){return!1}))),Promise.all(r).then((function(t){return e(t.every((function(e){return e})))}))}else e(!1)}))}return _createClass(e,[{key:"_parsePermissionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state||e.status;if("string"!=typeof t)throw new TypeError;return"granted"===t}},{key:"_handlePermissionsChange",value:function(e){var t=this;[c.a.AUDIO,c.a.VIDEO].some((function(n){return n in e&&e[n]!==t._permissions[n]}))&&(this._permissions=Object.assign(Object.assign({},this._permissions),e),this._eventEmitter.emit(o.PERMISSIONS_CHANGED,this._permissions),(this._permissions[c.a.AUDIO]||this._permissions[c.a.VIDEO])&&this.enumerateDevices((function(){})))}},{key:"_logOutputDevice",value:function(e,t){var n=t.find((function(t){return"audiooutput"===t.kind&&t.deviceId===e}));n&&u.a.sendActiveDeviceListEvent(a.a.getEventDataForActiveDevice(n))}},{key:"enumerateDevices",value:function(e){a.a.enumerateDevices(e)}},{key:"isDeviceListAvailable",value:function(){return a.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return a.a.isDeviceChangeAvailable(e)}},{key:"isDevicePermissionGranted",value:function(e){var t=this;return new Promise((function(n){e in t._permissions?n(t._permissions[e]):t._permissionsApiSupported.then((function(r){if(r){var i=[];switch(e){case c.a.VIDEO:i.push(navigator.permissions.query({name:"camera"}));break;case c.a.AUDIO:i.push(navigator.permissions.query({name:"microphone"}));break;default:i.push(navigator.permissions.query({name:"camera"})),i.push(navigator.permissions.query({name:"microphone"}))}Promise.all(i).then((function(e){return n(e.every((function(e){try{return t._parsePermissionState(e)}catch(e){return!1}})))}),(function(){return n(!1)}))}else n(!1)}))}))}},{key:"isMultipleAudioInputSupported",value:function(){return!(s.a.isFirefox()||s.a.isIosBrowser())}},{key:"getAudioOutputDevice",value:function(){return a.a.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(e){return a.a.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(e,a.a.getCurrentlyAvailableMediaDevices()),a.a.setAudioOutputDevice(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"emitEvent",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._eventEmitter).emit.apply(t,[e].concat(r))}}]),e}())},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.setElementFocusEffect=function(e,t){return e.pipe(r.withLatestFrom(t.service$),r.tap((function(e){var t=e[0],n=(e[1],t.index),r=t.tagname,i=t.type,a=(t.value,document.getElementsByTagName(r)[n]),s=o.getOptions(t);if(a)if("function"==typeof FocusEvent){var u=new FocusEvent(i,s);a.dispatchEvent(u)}else if(document.createEvent){var c=o.getFlatOptions(t);window.setTimeout((function(){var e=document.createEvent("FocusEvent");e.initEvent(i,c),a.dispatchEvent(e)}),0)}})))},t.simulateFocusEvent=function(e){return[i.EffectNames.SetFocusEffect,e]}},function(e,t,n){"use strict";var r=n(144),i=n(575),o=n(576),a=n(577),s=n(578),u=n(579),c=n(580),l=/[&<]/;function d(e,t,n){for(var r=e.firstChild;r;)t.bs_(f(r,n)),r=r.nextSibling}function f(e,t){switch(e.nodeType){case 1:return o.bO_(e,d,t);case 3:return new a(e.nodeValue,t);case 11:var n=new i;return d(e,n,t),n}}function h(e,t){if(!l.test(e))return new a(e,t);for(var n=new i,r=c(e);r;)n.bs_(f(r,t)),r=r.nextSibling;return n}var p=r.prototype;p.t=function(e){var t,n=typeof e;return"string"!==n&&(null==e?e="":"object"===n&&e.toHTML&&(t=h(e.toHTML()))),this.bs_(t||new a(e.toString())),this.bL_()},p.bx_=function(){return this.bs_(new i)},t.bc_=i,t.bb_=o,t.bd_=a,t.be_=s,t.bf_=u,t.bO_=f,t.bg_=h},function(e,t,n){"use strict";var r=n(248).aG_,i={nodeType:12,get firstChild(){var e=this.startNode.nextSibling;return e===this.endNode?void 0:e},get lastChild(){var e=this.endNode.previousSibling;return e===this.startNode?void 0:e},get parentNode(){var e=this.startNode.parentNode;return e===this.detachedContainer?void 0:e},get namespaceURI(){return this.startNode.parentNode.namespaceURI},get nextSibling(){return this.endNode.nextSibling},get nodes(){for(var e=[],t=this.startNode;t!==this.endNode;)e.push(t),t=t.nextSibling;return e.push(t),e},insertBefore:function(e,t){var n=null==t?this.endNode:t;return r(e,n,this.startNode.parentNode)},insertInto:function(e,t){return this.nodes.forEach((function(n){r(n,t,e)}),this),this},remove:function(){this.nodes.forEach((function(e){this.detachedContainer.appendChild(e)}),this)}};function o(e,t,n){var o=Object.create(i),a=e&&e.ownerDocument===e.parentNode;o.startNode=a?document.createComment(""):document.createTextNode(""),o.endNode=a?document.createComment(""):document.createTextNode(""),o.startNode.fragment=o,o.endNode.fragment=o;var s=o.detachedContainer=document.createDocumentFragment();return n=n||e&&e.parentNode||s,r(o.startNode,e,n),r(o.endNode,t,n),o}t.ao_=o,t.c__=function(e,t){var n=o(e,null,t);return n.bZ_=function(i){n.bZ_=null,r(n.endNode,i,t||e.parentNode)},n}},function(e,t,n){"use strict";function r(e,t,n){return e.insertInto?e.insertInto(n,t):n.insertBefore(e,t&&t.startNode||t)}t.aG_=r,t.aH_=function(e,t,n){return r(e,t&&t.nextSibling,n)},t.bT_=function(e){var t=e.nextSibling,n=t&&t.fragment;return n?t===n.startNode?n:null:t},t._r_=function(e){var t=e.firstChild;return t&&t.fragment||t},t.aI_=function(e){e.remove?e.remove():e.parentNode.removeChild(e)}},function(e,t,n){"use strict";var r;function i(e){return r(e)}i.aF_=function(e){r=e},e.exports=i},function(e,t,n){"use strict";var r=n(24),i=n(335),o=n(32).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,o,a){return u(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return u(e+(t&r|n&~r)+i+o|0,a)+t|0}function d(e,t,n,r,i,o,a){return u(e+(t^n^r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return u(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,e[0],3614090360,7),o=c(o,n,r,i,e[1],3905402710,12),i=c(i,o,n,r,e[2],606105819,17),r=c(r,i,o,n,e[3],3250441966,22),n=c(n,r,i,o,e[4],4118548399,7),o=c(o,n,r,i,e[5],1200080426,12),i=c(i,o,n,r,e[6],2821735955,17),r=c(r,i,o,n,e[7],4249261313,22),n=c(n,r,i,o,e[8],1770035416,7),o=c(o,n,r,i,e[9],2336552879,12),i=c(i,o,n,r,e[10],4294925233,17),r=c(r,i,o,n,e[11],2304563134,22),n=c(n,r,i,o,e[12],1804603682,7),o=c(o,n,r,i,e[13],4254626195,12),i=c(i,o,n,r,e[14],2792965006,17),n=l(n,r=c(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,n,r,i,e[6],3225465664,9),i=l(i,o,n,r,e[11],643717713,14),r=l(r,i,o,n,e[0],3921069994,20),n=l(n,r,i,o,e[5],3593408605,5),o=l(o,n,r,i,e[10],38016083,9),i=l(i,o,n,r,e[15],3634488961,14),r=l(r,i,o,n,e[4],3889429448,20),n=l(n,r,i,o,e[9],568446438,5),o=l(o,n,r,i,e[14],3275163606,9),i=l(i,o,n,r,e[3],4107603335,14),r=l(r,i,o,n,e[8],1163531501,20),n=l(n,r,i,o,e[13],2850285829,5),o=l(o,n,r,i,e[2],4243563512,9),i=l(i,o,n,r,e[7],1735328473,14),n=d(n,r=l(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=d(o,n,r,i,e[8],2272392833,11),i=d(i,o,n,r,e[11],1839030562,16),r=d(r,i,o,n,e[14],4259657740,23),n=d(n,r,i,o,e[1],2763975236,4),o=d(o,n,r,i,e[4],1272893353,11),i=d(i,o,n,r,e[7],4139469664,16),r=d(r,i,o,n,e[10],3200236656,23),n=d(n,r,i,o,e[13],681279174,4),o=d(o,n,r,i,e[0],3936430074,11),i=d(i,o,n,r,e[3],3572445317,16),r=d(r,i,o,n,e[6],76029189,23),n=d(n,r,i,o,e[9],3654602809,4),o=d(o,n,r,i,e[12],3873151461,11),i=d(i,o,n,r,e[15],530742520,16),n=f(n,r=d(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=f(o,n,r,i,e[7],1126891415,10),i=f(i,o,n,r,e[14],2878612391,15),r=f(r,i,o,n,e[5],4237533241,21),n=f(n,r,i,o,e[12],1700485571,6),o=f(o,n,r,i,e[3],2399980690,10),i=f(i,o,n,r,e[10],4293915773,15),r=f(r,i,o,n,e[1],2240044497,21),n=f(n,r,i,o,e[8],1873313359,6),o=f(o,n,r,i,e[15],4264355552,10),i=f(i,o,n,r,e[6],2734768916,15),r=f(r,i,o,n,e[13],1309151649,21),n=f(n,r,i,o,e[4],4149444226,6),o=f(o,n,r,i,e[11],3174756917,10),i=f(i,o,n,r,e[2],718787259,15),r=f(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(147).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,d=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,n){"use strict";var r=n(62).Buffer,i=n(24),o=n(335),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function v(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function _(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,y=0|this._a,E=0|this._b,S=0|this._c,D=0|this._d,w=0|this._e,C=0;C<80;C+=1){var T,A;C<16?(T=m(n,r,i,o,h,e[s[C]],d[0],c[C]),A=b(y,E,S,D,w,e[u[C]],f[0],l[C])):C<32?(T=v(n,r,i,o,h,e[s[C]],d[1],c[C]),A=_(y,E,S,D,w,e[u[C]],f[1],l[C])):C<48?(T=g(n,r,i,o,h,e[s[C]],d[2],c[C]),A=g(y,E,S,D,w,e[u[C]],f[2],l[C])):C<64?(T=_(n,r,i,o,h,e[s[C]],d[3],c[C]),A=v(y,E,S,D,w,e[u[C]],f[3],l[C])):(T=b(n,r,i,o,h,e[s[C]],d[4],c[C]),A=m(y,E,S,D,w,e[u[C]],f[4],l[C])),n=h,h=o,o=p(i,10),i=r,r=T,y=w,w=D,D=p(S,10),S=E,E=A}var k=this._b+i+D|0;this._b=this._c+o+w|0,this._c=this._d+h+y|0,this._d=this._e+n+E|0,this._e=this._a+r+S|0,this._a=k},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(614),t.sha1=n(615),t.sha224=n(616),t.sha256=n(342),t.sha384=n(617),t.sha512=n(343)},function(e,t,n){(t=e.exports=n(344)).Stream=t,t.Readable=t,t.Writable=n(257),t.Duplex=n(129),t.Transform=n(347),t.PassThrough=n(622)},function(e,t,n){var r=n(62),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var o=n(202);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=_;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=g;var c=Object.create(n(182));c.inherits=n(24);var l,d={deprecate:n(251)},f=n(345),h=n(256).Buffer,p=i.Uint8Array||function(){},m=n(346);function v(){}function g(e,t){s=s||n(129),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,n,r,t,i);else{var a=S(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?u(y,e,n,a,i):y(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(e){if(s=s||n(129),!(l.call(_,this)||this instanceof s))return new _(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)}))}function w(e,t){var n=S(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(_,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===_&&e&&e._writableState instanceof g}})):l=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return u}(this,i,s,e,t,n)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(45),n(327).setImmediate,n(49))},function(e,t,n){"use strict";var r=n(81);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var r=n(635),i=n(643),o=n(360);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var r={ECB:n(636),CBC:n(637),CFB:n(638),CFB8:n(639),CFB1:n(640),OFB:n(641),CTR:n(358),GCM:n(358)},i=n(360);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(647);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";var r=n(150).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,d=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,n){(function(t){var r=n(660),i=n(146);function o(e){var t,n=e.modulus.byteLength();do{t=new r(i(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,n){var i=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),s=new r(e).mul(i.blinder).umod(n.modulus),u=s.toRed(r.mont(n.prime1)),c=s.toRed(r.mont(n.prime2)),l=n.coefficient,d=n.prime1,f=n.prime2,h=u.redPow(n.exponent1).fromRed(),p=c.redPow(n.exponent2).fromRed(),m=h.isub(p).imul(l).umod(d).imul(f);return p.iadd(m).imul(i.unblinder).umod(n.modulus).toArrayLike(t,"be",a)}a.getr=o,e.exports=a}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r=t;r.version=n(662).version,r.utils=n(82),r.rand=n(261),r.curve=n(372),r.curves=n(265),r.ec=n(673),r.eddsa=n(677)},function(e,t,n){"use strict";var r,i=t,o=n(266),a=n(372),s=n(82).assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(672)}catch(e){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){var r=t;r.utils=n(96),r.common=n(184),r.sha=n(666),r.ripemd=n(670),r.hmac=n(671),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";(function(t){var r,i=n(62),o=i.Buffer,a={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=i[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),s.alloc||(s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this,n(45))},function(e,t,n){"use strict";var r=n(269).Reporter,i=n(185).EncoderBuffer,o=n(185).DecoderBuffer,a=n(81),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t,n){var r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=c;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){c.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(e,u,n.any),e.isError(a))return a}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(c)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var d=e.offset;if(null===n.use&&null===n.choice){var f;n.any&&(f=e.save());var h=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(h))return h;n.any?i=e.raw(f):e=h}if(t&&t.track&&null!==n.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},c.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:o,value:u},i=!0}catch(t){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);return void 0===i||this._skipDefault(i,t,n)?void 0:i}},c.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),u))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,n){"use strict";var r=n(24);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){"use strict";function r(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},function(e,t,n){"use strict";var r=n(700);function i(e,t){var n,i,o;t?(n=t.e_,i=t.j_,(o=t._Q_)||(o=t._Q_=[]),o.push(this)):void 0===(n=e.global.b_)&&(e.global.b_=n=new r(e)),this.e_=n,this.b_=[],this.y_=e,this.j_=i,this._Q_=void 0,this.p_=t&&t.p_}i.prototype={z_:function(e){var t=this.b_;return i._R_(t,e),this.y_.emit("_S_"),this.y_.global.b_=void 0,t}},e.exports=t=i,t.o_=function(e){return e.b_||(e.b_=new i(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"Channel",(function(){return b})),n.d(t,"LongPoll",(function(){return E})),n.d(t,"Presence",(function(){return S})),n.d(t,"Serializer",(function(){return D})),n.d(t,"Socket",(function(){return w}));var r=function(e){return"function"==typeof e?e:function(){return e}},i="undefined"!=typeof self?self:null,o="undefined"!=typeof window?window:null,a=i||o||a,s="closed",u="errored",c="joined",l="joining",d="leaving",f="phx_close",h="phx_error",p="phx_reply",m="phx_leave",v="websocket",g=function(){function e(t,n,r,i){_classCallCheck(this,e),this.channel=t,this.event=n,this.payload=r||function(){return{}},this.receivedResp=null,this.timeout=i,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return _createClass(e,[{key:"resend",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"receive",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:"reset",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:"matchReceive",value:function(e){var t=e.status,n=e.response;e._ref,this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}},{key:"hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:"trigger",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),_=function(){function e(t,n){_classCallCheck(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return _createClass(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),b=function(){function e(t,n,i){var o=this;_classCallCheck(this,e),this.state=s,this.topic=t,this.params=r(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new g(this,"phx_join",this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new _((function(){o.socket.isConnected()&&o.rejoin()}),this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError((function(){return o.rejoinTimer.reset()}))),this.stateChangeRefs.push(this.socket.onOpen((function(){o.rejoinTimer.reset(),o.isErrored()&&o.rejoin()}))),this.joinPush.receive("ok",(function(){o.state=c,o.rejoinTimer.reset(),o.pushBuffer.forEach((function(e){return e.send()})),o.pushBuffer=[]})),this.joinPush.receive("error",(function(){o.state=u,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.onClose((function(){o.rejoinTimer.reset(),o.socket.hasLogger()&&o.socket.log("channel","close ".concat(o.topic," ").concat(o.joinRef())),o.state=s,o.socket.remove(o)})),this.onError((function(e){o.socket.hasLogger()&&o.socket.log("channel","error "+o.topic,e),o.isJoining()&&o.joinPush.reset(),o.state=u,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.joinPush.receive("timeout",(function(){o.socket.hasLogger()&&o.socket.log("channel","timeout ".concat(o.topic," (").concat(o.joinRef(),")"),o.joinPush.timeout),new g(o,m,r({}),o.timeout).send(),o.state=u,o.joinPush.reset(),o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.on(p,(function(e,t){o.trigger(o.replyEventName(t),e)}))}return _createClass(e,[{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:"onClose",value:function(e){this.on(f,e)}},{key:"onError",value:function(e){return this.on(h,(function(t){return e(t)}))}},{key:"on",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:"off",value:function(e,t){this.bindings=this.bindings.filter((function(n){return!(n.event===e&&(void 0===t||t===n.ref))}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(t=t||{},!this.joinedOnce)throw new Error("tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.join() before pushing events"));var r=new g(this,e,(function(){return t}),n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"leave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=d;var n=function(){e.socket.hasLogger()&&e.socket.log("channel","leave "+e.topic),e.trigger(f,"leave")},i=new g(this,m,r({}),t);return i.receive("ok",(function(){return n()})).receive("timeout",(function(){return n()})),i.send(),this.canPush()||i.trigger("ok",{}),i}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isMember",value:function(e,t,n,r){return this.topic===e&&(!r||r===this.joinRef()||(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1))}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=l,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,n,r){var i=this.onMessage(e,t,n,r);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");for(var o=this.bindings.filter((function(t){return t.event===e})),a=0;a<o.length;a++)o[a].callback(i,n,r||this.joinRef())}},{key:"replyEventName",value:function(e){return"chan_reply_"+e}},{key:"isClosed",value:function(){return this.state===s}},{key:"isErrored",value:function(){return this.state===u}},{key:"isJoined",value:function(){return this.state===c}},{key:"isJoining",value:function(){return this.state===l}},{key:"isLeaving",value:function(){return this.state===d}}]),e}(),y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"request",value:function(e,t,n,r,i,o,s){if(a.XDomainRequest){var u=new a.XDomainRequest;return this.xdomainRequest(u,e,t,r,i,o,s)}var c=new a.XMLHttpRequest;return this.xhrRequest(c,e,t,n,r,i,o,s)}},{key:"xdomainRequest",value:function(e,t,n,r,i,o,a){var s=this;return e.timeout=i,e.open(t,n),e.onload=function(){var t=s.parseJSON(e.responseText);a&&a(t)},o&&(e.ontimeout=o),e.onprogress=function(){},e.send(r),e}},{key:"xhrRequest",value:function(e,t,n,r,i,o,a,s){var u=this;return e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=function(){return s&&s(null)},e.onreadystatechange=function(){if(4===e.readyState&&s){var t=u.parseJSON(e.responseText);s(t)}},a&&(e.ontimeout=a),e.send(i),e}},{key:"parseJSON",value:function(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}},{key:"serialize",value:function(e,t){var n=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=t?"".concat(t,"[").concat(r,"]"):r,o=e[r];"object"==typeof o?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}},{key:"appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?";return"".concat(e).concat(n).concat(this.serialize(t))}}]),e}(),E=function(){function e(t){_classCallCheck(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=0,this.poll()}return _createClass(e,[{key:"normalizeEndpoint",value:function(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+v),"$1/longpoll")}},{key:"endpointURL",value:function(){return y.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(e,t,n){this.close(e,t,n),this.readyState=0}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}},{key:"isActive",value:function(){return 1===this.readyState||0===this.readyState}},{key:"poll",value:function(){var e=this;this.ajax("GET",null,(function(){return e.ontimeout()}),(function(t){if(t){var n=t.status,r=t.token,i=t.messages;e.token=r}else n=0;switch(n){case 200:i.forEach((function(t){setTimeout((function(){return e.onmessage({data:t})}),0)})),e.poll();break;case 204:e.poll();break;case 410:e.readyState=1,e.onopen({}),e.poll();break;case 403:e.onerror(403),e.close(1008,"forbidden",!1);break;case 0:case 500:e.onerror(500),e.closeAndRetry(1011,"internal server error",500);break;default:throw new Error("unhandled poll status "+n)}}))}},{key:"send",value:function(e){var t=this;this.ajax("POST",e,(function(){return t.onerror("timeout")}),(function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry(1011,"internal server error",!1))}))}},{key:"close",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.reqs);try{for(i.s();!(r=i.n()).done;)r.value.abort()}catch(a){i.e(a)}finally{i.f()}this.readyState=3;var o=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});"undefined"!=typeof CloseEvent?this.onclose(new CloseEvent("close",o)):this.onclose(o)}},{key:"ajax",value:function(e,t,n,r){var i,o=this;i=y.request(e,this.endpointURL(),"application/json",t,this.timeout,(function(){o.reqs.delete(i),n()}),(function(e){o.reqs.delete(i),o.isActive()&&r(e)})),this.reqs.add(i)}}]),e}(),S=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e);var i=r.events||{state:"presence_state",diff:"presence_diff"};this.state={},this.pendingDiffs=[],this.channel=t,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(i.state,(function(t){var r=n.caller,i=r.onJoin,o=r.onLeave,a=r.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,i,o),n.pendingDiffs.forEach((function(t){n.state=e.syncDiff(n.state,t,i,o)})),n.pendingDiffs=[],a()})),this.channel.on(i.diff,(function(t){var r=n.caller,i=r.onJoin,o=r.onLeave,a=r.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,i,o),a())}))}return _createClass(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"list",value:function(t){return e.list(this.state,t)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(e,t,n,r){var i=this,o=this.clone(e),a={},s={};return this.map(o,(function(e,n){t[e]||(s[e]=n)})),this.map(t,(function(e,t){var n=o[e];if(n){var r=t.metas.map((function(e){return e.phx_ref})),u=n.metas.map((function(e){return e.phx_ref})),c=t.metas.filter((function(e){return u.indexOf(e.phx_ref)<0})),l=n.metas.filter((function(e){return r.indexOf(e.phx_ref)<0}));c.length>0&&(a[e]=t,a[e].metas=c),l.length>0&&(s[e]=i.clone(n),s[e].metas=l)}else a[e]=t})),this.syncDiff(o,{joins:a,leaves:s},n,r)}},{key:"syncDiff",value:function(e,t,n,r){var i=this,o=this.clone(t),a=o.joins,s=o.leaves;return n||(n=function(){}),r||(r=function(){}),this.map(a,(function(t,r){var o=e[t];if(e[t]=i.clone(r),o){var a,s=e[t].metas.map((function(e){return e.phx_ref})),u=o.metas.filter((function(e){return s.indexOf(e.phx_ref)<0}));(a=e[t].metas).unshift.apply(a,_toConsumableArray(u))}n(t,o,r)})),this.map(s,(function(t,n){var i=e[t];if(i){var o=n.metas.map((function(e){return e.phx_ref}));i.metas=i.metas.filter((function(e){return o.indexOf(e.phx_ref)<0})),r(t,i,n),0===i.metas.length&&delete e[t]}})),e}},{key:"list",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,(function(e,n){return t(e,n)}))}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),D={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode:function(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));var n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode:function(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));var n=JSON.parse(e),r=_slicedToArray(n,5);return t({join_ref:r[0],ref:r[1],topic:r[2],event:r[3],payload:r[4]})},binaryEncode:function(e){var t=e.join_ref,n=e.ref,r=e.event,i=e.topic,o=e.payload,a=this.META_LENGTH+t.length+n.length+i.length+r.length,s=new ArrayBuffer(this.HEADER_LENGTH+a),u=new DataView(s),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,t.length),u.setUint8(c++,n.length),u.setUint8(c++,i.length),u.setUint8(c++,r.length),Array.from(t,(function(e){return u.setUint8(c++,e.charCodeAt(0))})),Array.from(n,(function(e){return u.setUint8(c++,e.charCodeAt(0))})),Array.from(i,(function(e){return u.setUint8(c++,e.charCodeAt(0))})),Array.from(r,(function(e){return u.setUint8(c++,e.charCodeAt(0))}));var l=new Uint8Array(s.byteLength+o.byteLength);return l.set(new Uint8Array(s),0),l.set(new Uint8Array(o),s.byteLength),l.buffer},binaryDecode:function(e){var t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush:function(e,t,n){var r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,s=n.decode(e.slice(a,a+r));a+=r;var u=n.decode(e.slice(a,a+i));a+=i;var c=n.decode(e.slice(a,a+o));return a+=o,{join_ref:s,ref:null,topic:u,event:c,payload:e.slice(a,e.byteLength)}},decodeReply:function(e,t,n){var r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),a=t.getUint8(4),s=this.HEADER_LENGTH+this.META_LENGTH,u=n.decode(e.slice(s,s+r));s+=r;var c=n.decode(e.slice(s,s+i));s+=i;var l=n.decode(e.slice(s,s+o));s+=o;var d=n.decode(e.slice(s,s+a));s+=a;var f=e.slice(s,e.byteLength);return{join_ref:u,ref:c,topic:l,event:p,payload:{status:d,response:f}}},decodeBroadcast:function(e,t,n){var r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(e.slice(o,o+r));o+=r;var s=n.decode(e.slice(o,o+i));return o+=i,{join_ref:null,ref:null,topic:a,event:s,payload:e.slice(o,e.byteLength)}}},w=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||a.WebSocket||E,this.establishedConnections=0,this.defaultEncoder=D.encode.bind(D),this.defaultDecoder=D.decode.bind(D),this.closeWasClean=!1,this.binaryType=i.binaryType||"arraybuffer",this.connectClock=1,this.transport!==E?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);var s=null;o&&o.addEventListener&&(o.addEventListener("pagehide",(function(e){n.conn&&(n.disconnect(),s=n.connectClock)})),o.addEventListener("pageshow",(function(e){s===n.connectClock&&(s=null,n.connect())}))),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(e){return i.rejoinAfterMs?i.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4},this.reconnectAfterMs=function(e){return i.reconnectAfterMs?i.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=r(i.params||{}),this.endPoint="".concat(t,"/").concat(v),this.vsn=i.vsn||"2.0.0",this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new _((function(){n.teardown((function(){return n.connect()}))}),this.reconnectAfterMs)}return _createClass(e,[{key:"getLongPollTransport",value:function(){return E}},{key:"replaceTransport",value:function(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}},{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var e=y.appendParams(y.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?"".concat(this.protocol(),":").concat(e):"".concat(this.protocol(),"://").concat(location.host).concat(e)}},{key:"disconnect",value:function(e,t,n){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:"connect",value:function(e){var t=this;e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=r(e)),this.conn||(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"hasLogger",value:function(){return null!==this.logger}},{key:"onOpen",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}},{key:"onClose",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}},{key:"onError",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}},{key:"onMessage",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}},{key:"ping",value:function(e){var t=this;if(!this.isConnected())return!1;var n=this.makeRef(),r=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:n});var i=this.onMessage((function(o){o.ref===n&&(t.off([i]),e(Date.now()-r))}));return!0}},{key:"clearHeartbeats",value:function(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}},{key:"onConnOpen",value:function(){this.hasLogger()&&this.log("transport","connected to "+this.endPointURL()),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return(0,_slicedToArray(e,2)[1])()}))}},{key:"heartbeatTimeout",value:function(){var e=this;this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown((function(){return e.reconnectTimer.scheduleTimeout()}),1e3,"heartbeat timeout"))}},{key:"resetHeartbeat",value:function(){var e=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout((function(){return e.sendHeartbeat()}),this.heartbeatIntervalMs))}},{key:"teardown",value:function(e,t,n){var r=this;if(!this.conn)return e&&e();this.waitForBufferDone((function(){r.conn&&(t?r.conn.close(t,n||""):r.conn.close()),r.waitForSocketClosed((function(){r.conn&&(r.conn.onopen=function(){},r.conn.onerror=function(){},r.conn.onmessage=function(){},r.conn.onclose=function(){},r.conn=null),e&&e()}))}))}},{key:"waitForBufferDone",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.bufferedAmount?setTimeout((function(){t.waitForBufferDone(e,n+1)}),150*n):e()}},{key:"waitForSocketClosed",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&3!==this.conn.readyState?setTimeout((function(){t.waitForSocketClosed(e,n+1)}),150*n):e()}},{key:"onConnClose",value:function(e){var t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),this.closeWasClean||1e3===t||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return(0,_slicedToArray(t,2)[1])(e)}))}},{key:"onConnError",value:function(e){this.hasLogger()&&this.log("transport",e);var t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach((function(r){(0,_slicedToArray(r,2)[1])(e,t,n)})),(t===this.transport||n>0)&&this.triggerChanError()}},{key:"triggerChanError",value:function(){this.channels.forEach((function(e){e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(h)}))}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"off",value:function(e){for(var t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter((function(t){var n=_slicedToArray(t,1)[0];return-1===e.indexOf(n)}))}},{key:"channel",value:function(e){var t=new b(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this);return this.channels.push(t),t}},{key:"push",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,r=e.event,i=e.payload,o=e.ref,a=e.join_ref;this.log("push","".concat(n," ").concat(r," (").concat(a,", ").concat(o,")"),i)}this.isConnected()?this.encode(e,(function(e){return t.conn.send(e)})):this.sendBuffer.push((function(){return t.encode(e,(function(e){return t.conn.send(e)}))}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"sendHeartbeat",value:function(){var e=this;this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout((function(){return e.heartbeatTimeout()}),this.heartbeatIntervalMs))}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,r=e.event,i=e.payload,o=e.ref,a=e.join_ref;o&&o===t.pendingHeartbeatRef&&(t.clearHeartbeats(),t.pendingHeartbeatRef=null,t.heartbeatTimer=setTimeout((function(){return t.sendHeartbeat()}),t.heartbeatIntervalMs)),t.hasLogger()&&t.log("receive","".concat(i.status||""," ").concat(n," ").concat(r," ").concat(o&&"("+o+")"||""),i);for(var s=0;s<t.channels.length;s++){var u=t.channels[s];u.isMember(n,r,i,a)&&u.trigger(r,i,o,a)}for(var c=0;c<t.stateChangeCallbacks.message.length;c++)(0,_slicedToArray(t.stateChangeCallbacks.message[c],2)[1])(e)}))}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.hasLogger()&&this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.leave())}}]),e}()},function(e,t,n){"use strict";e.exports=function e(t){switch(typeof t){case"string":return t||null;case"object":var n="",r="";if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++){var a=e(t[i]);a&&(n+=r+a,r=" ")}else for(var s in t)t[s]&&(n+=r+s,r=" ");return n||null;default:return null}}},function(e,t){e.exports={IDENTITY_UPDATED:"authentication.identity_updated"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(103),i=n(59),o=n(41);function a(){if(!("fetch"in Object(i.a)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function u(){if(!a())return!1;var e=Object(i.a)();if(s(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var u=n.createElement("iframe");u.hidden=!0,n.head.appendChild(u),u.contentWindow&&u.contentWindow.fetch&&(t=s(u.contentWindow.fetch)),n.head.removeChild(u)}catch(e){r.a&&o.c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function c(){if(!a())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=Object(i.a)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,d=Math.max,f=Math.min,h=function(){return c.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=i.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||v&&e-c>=o}function y(){var e=h();if(b(e))return E(e);s=setTimeout(y,function(e){var n=t-(e-u);return v?f(n,o-(e-c)):n}(e))}function E(e){return s=void 0,g&&r?_(e):(r=i=void 0,a)}function S(){var e=h(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(y,t),l?_(e):a}(u);if(v)return s=setTimeout(y,t),_(u)}return void 0===s&&(s=setTimeout(y,t)),a}return t=m(t)||0,p(n)&&(l=!!n.leading,o=(v="maxWait"in n)?d(m(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},S.flush=function(){return void 0===s?a:E(h())},S}}).call(this,n(49))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function i(e){return r(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new TextEncoder,t.abrupt("return",crypto.subtle.deriveBits({name:"HKDF",salt:n.encode("JFrameRatchetKey"),hash:"SHA-256",info:new ArrayBuffer},e,256));case 2:case"end":return t.stop()}}),t)})))}function o(e){return r(this,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveBits","deriveKey"]));case 1:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(3),i=n(1),o=n(46),a=["category","type","lang","name"],s=["category","type","lang"];function u(e,t){var n=0;return s.some((function(r){return 0!==(n=e[r]>t[r]?1:e[r]<t[r]&&-1)})),n}function c(e){var t=new Set,n=new Set;return $(e).find(">query>feature").each((function(e,n){return t.add(n.getAttribute("var"))})),$(e).find(">query>identity").each((function(e,t){return n.add({type:t.getAttribute("type"),name:t.getAttribute("name"),category:t.getAttribute("category")})})),{features:t,identities:n}}var l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://jitsi.org/jitsimeet";if((e=t.call(this)).node=a,e.disco=o.disco,!e.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");e.version="",e.rooms=new Set,e.externalFeatures=new Set;var s=o.emuc;return s.addListener(i.XMPPEvents.EMUC_ROOM_ADDED,(function(t){return e._addChatRoom(t)})),s.addListener(i.XMPPEvents.EMUC_ROOM_REMOVED,(function(t){return e._removeChatRoom(t)})),Object.keys(s.rooms).forEach((function(t){e._addChatRoom(s.rooms[t])})),r.Strophe.addNamespace("CAPS","http://jabber.org/protocol/caps"),e.disco.addFeature(r.Strophe.NS.CAPS),_possibleConstructorReturn(e)}return _createClass(n,[{key:"addFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(e),this._generateVersion(),r&&!this.externalFeatures.has(e)&&(this.externalFeatures.add(e),this.rooms.forEach((function(e){return t._updateRoomWithExternalFeatures(e)}))),n&&this.submit()}},{key:"removeFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(e),this._generateVersion(),r&&this.externalFeatures.has(e)&&(this.externalFeatures.delete(e),this.rooms.forEach((function(e){return t._updateRoomWithExternalFeatures(e)}))),n&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach((function(e){return e.sendPresence()}))}},{key:"_updateRoomWithExternalFeatures",value:function(e){if(0===this.externalFeatures.size)e.removeFromPresence("features");else{var t=[];this.externalFeatures.forEach((function(e){t.push({tagName:"feature",attributes:{var:e}})})),e.addOrReplaceInPresence("features",{children:t})}}},{key:"getFeaturesAndIdentities",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(e,t,n)}},{key:"_getDiscoInfo",value:function(e,t,n){var r=this;return new Promise((function(i,o){return r.disco.info(e,t,(function(e){i(c(e))}),o,n)}))}},{key:"_addChatRoom",value:function(e){this.rooms.add(e),this._fixChatRoomPresenceMap(e),this._updateRoomWithExternalFeatures(e)}},{key:"_removeChatRoom",value:function(e){this.rooms.delete(e)}},{key:"_fixChatRoomPresenceMap",value:function(e){e.addOrReplaceInPresence("c",{attributes:{xmlns:r.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var e=this;this.rooms.forEach((function(t){return e._fixChatRoomPresenceMap(t)}))}},{key:"_generateVersion",value:function(){this.version=function(e,t){var n=e.sort(u).reduce((function(e,t){return a.reduce((function(e,n,r){return e+(0===r?"":"/")+(t[n]?t[n]:"")}),"")+"<"}),""),i=t.sort().reduce((function(e,t){return e+t+"<"}),"");return Object(r.b64_sha1)(n+i)}(this.disco._identities,this.disco._features),this._notifyVersionChanged()}}]),n}(o.a)},function(e,t,n){var r=n(595),i=n(596);t.write=i,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(5),i=n(34),o=n(2),a=n(51),s=n(234),u=Object(r.getLogger)(e),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._createVADProcessor=r,i._vadEmitter=null,i._isVADEmitterRunning=!1,i._detectionServices=[],i._vadInitTracker=Promise.resolve(),i._processVADScore=i._processVADScore.bind(_assertThisInitialized(i)),e.on(o.TRACK_ADDED,i._trackAdded.bind(_assertThisInitialized(i))),e.on(o.TRACK_REMOVED,i._trackRemoved.bind(_assertThisInitialized(i))),e.on(o.TRACK_MUTE_CHANGED,i._trackMuteChanged.bind(_assertThisInitialized(i))),i}return _createClass(n,[{key:"addVADDetectionService",value:function(e){var t=this;this._detectionServices.push(e),e.on(a.DETECTOR_STATE_CHANGE,(function(){!t._detectionServices.filter((function(e){return!0===e.isActive()})).length&&t._isVADEmitterRunning?t._stopVADEmitter():t._isVADEmitterRunning||t._startVADEmitter()}))}},{key:"_startVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.on(a.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0)}},{key:"_stopVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.removeListener(a.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.stop()),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(e){var t,n=_createForOfIteratorHelper(this._detectionServices);try{for(n.s();!(t=n.n()).done;)t.value.processVADScore(e)}catch(r){n.e(r)}finally{n.f()}}},{key:"_changeDetectorsMuteState",value:function(e){var t,n=_createForOfIteratorHelper(this._detectionServices);try{for(n.s();!(t=n.n()).done;)t.value.changeMuteState(e)}catch(r){n.e(r)}finally{n.f()}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){return t._createVADProcessor()})).then((function(t){return s.a.create(e.getDeviceId(),4096,t)})).then((function(n){u.debug("Created VAD emitter for track: ",e.getTrackLabel()),t._vadEmitter=n,t._changeDetectorsMuteState(e.isMuted())})).catch((function(e){u.warn("Failed to start VADAudioAnalyser",e)})))}},{key:"_trackMuteChanged",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){t._changeDetectorsMuteState(e.isMuted())})))}},{key:"_trackRemoved",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){u.debug("Removing track from VAD detection - ",e.getTrackLabel()),t._vadEmitter&&(t._stopVADEmitter(),t._vadEmitter.destroy(),t._vadEmitter=null);var n,r=_createForOfIteratorHelper(t._detectionServices);try{for(r.s();!(n=r.n()).done;)n.value.reset()}catch(i){r.e(i)}finally{r.f()}})))}}]),n}(i.EventEmitter)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(173),o=function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._connection=t.connection,this._mode=t.mode,this._setSessionID(t.sessionID),this.setStatus(t.status)}return _createClass(e,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(e){this._error=e}},{key:"setLiveStreamViewURL",value:function(e){this._liveStreamViewURL=e}},{key:"setStatus",value:function(e){this._status=e}},{key:"setInitiator",value:function(e){this._initiator=e}},{key:"setTerminator",value:function(e){this._terminator=e}},{key:"start",value:function(e){var t=this,n=e.appData,r=e.broadcastId,o=e.focusMucJid,a=e.streamId;return new Promise((function(e,s){t._connection.sendIQ(t._createIQ({action:"start",appData:n,focusMucJid:o,broadcastId:r,streamId:a}),(function(n){t.setStatus("pending"),t._setSessionID(i.a.getSessionIdFromIq(n)),e()}),(function(e){t._setErrorFromIq(e),s(e)}))}))}},{key:"stop",value:function(e){var t=this,n=e.focusMucJid;return new Promise((function(e,r){t._connection.sendIQ(t._createIQ({action:"stop",focusMucJid:n}),e,r)}))}},{key:"_createIQ",value:function(e){var t=e.action,n=e.appData,i=e.broadcastId,o=e.focusMucJid,a=e.streamId;try{n=JSON.parse(n)||{}}catch(e){n={}}return n.base_url=n.base_url?n.base_url:"".concat(window.location.origin).concat(window.location.pathname),n.token=this._connection.emuc.xmpp.token,Object(r.$iq)({to:o,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:t,app_data:JSON.stringify(n),recording_mode:this._mode,streamid:a,you_tube_broadcast_id:i}).up()}},{key:"_setErrorFromIq",value:function(e){var t=e.getElementsByTagName("error")[0];this.setError(t.children[0].tagName)}},{key:"_setSessionID",value:function(e){this._sessionID=e}}]),e}()},function(e,t,n){"use strict";var r=n(246).bb_;e.exports=function(e,t,n,i,o,a,s){return new r(e,t,n,i,o,a,s)}},function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var u=function(e,t){var n=t||0,r=a;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var i=n||0,a=0;a<16;++a)t[i+a]=r[a];return t}return u(r)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){var t=e.match(r);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsCoordinates=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsCoordinates=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.x=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},e.prototype.y=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.startCoordinates=function(e){e.startObject(2)},e.addX=function(e,t){e.addFieldFloat32(0,t,0)},e.addY=function(e,t){e.addFieldFloat32(1,t,0)},e.endCoordinates=function(e){return e.endObject()},e.createCoordinates=function(t,n,r){return e.startCoordinates(t),e.addX(t,n),e.addY(t,r),e.endCoordinates(t)},e}();t.Coordinates=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsCss=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsCss=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.color=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.cursor=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.backgroundColor=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.startCss=function(e){e.startObject(3)},e.addColor=function(e,t){e.addFieldOffset(0,t,0)},e.addCursor=function(e,t){e.addFieldOffset(1,t,0)},e.addBackgroundColor=function(e,t){e.addFieldOffset(2,t,0)},e.endCss=function(e){return e.endObject()},e.createCss=function(t,n,r,i){return e.startCss(t),e.addColor(t,n),e.addCursor(t,r),e.addBackgroundColor(t,i),e.endCss(t)},e}();t.Css=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsEndContainer=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsEndContainer=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.tagname=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.index=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):-1},e.startEndContainer=function(e){e.startObject(2)},e.addTagname=function(e,t){e.addFieldOffset(0,t,0)},e.addIndex=function(e,t){e.addFieldInt32(1,t,-1)},e.endEndContainer=function(e){return e.endObject()},e.createEndContainer=function(t,n,r){return e.startEndContainer(t),e.addTagname(t,n),e.addIndex(t,r),e.endEndContainer(t)},e}();t.EndContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsEventData=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsEventData=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.detail=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.which=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.keyCode=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt16(this.bb_pos+e):-1},e.prototype.code=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.locale=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.key=function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.char=function(e){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.ctrlKey=function(){var e=this.bb.__offset(this.bb_pos,18);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.altKey=function(){var e=this.bb.__offset(this.bb_pos,20);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.metaKey=function(){var e=this.bb.__offset(this.bb_pos,22);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.inputType=function(e){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.shiftKey=function(){var e=this.bb.__offset(this.bb_pos,28);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.repeat=function(){var e=this.bb.__offset(this.bb_pos,30);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.bubbles=function(){var e=this.bb.__offset(this.bb_pos,32);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.cancelable=function(){var e=this.bb.__offset(this.bb_pos,34);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.charCode=function(){var e=this.bb.__offset(this.bb_pos,36);return e?this.bb.readInt16(this.bb_pos+e):-1},e.prototype.location=function(){var e=this.bb.__offset(this.bb_pos,38);return e?this.bb.readInt8(this.bb_pos+e):-1},e.prototype.clientX=function(){var e=this.bb.__offset(this.bb_pos,40);return e?this.bb.readFloat64(this.bb_pos+e):-1},e.prototype.clientY=function(){var e=this.bb.__offset(this.bb_pos,42);return e?this.bb.readFloat64(this.bb_pos+e):-1},e.prototype.buttons=function(){var e=this.bb.__offset(this.bb_pos,44);return e?this.bb.readInt8(this.bb_pos+e):0},e.prototype.button=function(){var e=this.bb.__offset(this.bb_pos,46);return e?this.bb.readInt8(this.bb_pos+e):0},e.startEventData=function(e){e.startObject(22)},e.addDetail=function(e,t){e.addFieldInt16(0,t,0)},e.addWhich=function(e,t){e.addFieldInt16(1,t,0)},e.addKeyCode=function(e,t){e.addFieldInt16(2,t,-1)},e.addCode=function(e,t){e.addFieldOffset(3,t,0)},e.addLocale=function(e,t){e.addFieldOffset(4,t,0)},e.addKey=function(e,t){e.addFieldOffset(5,t,0)},e.addChar=function(e,t){e.addFieldOffset(6,t,0)},e.addCtrlKey=function(e,t){e.addFieldInt8(7,+t,0)},e.addAltKey=function(e,t){e.addFieldInt8(8,+t,0)},e.addMetaKey=function(e,t){e.addFieldInt8(9,+t,0)},e.addInputType=function(e,t){e.addFieldOffset(10,t,0)},e.addData=function(e,t){e.addFieldOffset(11,t,0)},e.addShiftKey=function(e,t){e.addFieldInt8(12,+t,0)},e.addRepeat=function(e,t){e.addFieldInt8(13,+t,0)},e.addBubbles=function(e,t){e.addFieldInt8(14,+t,0)},e.addCancelable=function(e,t){e.addFieldInt8(15,+t,0)},e.addCharCode=function(e,t){e.addFieldInt16(16,t,-1)},e.addLocation=function(e,t){e.addFieldInt8(17,t,-1)},e.addClientX=function(e,t){e.addFieldFloat64(18,t,-1)},e.addClientY=function(e,t){e.addFieldFloat64(19,t,-1)},e.addButtons=function(e,t){e.addFieldInt8(20,t,0)},e.addButton=function(e,t){e.addFieldInt8(21,t,0)},e.endEventData=function(e){return e.endObject()},e.createEventData=function(t,n,r,i,o,a,s,u,c,l,d,f,h,p,m,v,g,_,b,y,E,S,D){return e.startEventData(t),e.addDetail(t,n),e.addWhich(t,r),e.addKeyCode(t,i),e.addCode(t,o),e.addLocale(t,a),e.addKey(t,s),e.addChar(t,u),e.addCtrlKey(t,c),e.addAltKey(t,l),e.addMetaKey(t,d),e.addInputType(t,f),e.addData(t,h),e.addShiftKey(t,p),e.addRepeat(t,m),e.addBubbles(t,v),e.addCancelable(t,g),e.addCharCode(t,_),e.addLocation(t,b),e.addClientX(t,y),e.addClientY(t,E),e.addButtons(t,S),e.addButton(t,D),e.endEventData(t)},e}();t.EventData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFormSelection=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFormSelection=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.start=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):-1},e.prototype.end=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt16(this.bb_pos+e):-1},e.prototype.direction=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.startFormSelection=function(e){e.startObject(3)},e.addStart=function(e,t){e.addFieldInt16(0,t,-1)},e.addEnd=function(e,t){e.addFieldInt16(1,t,-1)},e.addDirection=function(e,t){e.addFieldOffset(2,t,0)},e.endFormSelection=function(e){return e.endObject()},e.createFormSelection=function(t,n,r,i){return e.startFormSelection(t),e.addStart(t,n),e.addEnd(t,r),e.addDirection(t,i),e.endFormSelection(t)},e}();t.FormSelection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(286),o=n(287),a=n(288),s=n(289),u=n(290),c=n(292),l=n(294),d=n(295),f=n(297),h=n(298),p=n(299),m=n(300),v=n(301),g=n(302),_=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsPayload=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsPayload=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0},e.prototype.position=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new d.Position).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.coordinates=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new i.Coordinates).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.status=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.host=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.selectAll=function(){var e=this.bb.__offset(this.bb_pos,14);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.response=function(e){var t=this.bb.__offset(this.bb_pos,16);return t?(e||new f.Response).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.isCollapsed=function(){var e=this.bb.__offset(this.bb_pos,18);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.page=function(e){var t=this.bb.__offset(this.bb_pos,20);return t?(e||new l.Page).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.navigation=function(e){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.diffData=function(e,t){var n=this.bb.__offset(this.bb_pos,24);return n?(t||new g.diffData).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.diffDataLength=function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.mappingIndex=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt8(this.bb_pos+e):-1},e.prototype.startContainer=function(e){var t=this.bb.__offset(this.bb_pos,28);return t?(e||new p.StartContainer).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.endContainer=function(e){var t=this.bb.__offset(this.bb_pos,30);return t?(e||new a.EndContainer).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.index=function(){var e=this.bb.__offset(this.bb_pos,32);return e?this.bb.readInt32(this.bb_pos+e):-1},e.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,34);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.email=function(e){var t=this.bb.__offset(this.bb_pos,36);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.avatar=function(e){var t=this.bb.__offset(this.bb_pos,38);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.color=function(e){var t=this.bb.__offset(this.bb_pos,40);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.textSelection=function(e){var t=this.bb.__offset(this.bb_pos,42);return t?(e||new m.TextSelection).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.formSelection=function(e){var t=this.bb.__offset(this.bb_pos,44);return t?(e||new u.FormSelection).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.tagname=function(e){var t=this.bb.__offset(this.bb_pos,46);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.isBlank=function(){var e=this.bb.__offset(this.bb_pos,48);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.mouseout=function(){var e=this.bb.__offset(this.bb_pos,50);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.user=function(e){var t=this.bb.__offset(this.bb_pos,52);return t?(e||new v.User).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.room=function(e){var t=this.bb.__offset(this.bb_pos,54);return t?(e||new h.Room).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.seekTime=function(){var e=this.bb.__offset(this.bb_pos,56);return e?this.bb.readFloat32(this.bb_pos+e):0},e.prototype.volume=function(){var e=this.bb.__offset(this.bb_pos,58);return e?this.bb.readFloat32(this.bb_pos+e):0},e.prototype.muted=function(){var e=this.bb.__offset(this.bb_pos,60);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.isToolbox=function(){var e=this.bb.__offset(this.bb_pos,62);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.isDefault=function(){var e=this.bb.__offset(this.bb_pos,64);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,66);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.contentType=function(e){var t=this.bb.__offset(this.bb_pos,68);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.css=function(e){var t=this.bb.__offset(this.bb_pos,70);return t?(e||new o.Css).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.eventData=function(e){var t=this.bb.__offset(this.bb_pos,72);return t?(e||new s.EventData).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.pathname=function(e){var t=this.bb.__offset(this.bb_pos,74);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.eventName=function(e){var t=this.bb.__offset(this.bb_pos,76);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.type=function(e){var t=this.bb.__offset(this.bb_pos,78);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.sender=function(e){var t=this.bb.__offset(this.bb_pos,80);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.insertedAt=function(e){var t=this.bb.__offset(this.bb_pos,82);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.createdBy=function(e){var t=this.bb.__offset(this.bb_pos,84);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.createdByName=function(e){var t=this.bb.__offset(this.bb_pos,86);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.isDelivered=function(){var e=this.bb.__offset(this.bb_pos,88);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.frameUrl=function(e){var t=this.bb.__offset(this.bb_pos,90);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.joins=function(e,t){var n=this.bb.__offset(this.bb_pos,92);return n?(t||new c.Metas).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.joinsLength=function(){var e=this.bb.__offset(this.bb_pos,92);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.leaves=function(e,t){var n=this.bb.__offset(this.bb_pos,94);return n?(t||new c.Metas).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.leavesLength=function(){var e=this.bb.__offset(this.bb_pos,94);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.state=function(e,t){var n=this.bb.__offset(this.bb_pos,96);return n?(t||new c.Metas).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.stateLength=function(){var e=this.bb.__offset(this.bb_pos,96);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startPayload=function(e){e.startObject(47)},e.addId=function(e,t){e.addFieldInt32(0,t,0)},e.addPosition=function(e,t){e.addFieldOffset(1,t,0)},e.addCoordinates=function(e,t){e.addFieldOffset(2,t,0)},e.addStatus=function(e,t){e.addFieldOffset(3,t,0)},e.addHost=function(e,t){e.addFieldOffset(4,t,0)},e.addSelectAll=function(e,t){e.addFieldInt8(5,+t,0)},e.addResponse=function(e,t){e.addFieldOffset(6,t,0)},e.addIsCollapsed=function(e,t){e.addFieldInt8(7,+t,0)},e.addPage=function(e,t){e.addFieldOffset(8,t,0)},e.addNavigation=function(e,t){e.addFieldOffset(9,t,0)},e.addDiffData=function(e,t){e.addFieldOffset(10,t,0)},e.createDiffDataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startDiffDataVector=function(e,t){e.startVector(4,t,4)},e.addMappingIndex=function(e,t){e.addFieldInt8(11,t,-1)},e.addStartContainer=function(e,t){e.addFieldOffset(12,t,0)},e.addEndContainer=function(e,t){e.addFieldOffset(13,t,0)},e.addIndex=function(e,t){e.addFieldInt32(14,t,-1)},e.addValue=function(e,t){e.addFieldOffset(15,t,0)},e.addEmail=function(e,t){e.addFieldOffset(16,t,0)},e.addAvatar=function(e,t){e.addFieldOffset(17,t,0)},e.addColor=function(e,t){e.addFieldOffset(18,t,0)},e.addTextSelection=function(e,t){e.addFieldOffset(19,t,0)},e.addFormSelection=function(e,t){e.addFieldOffset(20,t,0)},e.addTagname=function(e,t){e.addFieldOffset(21,t,0)},e.addIsBlank=function(e,t){e.addFieldInt8(22,+t,0)},e.addMouseout=function(e,t){e.addFieldInt8(23,+t,0)},e.addUser=function(e,t){e.addFieldOffset(24,t,0)},e.addRoom=function(e,t){e.addFieldOffset(25,t,0)},e.addSeekTime=function(e,t){e.addFieldFloat32(26,t,0)},e.addVolume=function(e,t){e.addFieldFloat32(27,t,0)},e.addMuted=function(e,t){e.addFieldInt8(28,+t,0)},e.addIsToolbox=function(e,t){e.addFieldInt8(29,+t,0)},e.addIsDefault=function(e,t){e.addFieldInt8(30,+t,0)},e.addContent=function(e,t){e.addFieldOffset(31,t,0)},e.addContentType=function(e,t){e.addFieldOffset(32,t,0)},e.addCss=function(e,t){e.addFieldOffset(33,t,0)},e.addEventData=function(e,t){e.addFieldOffset(34,t,0)},e.addPathname=function(e,t){e.addFieldOffset(35,t,0)},e.addEventName=function(e,t){e.addFieldOffset(36,t,0)},e.addType=function(e,t){e.addFieldOffset(37,t,0)},e.addSender=function(e,t){e.addFieldOffset(38,t,0)},e.addInsertedAt=function(e,t){e.addFieldOffset(39,t,0)},e.addCreatedBy=function(e,t){e.addFieldOffset(40,t,0)},e.addCreatedByName=function(e,t){e.addFieldOffset(41,t,0)},e.addIsDelivered=function(e,t){e.addFieldInt8(42,+t,0)},e.addFrameUrl=function(e,t){e.addFieldOffset(43,t,0)},e.addJoins=function(e,t){e.addFieldOffset(44,t,0)},e.createJoinsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startJoinsVector=function(e,t){e.startVector(4,t,4)},e.addLeaves=function(e,t){e.addFieldOffset(45,t,0)},e.createLeavesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startLeavesVector=function(e,t){e.startVector(4,t,4)},e.addState=function(e,t){e.addFieldOffset(46,t,0)},e.createStateVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startStateVector=function(e,t){e.startVector(4,t,4)},e.endPayload=function(e){return e.endObject()},e}();t.Payload=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(293),o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMetas=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMetas=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.user=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.metas=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new i.Meta).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.metasLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startMetas=function(e){e.startObject(2)},e.addUser=function(e,t){e.addFieldOffset(0,t,0)},e.addMetas=function(e,t){e.addFieldOffset(1,t,0)},e.createMetasVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startMetasVector=function(e,t){e.startVector(4,t,4)},e.endMetas=function(e){return e.endObject()},e.createMetas=function(t,n,r){return e.startMetas(t),e.addUser(t,n),e.addMetas(t,r),e.endMetas(t)},e}();t.Metas=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMeta=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMeta=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.onlineAt=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0},e.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.email=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.avatar=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.color=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.phxRef=function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null},e.startMeta=function(e){e.startObject(6)},e.addOnlineAt=function(e,t){e.addFieldInt32(0,t,0)},e.addName=function(e,t){e.addFieldOffset(1,t,0)},e.addEmail=function(e,t){e.addFieldOffset(2,t,0)},e.addAvatar=function(e,t){e.addFieldOffset(3,t,0)},e.addColor=function(e,t){e.addFieldOffset(4,t,0)},e.addPhxRef=function(e,t){e.addFieldOffset(5,t,0)},e.endMeta=function(e){return e.endObject()},e.createMeta=function(t,n,r,i,o,a,s){return e.startMeta(t),e.addOnlineAt(t,n),e.addName(t,r),e.addEmail(t,i),e.addAvatar(t,o),e.addColor(t,a),e.addPhxRef(t,s),e.endMeta(t)},e}();t.Meta=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsPage=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsPage=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.size=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint16(this.bb_pos+e):0},e.prototype.offset=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint16(this.bb_pos+e):0},e.prototype.count=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint16(this.bb_pos+e):0},e.startPage=function(e){e.startObject(3)},e.addSize=function(e,t){e.addFieldInt16(0,t,0)},e.addOffset=function(e,t){e.addFieldInt16(1,t,0)},e.addCount=function(e,t){e.addFieldInt16(2,t,0)},e.endPage=function(e){return e.endObject()},e.createPage=function(t,n,r,i){return e.startPage(t),e.addSize(t,n),e.addOffset(t,r),e.addCount(t,i),e.endPage(t)},e}();t.Page=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(296),o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsPosition=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsPosition=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.raw=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new i.Raw).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.proportional=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb_pos+e):0},e.startPosition=function(e){e.startObject(2)},e.addRaw=function(e,t){e.addFieldOffset(0,t,0)},e.addProportional=function(e,t){e.addFieldFloat64(1,t,0)},e.endPosition=function(e){return e.endObject()},e.createPosition=function(t,n,r){return e.startPosition(t),e.addRaw(t,n),e.addProportional(t,r),e.endPosition(t)},e}();t.Position=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsRaw=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsRaw=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.x=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.y=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},e.startRaw=function(e){e.startObject(2)},e.addX=function(e,t){e.addFieldInt32(0,t,0)},e.addY=function(e,t){e.addFieldInt32(1,t,0)},e.endRaw=function(e){return e.endObject()},e.createRaw=function(t,n,r){return e.startRaw(t),e.addX(t,n),e.addY(t,r),e.endRaw(t)},e}();t.Raw=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsResponse=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsResponse=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startResponse=function(e){e.startObject(0)},e.endResponse=function(e){return e.endObject()},e.createResponse=function(t){return e.startResponse(t),e.endResponse(t)},e}();t.Response=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsRoom=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsRoom=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0},e.prototype.sessionId=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.createdBy=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.status=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.insertedAt=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},e.startRoom=function(e){e.startObject(5)},e.addId=function(e,t){e.addFieldInt32(0,t,0)},e.addSessionId=function(e,t){e.addFieldOffset(1,t,0)},e.addCreatedBy=function(e,t){e.addFieldOffset(2,t,0)},e.addStatus=function(e,t){e.addFieldOffset(3,t,0)},e.addInsertedAt=function(e,t){e.addFieldOffset(4,t,0)},e.endRoom=function(e){return e.endObject()},e.createRoom=function(t,n,r,i,o,a){return e.startRoom(t),e.addId(t,n),e.addSessionId(t,r),e.addCreatedBy(t,i),e.addStatus(t,o),e.addInsertedAt(t,a),e.endRoom(t)},e}();t.Room=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsStartContainer=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsStartContainer=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.tagname=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.index=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):-1},e.startStartContainer=function(e){e.startObject(2)},e.addTagname=function(e,t){e.addFieldOffset(0,t,0)},e.addIndex=function(e,t){e.addFieldInt32(1,t,-1)},e.endStartContainer=function(e){return e.endObject()},e.createStartContainer=function(t,n,r){return e.startStartContainer(t),e.addTagname(t,n),e.addIndex(t,r),e.endStartContainer(t)},e}();t.StartContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsTextSelection=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTextSelection=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.rangeStartOffset=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):-1},e.prototype.rangeEndOffset=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):-1},e.prototype.startNodeOffset=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):-1},e.prototype.endNodeOffset=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):-1},e.startTextSelection=function(e){e.startObject(4)},e.addRangeStartOffset=function(e,t){e.addFieldInt32(0,t,-1)},e.addRangeEndOffset=function(e,t){e.addFieldInt32(1,t,-1)},e.addStartNodeOffset=function(e,t){e.addFieldInt32(2,t,-1)},e.addEndNodeOffset=function(e,t){e.addFieldInt32(3,t,-1)},e.endTextSelection=function(e){return e.endObject()},e.createTextSelection=function(t,n,r,i,o){return e.startTextSelection(t),e.addRangeStartOffset(t,n),e.addRangeEndOffset(t,r),e.addStartNodeOffset(t,i),e.addEndNodeOffset(t,o),e.endTextSelection(t)},e}();t.TextSelection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsUser=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsUser=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.email=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.avatar=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.startUser=function(e){e.startObject(4)},e.addId=function(e,t){e.addFieldOffset(0,t,0)},e.addEmail=function(e,t){e.addFieldOffset(1,t,0)},e.addAvatar=function(e,t){e.addFieldOffset(2,t,0)},e.addName=function(e,t){e.addFieldOffset(3,t,0)},e.endUser=function(e){return e.endObject()},e.createUser=function(t,n,r,i,o){return e.startUser(t),e.addId(t,n),e.addEmail(t,r),e.addAvatar(t,i),e.addName(t,o),e.endUser(t)},e}();t.User=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(303),o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsdiffData=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsdiffData=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.length1=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.length2=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.start1=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.start2=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):0},e.prototype.diffs=function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new i.diff).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.diffsLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startdiffData=function(e){e.startObject(5)},e.addLength1=function(e,t){e.addFieldInt16(0,t,0)},e.addLength2=function(e,t){e.addFieldInt16(1,t,0)},e.addStart1=function(e,t){e.addFieldInt16(2,t,0)},e.addStart2=function(e,t){e.addFieldInt16(3,t,0)},e.addDiffs=function(e,t){e.addFieldOffset(4,t,0)},e.createDiffsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startDiffsVector=function(e,t){e.startVector(4,t,4)},e.enddiffData=function(e){return e.endObject()},e.creatediffData=function(t,n,r,i,o,a){return e.startdiffData(t),e.addLength1(t,n),e.addLength2(t,r),e.addStart1(t,i),e.addStart2(t,o),e.addDiffs(t,a),e.enddiffData(t)},e}();t.diffData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsdiff=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsdiff=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.x=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):0},e.prototype.y=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.startdiff=function(e){e.startObject(2)},e.addX=function(e,t){e.addFieldInt8(0,t,0)},e.addY=function(e,t){e.addFieldOffset(1,t,0)},e.enddiff=function(e){return e.endObject()},e.creatediff=function(t,n,r){return e.startdiff(t),e.addX(t,n),e.addY(t,r),e.enddiff(t)},e}();t.diff=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64);t.setOptionsEffect=function(e,t){return e.pipe(r.tap((function(e){return t.option$.next(e)})),r.ignoreElements())},t.setOptions=function(e){return[i.EffectNames.SetOptions,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),i=n(480),o=n(8);t.fileReload=function(e){return[r.EffectNames.FileReload,e]},t.fileReloadEffect=function(e,t){return e.pipe(o.withLatestFrom(t.option$,t.navigator$),o.mergeMap((function(e){var t=e[0],n=e[1],r=e[2];return i.reload(document,r)(t,{tagNames:n.tagNames,liveCSS:!0,liveImg:!0})})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(143),o=n(109);t.propSetDomEffect=function(e){return e.pipe(r.tap((function(e){var t=e.target,n=e.prop,r=e.value;t[n]=r})),r.map((function(e){return o.consoleInfo("[PropSet]",e.target,e.prop+" = "+e.pathname)})))},t.propSet=function(e){return[i.Events.PropSet,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(143),i=n(8),o=n(109);t.styleSetDomEffect=function(e){return e.pipe(i.tap((function(e){var t=e.style,n=e.styleName,r=e.newValue;t[n]=r})),i.map((function(e){return o.consoleInfo("[StyleSet] "+e.styleName+" = "+e.pathName)})))},t.styleSet=function(e){return[r.Events.StyleSet,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(109),o=n(143);t.linkReplaceDomEffect=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("injectNotification"))),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(e){var t=e[0],n=e[1],r="[LinkReplace] "+t.basename;return"overlay"===n?i.overlayInfo(r):i.consoleInfo(r)})))},t.linkReplace=function(e){return[o.Events.LinkReplace,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(143);t.setScroll=function(e,t){return[i.Events.SetScroll,{x:e,y:t}]},t.setScrollDomEffect=function(e,t){return e.pipe(r.withLatestFrom(t.window$),r.tap((function(e){var t=e[0];return e[1].scrollTo(t.x,t.y)})),r.ignoreElements())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(143);t.setWindowNameDomEffect=function(e,t){return e.pipe(r.withLatestFrom(t.window$),r.tap((function(e){var t=e[0];return e[1].name=t})),r.ignoreElements())},t.setWindowName=function(e){return[i.Events.SetWindowName,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.browserSetLocationEffect=function(e){return e.pipe(r.map((function(e){var t=e.pathname;t.split("?")[0]!==o.pathNameHashOrLocation()&&history.replaceState({},"",t)})))},t.browserSetLocation=function(e){return[i.EffectNames.BrowserSetLocation,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),i=n(8),o=n(199);t.browserReload=function(){return[r.EffectNames.BrowserReload]},t.preBrowserReload=function(){return[r.EffectNames.PreBrowserReload]},t.browserReloadEffect=function(e){return e.pipe(i.tap((function(e){e[0],o.set("cb__scriptReload",!0),window.location.reload(!0)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(13),a=n(14);t.setElementInputEffect=function(e,t){return e.pipe(r.withLatestFrom(t.service$),r.tap((function(e){var t,n=e[0],r=e[1],i=n.diff_data,s=n.tagname,u=n.index,c=n.type,l=n.value,d=document.getElementsByTagName(s)[u],f=a.getOptions(n);if(d)if("function"==typeof InputEvent)t=new InputEvent(c,f),o.setNativeValue(d,i,l,r),d.dispatchEvent(t);else if(document.createEvent){var h=a.getFlatOptions(n);window.setTimeout((function(){"function"==typeof(t=document.createEvent("Event")).initEvent&&t.initEvent(h),d.dispatchEvent(t)}),0)}})))},t.simulateInputEvent=function(e){return[i.EffectNames.SetInputEffect,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.setElementChangeEffect=function(e,t){return e.pipe(r.withLatestFrom(t.service$),r.tap((function(e){var t,n=e[0],r=(e[1],document.getElementsByTagName(n.tagname)[n.index]),i=n.type,a=o.getOptions(n);if(r)if("function"==typeof Event)t=new Event(i,a),r.dispatchEvent(t);else if(document.createEvent){var s=o.getFlatOptions(n);window.setTimeout((function(){"function"==typeof(t=document.createEvent("Event")).initEvent&&t.initEvent(s),r.dispatchEvent(t)}),0)}})))},t.simulateChangeEvent=function(e){return[i.EffectNames.SetChangeEffect,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.setElementSelectionEffect=function(e){return e.pipe(r.tap((function(e){var t=e.select_all,n=e.is_collapsed,r=window.getSelection(),i=document.createRange();if(t)return i.selectNodeContents(document),r.removeAllRanges(),void r.addRange(i);if(n&&o.isTextSelected())return r.removeAllRanges();if(!n)try{var a=e.start_container,s=e.end_container,u=e.text_selection,c=u.range_start_offset,l=u.range_end_offset,d=u.start_node_offset,f=u.end_node_offset,h=document.getElementsByTagName(a.tagname),p=document.getElementsByTagName(s.tagname),m=h[a.index],v=p[s.index];if(-1===d)i.setStart(m,c);else{var g=m.childNodes[d];g&&i.setStart(g,c)}if(-1===f)i.setEnd(v,l);else{var _=v.childNodes[f];_&&i.setEnd(_,l)}r.removeAllRanges(),r.addRange(i)}catch(e){}})))},t.simulateSelectionEvent=function(e){return[i.EffectNames.SetSelectionEffect,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64);t.dispatchSelectEvent=function(e){return e.pipe(r.tap((function(e){var t=e.form_selection,n=t.start,r=t.end,i=t.direction,o=document.getElementsByTagName(e.tagname)[e.index];try{"function"==typeof o.setSelectionRange&&(o.focus(),o.setSelectionRange(n,r,i))}catch(e){}})))},t.simulateSelectEvent=function(e){return[i.EffectNames.DispatchSelectEvent,e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(312),a=n(493);function s(){return i.concat(i.of(o.preBrowserReload()),i.of(o.browserReload()).pipe(r.subscribeOn(a.async)))}t.incomingBrowserReload=function(e,t){return e.pipe(r.withLatestFrom(t.option$),r.filter((function(e){return e[0],e[1].codeSync})),r.mergeMap(s))},t.reloadBrowserSafe=s},function(e,t){var n=Array.prototype.slice;function r(e){return"function"==typeof e}function i(e){if(!r(e))throw TypeError("Invalid listener")}function o(e,t,r){switch(r.length){case 1:t.call(e);break;case 2:t.call(e,r[1]);break;case 3:t.call(e,r[1],r[2]);break;default:t.apply(e,n.call(r,1))}}function a(e,t,n,o){i(n);var a=e.$e||(e.$e={}),s=a[t];return s?r(s)?a[t]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n):a[t]=n,e}function s(){this.$e=this.$e||{}}s.EventEmitter=s,s.prototype={$e:null,emit:function(e){var t=arguments,i=this.$e;if(i){var a=i&&i[e];if(!a){if("error"===e){var s=t[1];if(!(s instanceof Error)){var u=s;(s=new Error("Error: "+u)).context=u}throw s}return!1}if(r(a))o(this,a,t);else for(var c=0,l=(a=n.call(a)).length;c<l;c++)o(this,a[c],t);return!0}},on:function(e,t){return a(this,e,t,!1)},prependListener:function(e,t){return a(this,e,t,!0)},once:function(e,t){return i(t),this.on(e,(function n(){this.removeListener(e,n),t&&(t.apply(this,arguments),t=null)})),this},removeListener:function(e,t){i(t);var n,o=this.$e;if(o&&(n=o[e]))if(r(n))n===t&&delete o[e];else for(var a=n.length-1;a>=0;a--)n[a]===t&&n.splice(a,1);return this},removeAllListeners:function(e){var t=this.$e;t&&delete t[e]},listenerCount:function(e){var t=this.$e,n=t&&t[e];return n?r(n)?1:n.length:0}},e.exports=s},function(e,t){e.exports=function(e,t){Object.getOwnPropertyNames(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}))}},function(e,t,n){"use strict";var r=n(321);function i(e){for(var t=e;t.parentNode;)t=t.parentNode;return t}function o(e){this.out=this.y_=e,this.b_=void 0}e.exports=o;var a=o.prototype={getComponent:function(){return this.getComponents()[0]},getComponents:function(e){if(void 0===this.b_)throw Error("Not added to DOM");var t=function(e){var t=e.b_;if(!t)throw Error("No component");return t}(this),n=[];return t.forEach((function(t){var r=t.h_;e&&!e(r)||n.push(r)})),n},afterInsert:function(e){var t=this.y_.b_;return this.b_=t?t.z_(e):null,this},getNode:function(e){return this.y_.A_(e)},getOutput:function(){return this.y_.B_()},toString:function(){return this.y_.toString()},document:"object"==typeof document&&document};Object.defineProperty(a,"html",{get:function(){return this.toString()}}),Object.defineProperty(a,"context",{get:function(){return this.y_}}),r(a,(function(e,t){return e.getNode(i(t))}),(function(e,t){return e.afterInsert(i(t))}))},function(e,t,n){"use strict";var r=n(179),i=n(95),o=i.aD_,a=i.D_,s=n(248),u=s.aG_,c=s.aH_,l=s.aI_;function d(e){if("string"==typeof e){var t=e;if(!(e=document.getElementById(t)))throw Error("Not found: "+t)}return e}function f(e){a(e),o(e)}e.exports=function(e,t,n){r(e,{appendTo:function(e){e=d(e);var r=t(this,e);return u(r,null,e),n(this,e)},prependTo:function(e){e=d(e);var r=t(this,e);return u(r,e.firstChild||null,e),n(this,e)},replace:function(e){e=d(e);var r=t(this,e);return f(e),u(r,e,e.parentNode),l(e),n(this,e)},replaceChildrenOf:function(e){e=d(e);for(var r=t(this,e),i=e.firstChild;i;){var o=i.nextSibling;f(i),i=o}return e.innerHTML="",u(r,null,e),n(this,e)},insertBefore:function(e){e=d(e);var r=t(this,e);return u(r,e,e.parentNode),n(this,e)},insertAfter:function(e){e=d(e);var r=t(this,e);return c(r,e,e.parentNode),n(this,e)}})}},function(e,t,n){"use strict";var r=n(581),i=n(323),o=n(95),a=o.C_,s=o.D_,u=o.ap_,c=o.aE_,l=n(246).bb_,d=l.bO_,f=l.bP_,h=n(201),p=n(247),m=n(248),v=n(145),g=v.ag_,_=v.E_,b=v.ae_,y=v.af_,E=m.aG_,S=m.aH_,D=m.bT_,w=m._r_,C=m.aI_,T=p.ao_,A=p.c__;function k(e){return"@"!==e[0]}function O(e,t){return e.bI_===t.bI_}function R(e,t){return e.toLowerCase()===t.toLowerCase()}e.exports=function(e,t,n,o){var l,p=!1,m=Object.create(null);function v(e,t,r,i,a,s){var u=e.bz_(n,i.namespaceURI);E(u,r,i),1!==e.bC_&&12!==e.bC_||(t&&(g.set(u,t),(k(t)?s:a).k_[t]=u),"textarea"!==e.bI_&&F(u,e,s),function(e,t){1===e.nodeType&&h.ab_(e,t)}(u,o))}function M(e,t,n,r,i,o,a){var s=r.K_=E(T(),t,n);_.set(s,r),i&&o&&(i=c(i,a.id),u(o.k_,i,s,r.id),g.set(s,i)),I(r,e)}function I(e,t){F(e.K_,t,e)}o&&(l=o.e_,p=l.f_);var P=[];function N(e,t,n){1===e.nodeType||12===e.nodeType?(P.push(e),y.set(e,n||!0)):(s(e),C(e))}function x(e){e.destroy()}function F(e,t,n){var r,o,s,f,h,P,j,B,U,H=w(e),V=t._r_;e:for(;V;){h=V.bT_,s=V.bC_,r=V.bB_,H&&10===H.nodeType&&(H=D(H));var q,G=V.aB_||n;if(2!==s)if(r){B=void 0,o=void 0;var J=r;if(k(r)?(G!==n&&(r+=":"+G.id),q=n):q=G,r=(m[q.id]||(m[q.id]=new i))._L_(r),H&&(o=g.get(H),B=b.get(H),f=D(H)),o===r)V.n_||(O(V,B)?L(H,B,V,n):(N(H,0,G),v(V,r,H,e,G,n)));else if(void 0===(P=q.k_[r])||P===H){if(!0===p&&H){if(1===H.nodeType&&(V.n_||R(H.nodeName,V.bI_||""))){(B=d(H)).bI_=V.bI_,g.set(H,r),q.k_[r]=H,V.n_?b.set(H,B):L(H,B,V,n),V=h,H=f;continue}if(12===V.bC_&&8===H.nodeType&&H.nodeValue=="F#"+J){for(var z,K=H.nextSibling,W=0;;){if(8===K.nodeType)if("F/"===(z=K.nodeValue)){if(0===W)break;W--}else 0===z.indexOf("F#")&&W++;K=K.nextSibling}var $=T(H,K.nextSibling,e);g.set($,r),b.set($,V),q.k_[r]=$,C(H),C(K),V.n_||F($,V,n),V=h,H=$.nextSibling;continue}}v(V,r,H,e,G,n),f=H}else void 0!==y.get(P)&&y.set(P,void 0),V.n_?(E(P,H,e),f=H):O(B=b.get(P),V)?(f===P?h&&h.bB_===o?(f=H,E(P,H,e)):(f=D(f),H&&N(H,0,G)):(S(P,H,e),H&&N(H,0,G)),L(P,B,V,n)):(v(V,r,H,e,G,n),N(P,0,G));V=h,H=f}else{for(;H;)if(f=D(H),U=_.get(H))H=f,l._U_[U.id]||x(U);else{var Y=H.nodeType,X=void 0;if(Y===s)if(1===Y){if(void 0===(B=b.get(H))){if(!0!==p){H=f;continue}R((B=d(H)).bI_,V.bI_)&&(B.bI_=V.bI_)}else(o=B.bB_)&&(X=!1);!0===(X=!1!==X&&!0===O(B,V))&&L(H,B,V,n)}else 3!==Y&&8!==Y||(X=!0,!0===p&&h&&3===Y&&3===h.bC_&&(f=H.splitText(V.bV_.length)),H.nodeValue!==V.bV_&&(H.nodeValue=V.bV_));if(!0===X){V=h,H=f;continue e}N(H,0,G),H=f}v(V,r,H,e,G,n),V=h,H=f}else{var Q=V.h_;if(void 0===(j=a[Q.id]))if(!0===p){var Z=A(H,e);Q.K_=Z,_.set(Z,Q),G&&r&&(r=c(r,n.id),u(G.k_,r,Z,Q.id),g.set(Z,r)),I(Q,V),H=D(Z)}else M(V,H,e,Q,r,G,n);else{if(j.K_!==H){if(H&&(U=_.get(H))&&void 0===l._U_[U.id]){H=D(U.K_),x(U);continue}E(j.K_,H,e)}else H=H&&D(H);V.n_||I(Q,V)}V=h}}if(e.bZ_)e.bZ_(H);else for(var ee=12===e.nodeType?e.endNode:null;H&&H!==ee;)f=D(H),(U=_.get(H))?(H=f,l._U_[U.id]||x(U)):(B=b.get(H),N(H,0,q=!(o=g.get(e))||k(o)?n:B&&B.aB_),H=f)}function L(e,t,n,i){var o=n.bI_,a=n.bK_;if((void 0===a||t.bK_!==a)&&(f(e,t,n),!n.m_)){"textarea"!==o&&F(e,n,i);var s=r[o];void 0!==s&&s(e,n)}}F(e,t,t.h_),P.forEach((function(e){var t=y.get(e);if(void 0!==t){y.set(e,void 0);var n=_.get(e);n?n.destroy():e.parentNode&&(s(e,!0!==t&&t),0!=h.___(e)&&C(e))}}))}},function(e,t,n){"use strict";function r(){this._V_=Object.create(null)}r.prototype._L_=function(e){var t=this._V_;return t[e]?e+"_"+t[e]++:(t[e]=1,e)},e.exports=r},function(e,t,n){"use strict";var r=[],i=""+Math.random();window.addEventListener("message",(function(e){if(e.data===i){var t=r;r=[];for(var n=0;n<t.length;n++)t[n]()}})),t.az_=function(e){1===r.push(e)&&window.postMessage(i,"*")}},function(e,t){var n={trace:0,debug:1,info:2,log:3,warn:4,error:5};a.consoleTransport=console;var r=[a.consoleTransport];a.addGlobalTransport=function(e){-1===r.indexOf(e)&&r.push(e)},a.removeGlobalTransport=function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)};var i={};function o(){var e=arguments[0],t=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(n[t]<e.level))for(var a=!(e.options.disableCallerInfo||i.disableCallerInfo)&&function(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error,n=t.stack?t.stack.split("\n"):[];if(!n||n.length<3)return e;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===n[2].indexOf("log@")?e.methodName=n[3].substr(0,n[3].indexOf("@")):e.methodName=n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=r[1],e.fileLocation=r[2],e.line=r[3],e.column=r[4],e)}(),s=r.concat(e.transports),u=0;u<s.length;u++){var c=s[u],l=c[t];if(l&&"function"==typeof l){var d=[];d.push((new Date).toISOString()),e.id&&d.push("["+e.id+"]"),a&&a.methodName.length>1&&d.push("<"+a.methodName+">: ");var f=d.concat(o);l.bind(c).apply(c,f)}}}function a(e,t,r,i){this.id=t,this.options=i||{},this.transports=r,this.transports||(this.transports=[]),this.level=n[e];for(var a=Object.keys(n),s=0;s<a.length;s++)this[a[s]]=o.bind(null,this,a[s])}a.setGlobalOptions=function(e){i=e||{}},a.prototype.setLevel=function(e){this.level=n[e]},e.exports=a,a.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach((function(e){n[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(594),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(49))},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach((function(e){n[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(167),i=n.n(r),o=n(5),a=n(197),s=n(241),u=Object(o.getLogger)(e),c=new Set(["flac","wav","ogg"]),l=Object.freeze({IDLE:Symbol("IDLE"),STARTING:Symbol("STARTING"),RECORDING:Symbol("RECORDING"),STOPPING:Symbol("STOPPING"),FAILED:Symbol("FAILED")}),d=function(){function e(){_classCallCheck(this,e),this._adapters={},this._conference=null,this._currentSessionToken=-1,this._state=l.IDLE,this._isMuted=!1,this._micDeviceId="default",this._format="flac",this._registered=!1,this.registerEvents=this.registerEvents.bind(this),this.getParticipantsStats=this.getParticipantsStats.bind(this),this._onStartCommand=this._onStartCommand.bind(this),this._onStopCommand=this._onStopCommand.bind(this),this._onPingCommand=this._onPingCommand.bind(this),this._doStartRecording=this._doStartRecording.bind(this),this._doStopRecording=this._doStopRecording.bind(this),this._updateStats=this._updateStats.bind(this),this._switchToNewSession=this._switchToNewSession.bind(this)}return _createClass(e,[{key:"registerEvents",value:function(e){this._registered||(this._conference=e,this._conference&&(this._conference.addCommandListener("localRecStop",this._onStopCommand),this._conference.addCommandListener("localRecStart",this._onStartCommand),this._conference.addCommandListener("localRecPing",this._onPingCommand),this._registered=!0),this._conference.isModerator()||this._conference.sendCommandOnce("localRecPing",{}))}},{key:"onStateChanged",set:function(e){this._onStateChanged=e}},{key:"onNotify",set:function(e){this._onNotify=e}},{key:"onWarning",set:function(e){this._onWarning=e}},{key:"startRecording",value:function(e){this.registerEvents(),this.switchFormat(e),this._conference&&this._conference.isModerator()?(this._conference.removeCommand("localRecStop"),this._conference.sendCommand("localRecStart",{attributes:{sessionToken:this._getRandomToken(),format:this._format}})):this._onWarning&&this._onWarning("localRecording.messages.notModerator")}},{key:"stopRecording",value:function(){this._conference&&(this._conference.isModerator()?(this._conference.removeCommand("localRecStart"),this._conference.sendCommand("localRecStop",{attributes:{sessionToken:this._currentSessionToken}})):this._onWarning&&this._onWarning("localRecording.messages.notModerator"))}},{key:"downloadRecordedData",value:function(e){var t=this;this._adapters[e]?this._adapters[e].exportRecordedData().then((function(n){var r=n.data,i=n.format,o="session_"+e+"_".concat(t._conference.myUserId(),".").concat(i);Object(a.d)(r,o)})).catch((function(t){u.error("Failed to download audio for session ".concat(e,". Error: ").concat(t))})):u.error("Invalid session token for download "+e)}},{key:"setMicDevice",value:function(e){e!==this._micDeviceId&&(this._micDeviceId=String(e),this._state===l.RECORDING&&(u.log("Before switching microphone..."),this._adapters[this._currentSessionToken].setMicDevice(this._micDeviceId).then((function(){u.log("Finished switching microphone.")})).catch((function(){u.error("Failed to switch microphone")}))),u.log("Switch microphone to "+this._micDeviceId))}},{key:"setMuted",value:function(e){this._isMuted=Boolean(e),this._state===l.RECORDING&&this._adapters[this._currentSessionToken].setMuted(this._isMuted)}},{key:"switchFormat",value:function(e){c.has(e)?(this._format=e,u.log("Recording format switched to "+e)):u.log("Unknown format ".concat(e,". Ignoring..."))}},{key:"getLocalStats",value:function(){return{currentSessionToken:this._currentSessionToken,isRecording:this._state===l.RECORDING,recordedBytes:0,recordedLength:0}}},{key:"getParticipantsStats",value:function(){for(var e=this._conference.getParticipants().map((function(e){return{id:e.getId(),displayName:e.getDisplayName(),recordingStats:i.a.parse(e.getProperty("localRecStats")||"{}"),isSelf:!1}})),t={},n=0;n<e.length;++n)t[e[n].id]=e[n];var r=this._conference.myUserId();return t[r]={id:r,displayName:"localRecording.me",recordingStats:this.getLocalStats(),isSelf:!0},t}},{key:"_changeState",value:function(e){this._state!==e&&(u.log("state change: ".concat(this._state.toString()," -> ")+e.toString()),this._state=e)}},{key:"_updateStats",value:function(){this._conference&&this._conference.setLocalParticipantProperty("localRecStats",JSON.stringify(this.getLocalStats()))}},{key:"_onStartCommand",value:function(e){var t=this,n=e.attributes,r=n.sessionToken,i=n.format;this._state===l.IDLE?(this._changeState(l.STARTING),this._switchToNewSession(r,i),this._doStartRecording()):this._state===l.RECORDING&&this._currentSessionToken!==r&&(this._changeState(l.STOPPING),this._doStopRecording().then((function(){t._changeState(l.STARTING),t._switchToNewSession(r,i),t._doStartRecording()})))}},{key:"_onStopCommand",value:function(e){this._state===l.RECORDING&&this._currentSessionToken===e.attributes.sessionToken&&(this._changeState(l.STOPPING),this._doStopRecording())}},{key:"_onPingCommand",value:function(){this._conference.isModerator()&&(u.log("Received ping, sending pong."),this._conference.sendCommandOnce("localRecPong",{}))}},{key:"_getRandomToken",value:function(){return Math.floor(1e8*Math.random())+1}},{key:"_doStartRecording",value:function(){var e=this;if(this._state===l.STARTING){var t=this._adapters[this._currentSessionToken];t.start(this._micDeviceId).then((function(){e._changeState(l.RECORDING),s.a.beginSegment(e._currentSessionToken),u.log("Local recording engaged."),e._onNotify&&e._onNotify("localRecording.messages.engaged"),e._onStateChanged&&e._onStateChanged(!0),t.setMuted(e._isMuted),e._updateStats()})).catch((function(e){u.error("Failed to start local recording.",e)}))}}},{key:"_doStopRecording",value:function(){var e=this;if(this._state===l.STOPPING){var t=this._currentSessionToken;return this._adapters[this._currentSessionToken].stop().then((function(){e._changeState(l.IDLE),s.a.endSegment(e._currentSessionToken),u.log("Local recording unengaged."),e.downloadRecordedData(t);var n=e._conference.isModerator()?"localRecording.messages.finishedModerator":"localRecording.messages.finished",r={token:t};e._onNotify&&e._onNotify(n,r),e._onStateChanged&&e._onStateChanged(!1),e._updateStats()})).catch((function(e){u.error("Failed to stop local recording.",e)}))}return Promise.resolve()}},{key:"_switchToNewSession",value:function(e,t){this._format=t,this._currentSessionToken=e,u.log("New session: ".concat(this._currentSessionToken,", format: ")+this._format),this._adapters[e]=this._createRecordingAdapter(),s.a.createSession(e,this._format)}},{key:"_createRecordingAdapter",value:function(){switch(u.debug("[RecordingController] creating recording adapter for ".concat(this._format," format.")),this._format){case"ogg":return new a.b;case"flac":return new a.a;case"wav":return new a.c;default:throw new Error("Unknown format: "+this._format)}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=n(161),o=Object(r.getLogger)(e),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._mediaRecorder=null,e._initPromise=null,e._recordedData=null,e}return _createClass(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){return new Promise((function(e){t._mediaRecorder.start(),e()}))}))}},{key:"stop",value:function(){var e=this;return new Promise((function(t){e._mediaRecorder.onstop=function(){return t()},e._mediaRecorder.stop()}))}},{key:"exportRecordedData",value:function(){return null!==this._recordedData?Promise.resolve({data:this._recordedData,format:"ogg"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,o.log(e?"Mute":"Unmute")),Promise.resolve()):(o.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"_initialize",value:function(e){var t=this;return this._mediaRecorder?Promise.resolve():new Promise((function(n,r){t._getAudioStream(e).then((function(e){t._stream=e,t._mediaRecorder=new MediaRecorder(e),t._mediaRecorder.ondataavailable=function(e){return t._saveMediaData(e.data)},n()})).catch((function(e){o.error("Error calling getUserMedia(): "+e),r()}))}))}},{key:"_saveMediaData",value:function(e){this._recordedData=e}}]),n}(i.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=n(237),o=Object(r.getLogger)(e),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._wavLength=0,e._wavBuffers=[],e._isInitialized=!1,e._initPromise=null,e._onAudioProcess=e._onAudioProcess.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){t._wavBuffers=[],t._wavLength=0,t._connectAudioGraph()}))}},{key:"stop",value:function(){return this._disconnectAudioGraph(),this._data=this._exportMonoWAV(this._wavBuffers,this._wavLength),this._audioProcessingNode=null,this._audioSource=null,this._isInitialized=!1,Promise.resolve()}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:"wav"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,o.log(e?"Mute":"Unmute")),Promise.resolve()):(o.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"setMicDevice",value:function(e){return this._replaceMic(e)}},{key:"_createWavHeader",value:function(e){var t=new ArrayBuffer(44),n=new DataView(t);return s(n,0,"RIFF"),s(n,8,"WAVE"),s(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,1,!0),n.setUint32(24,this._sampleRate,!0),n.setUint32(28,1*Number(this._sampleRate)*16/8,!0),n.setUint16(32,1*Number(16)/8,!0),n.setUint16(34,16,!0),s(n,36,"data"),n.setUint32(4,32+e,!0),n.setUint32(40,e,!0),new Uint8Array(t)}},{key:"_initialize",value:function(e){var t=this;return this._isInitialized?Promise.resolve():this._initializeAudioContext(e,this._onAudioProcess).then((function(){t._isInitialized=!0}))}},{key:"_onAudioProcess",value:function(e){var t=e.inputBuffer.getChannelData(0);this._wavBuffers.push(new Float32Array(t)),this._wavLength+=t.length}},{key:"_exportMonoWAV",value:function(e,t){for(var n=2*t,r=new ArrayBuffer(44+n),i=new DataView(r),o=this._createWavHeader(n),a=o.length,s=0;s<a;++s)i.setUint8(s,o[s]);return function(e,t,n){var r,i,o,a,s,u=n.length,c=44;for(r=0;r<u;++r)for(s=(o=n[r]).length,i=0;i<s;++i,c+=2)a=Math.max(-1,Math.min(1,o[i])),e.setInt16(c,a<0?32768*a:32767*a,!0)}(i,0,e),new Blob([i],{type:"audio/wav"})}}]),n}(i.a);function s(e,t,n){for(var r=n.length,i=0;i<r;++i)e.setUint8(t+i,n.charCodeAt(i))}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(237),o=n(142),a=Object(r.getLogger)(e),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._encoder=null,e._stopPromiseResolver=null,e._initWorkerPromiseResolver=null,e._initPromise=null,e._onAudioProcess=e._onAudioProcess.bind(_assertThisInitialized(e)),e._onWorkerMessage=e._onWorkerMessage.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){t._connectAudioGraph()}))}},{key:"stop",value:function(){var e=this;return this._encoder?new Promise((function(t){e._initPromise=null,e._disconnectAudioGraph(),e._stopPromiseResolver=t,e._encoder.postMessage({command:o.b})})):(a.error("Attempting to stop but has nothing to stop."),Promise.reject())}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:"flac"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,a.log(e?"Mute":"Unmute")),Promise.resolve()):(a.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"setMicDevice",value:function(e){return this._replaceMic(e)}},{key:"_initialize",value:function(e){var t=this;return null!==this._encoder?Promise.resolve():new Promise((function(e,n){try{t._loadWebWorker()}catch(e){n()}t._initWorkerPromiseResolver=e,t._encoder.onmessage=t._onWorkerMessage,t._encoder.postMessage({command:o.c,config:{sampleRate:t._sampleRate,bps:16}})})).then((function(){return t._initializeAudioContext(e,t._onAudioProcess)}))}},{key:"_onAudioProcess",value:function(e){var t=e.inputBuffer.getChannelData(0);this._encoder.postMessage({command:o.d,buf:t})}},{key:"_onWorkerMessage",value:function(e){switch(e.data.command){case o.e:this._data=e.data.buf,null!==this._stopPromiseResolver&&(this._stopPromiseResolver(),this._stopPromiseResolver=null,this._encoder.terminate(),this._encoder=null);break;case o.a:a.log(e.data);break;case o.f:a.log("libflac is ready."),this._initWorkerPromiseResolver();break;default:a.error('Unknown event\n                from encoder (WebWorker): "'.concat(e.data.command,'"!'))}}},{key:"_loadWebWorker",value:function(){var e=new Blob(["importScripts('https://sdk.sariska.io/flacEncodeWorker.min.js');"],{type:"application/javascript"}),t=(window.URL||window.webkitURL).createObjectURL(e);this._encoder=new Worker(t),URL.revokeObjectURL(t)}}]),n}(i.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(167),i=n.n(r),o=n(92),a=n(5),s=Object(a.getLogger)(e);function u(){return window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}var c=Object.freeze({SESSION_STARTED:"SESSION_STARTED",SEGMENT_STARTED:"SEGMENT_STARTED",SEGMENT_ENDED:"SEGMENT_ENDED"}),l=new(function(){function e(){_classCallCheck(this,e),this._sessionsMetadata={},this._loadMetadata()}return _createClass(e,[{key:"_loadMetadata",value:function(){var e=o.b.getItem("localRecordingMetadataVersion1");if(null!==e)try{var t=i.a.parse(e);this._sessionsMetadata=t}catch(e){return void s.warn("Failed to parse localStorage item.")}}},{key:"_saveMetadata",value:function(){o.b.setItem("localRecordingMetadataVersion1",JSON.stringify(this._sessionsMetadata))}},{key:"createSession",value:function(e,t){void 0===this._sessionsMetadata[e]?(this._sessionsMetadata[e]={format:t,events:[]},this._sessionsMetadata[e].events.push({type:c.SESSION_STARTED,timestamp:u()}),this._saveMetadata()):s.warn("Session ".concat(e," already exists"))}},{key:"getSessions",value:function(){for(var e=Object.keys(this._sessionsMetadata),t=[],n=0;n<e.length;++n){var r=this._sessionsMetadata[e[n]],i={start:r.events[0].timestamp,format:r.format,sessionToken:e[n],segments:this.getSegments(e[n])};t.push(i)}return t.sort((function(e,t){return(e.start||0)-(t.start||0)})),t}},{key:"removeSession",value:function(e){delete this._sessionsMetadata[e],this._saveMetadata()}},{key:"getSegments",value:function(e){var t=this._sessionsMetadata[e];return t?this._constructSegments(t.events):[]}},{key:"beginSegment",value:function(e){return void 0===this._sessionsMetadata[e]?(s.warn("Attempting to add segments to nonexistent session "+e),-1):(this._sessionsMetadata[e].events.push({type:c.SEGMENT_STARTED,timestamp:u()}),this._saveMetadata(),this.getSegments(e).length-1)}},{key:"getCurrentSegmentIndex",value:function(e){if(void 0===this._sessionsMetadata[e])return-1;var t=this.getSegments(e);return 0===t.length||t[t.length-1].end?-1:t.length-1}},{key:"endSegment",value:function(e){void 0===this._sessionsMetadata[e]?s.warn("Attempting to end a segment in nonexistent session "+e):(this._sessionsMetadata[e].events.push({type:c.SEGMENT_ENDED,timestamp:u()}),this._saveMetadata())}},{key:"_constructSegments",value:function(e){if(0===e.length)return[];var t=[],n=null,r={};function i(){if(void 0===r.gapBefore||null===r.gapBefore)if(t.length>0&&t[t.length-1].end){var e=t[t.length-1];r.start&&e.end?r.gapBefore=r.start-e.end:r.gapBefore=null}else null!==n&&0===t.length?r.gapBefore=r.start?r.start-n:null:r.gapBefore=null;r.duration=r.end&&r.start?r.end-r.start:null,t.push(r),r={}}for(var o=0;o<e.length;++o){var a=e[o];switch(a.type){case c.SESSION_STARTED:null===n?n=a.timestamp:s.warn("Unexpected SESSION_STARTED event.",a);break;case c.SEGMENT_STARTED:void 0===r.start||null===r.start||i(),r.start=a.timestamp;break;case c.SEGMENT_ENDED:void 0===r.start||null===r.start?s.warn("Unexpected SEGMENT_ENDED event",a):(r.end=a.timestamp,i());break;default:s.warn("Unexpected error during _constructSegments")}}return r.start&&i(),t}}]),e}());window.sessionManager=l}).call(this,"/index.js")},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(32).Buffer,i=n(606).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(24)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,r){var i;e.exports=C,C.ReadableState=w,n(34).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=n(337),u=n(62).Buffer,c=t.Uint8Array||function(){},l=n(607);o=l&&l.debuglog?l.debuglog("stream"):function(){};var d,f,h,p=n(608),m=n(338),v=n(339).getHighWaterMark,g=n(147).codes,_=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(24)(C,s);var S=m.errorOrDestroy,D=["error","close","destroy","pause","resume"];function w(e,t,r){i=i||n(148),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(128).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||n(148),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,s);else if(i||(a=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new _("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)s.endEmitted?S(e,new E):A(e,s,t,!0);else if(s.ended)S(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?A(e,s,t,!1):M(e,s)):A(e,s,t,!1)}else r||(s.reading=!1,M(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function A(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),M(e,t)}function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function M(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){o("readable nexttick read 0"),e.read(0)}function x(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=n(128).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},C.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):O(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new y("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?m:u;function u(){o("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",(function t(r,a){o("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",m),n.removeListener("data",d),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var l=!1;function d(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){o("onerror",t),m(),e.removeListener("error",f),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),m()}function p(){o("onfinish"),e.removeListener("close",h),m()}function m(){o("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(P,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(P,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(x,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<D.length;a++)e.on(D[a],this.emit.bind(this,D[a]));return this._read=function(t){o("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(610)),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===h&&(h=n(611)),h(C,e,t)})}).call(this,n(49),n(45))},function(e,t,n){e.exports=n(34).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(45))},function(e,t,n){"use strict";var r=n(147).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=C,C.WritableState=w;var a,s={deprecate:n(251)},u=n(337),c=n(62).Buffer,l=t.Uint8Array||function(){},d=n(338),f=n(339).getHighWaterMark,h=n(147).codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,_=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function D(){}function w(e,t,a){o=o||n(148),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(M,e,t),e._writableState.errorEmitted=!0,S(e,i)):(o(i),e._writableState.errorEmitted=!0,S(e,i),M(e,t))}(e,n,i,t,o);else{var a=O(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),i?r.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(e){var t=this instanceof(o=o||n(148));if(!t&&!a.call(C,this))return new C(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),M(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,T(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var n=O(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(24)(C,u),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===C&&e&&e._writableState instanceof w}})):a=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new g)},C.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=D),o.ending?function(e,t){var n=new y;S(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(S(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,M(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this,n(49),n(45))},function(e,t,n){"use strict";e.exports=l;var r=n(147).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(148);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(24)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var r=n(24),i=n(149),o=n(32).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,g=0;g<16;++g)n[g]=e.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((t=n[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[g-7]+h(n[g-15])+n[g-16];for(var _=0;_<64;++_){var b=v+f(u)+c(u,p,m)+a[_]+n[_]|0,y=d(r)+l(r,i,o)|0;v=m,m=p,p=u,u=s+b|0,s=o,o=i,i=r,r=b+y|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},function(e,t,n){var r=n(24),i=n(149),o=n(32).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,_=0|this._gh,b=0|this._hh,y=0|this._al,E=0|this._bl,S=0|this._cl,D=0|this._dl,w=0|this._el,C=0|this._fl,T=0|this._gl,A=0|this._hl,k=0;k<32;k+=2)t[k]=e.readInt32BE(4*k),t[k+1]=e.readInt32BE(4*k+4);for(;k<160;k+=2){var O=t[k-30],R=t[k-30+1],M=h(O,R),I=p(R,O),P=m(O=t[k-4],R=t[k-4+1]),N=v(R,O),x=t[k-14],F=t[k-14+1],L=t[k-32],j=t[k-32+1],B=I+F|0,U=M+x+g(B,I)|0;U=(U=U+P+g(B=B+N|0,N)|0)+L+g(B=B+j|0,j)|0,t[k]=U,t[k+1]=B}for(var H=0;H<160;H+=2){U=t[H],B=t[H+1];var V=l(n,r,i),q=l(y,E,S),G=d(n,y),J=d(y,n),z=f(s,w),K=f(w,s),W=a[H],$=a[H+1],Y=c(s,u,_),X=c(w,C,T),Q=A+K|0,Z=b+z+g(Q,A)|0;Z=(Z=(Z=Z+Y+g(Q=Q+X|0,X)|0)+W+g(Q=Q+$|0,$)|0)+U+g(Q=Q+B|0,B)|0;var ee=J+q|0,te=G+V+g(ee,J)|0;b=_,A=T,_=u,T=C,u=s,C=w,s=o+Z+g(w=D+Q|0,D)|0,o=i,D=S,i=r,S=E,r=n,E=y,n=Z+te+g(y=Q+ee|0,Q)|0}this._al=this._al+y|0,this._bl=this._bl+E|0,this._cl=this._cl+S|0,this._dl=this._dl+D|0,this._el=this._el+w|0,this._fl=this._fl+C|0,this._gl=this._gl+T|0,this._hl=this._hl+A|0,this._ah=this._ah+n+g(this._al,y)|0,this._bh=this._bh+r+g(this._bl,E)|0,this._ch=this._ch+i+g(this._cl,S)|0,this._dh=this._dh+o+g(this._dl,D)|0,this._eh=this._eh+s+g(this._el,w)|0,this._fh=this._fh+u+g(this._fl,C)|0,this._gh=this._gh+_+g(this._gl,T)|0,this._hh=this._hh+b+g(this._hl,A)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},function(e,t,n){"use strict";(function(t,r){var i=n(202);e.exports=b;var o,a=n(334);b.ReadableState=_,n(34).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(345),c=n(256).Buffer,l=t.Uint8Array||function(){},d=Object.create(n(182));d.inherits=n(24);var f=n(619),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(620),v=n(346);d.inherits(b,u);var g=["error","close","destroy","pause","resume"];function _(e,t){e=e||{};var r=t instanceof(o=o||n(129));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(128).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(129),!(this instanceof b))return new b(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function y(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,D(e)}}(e,a)):(i||(o=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):C(e,a)):E(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),C(e,t)}function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(w,e):w(e))}function w(e){h("emit readable"),e.emit("readable"),O(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},b.prototype.unshift=function(e){return y(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(128).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):D(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?_:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",(function t(r,i){h("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",_),n.removeListener("data",p),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",l);var d=!1,f=!1;function p(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==P(o.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(t){h("onerror",t),_(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",g),_()}function g(){h("onfinish"),e.removeListener("close",v),_()}function _(){h("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",v),e.once("finish",g),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&D(this):i.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=R}).call(this,n(49),n(45))},function(e,t,n){e.exports=n(34).EventEmitter},function(e,t,n){"use strict";var r=n(202);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var r=n(129),i=Object.create(n(182));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(24),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var r=n(24),i=n(627),o=n(116),a=n(32).Buffer,s=n(349),u=n(253),c=n(254),l=a.alloc(128);function d(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>n?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:c(e),this._hash.update(r)}r(d,o),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new i(s,t):new d(e,t)}},function(e,t,n){var r=n(250);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(629),t.pbkdf2Sync=n(354)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t,n){var r;r=t.process&&t.process.browser?"utf-8":t.process&&t.process.version?parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=r}).call(this,n(49),n(45))},function(e,t,n){var r=n(349),i=n(253),o=n(254),a=n(32).Buffer,s=n(352),u=n(353),c=n(355),l=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var s=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?r:function(t){return o(e).update(t).digest()}}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=s(t):t.length<u&&(t=a.concat([t,l],u));for(var c=a.allocUnsafe(u+d[e]),f=a.allocUnsafe(u+d[e]),h=0;h<u;h++)c[h]=54^t[h],f[h]=92^t[h];var p=a.allocUnsafe(u+n+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=f,this.alg=e,this.blocksize=u,this.hash=s,this.size=d[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){s(n,r);var o=new f(i=i||"sha1",e=c(e,u,"Password"),(t=c(t,u,"Salt")).length),l=a.allocUnsafe(r),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,m=d[i],v=Math.ceil(r/m),g=1;g<=v;g++){h.writeUInt32BE(g,t.length);for(var _=o.run(h,o.ipad1),b=_,y=1;y<n;y++){b=o.run(b,o.ipad2);for(var E=0;E<m;E++)_[E]^=b[E]}_.copy(l,p),p+=m}return l}},function(e,t,n){var r=n(32).Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=t>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++)n<<=4,n|=i[64*r+(e>>>18-6*r&63)];for(r=0;r<4;r++)n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)];return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(81),i=n(24),o=n(356),a=n(258);function s(){this.tmp=new Array(2),this.keys=null}function u(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(u,a),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=c[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},u.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];o.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var d=o.substitute(c,l),f=s;s=(a^o.permute(d))>>>0,a=f}o.rip(s,a,r,i)},u.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];o.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var d=o.substitute(c,l),f=a;a=(s^o.permute(d))>>>0,s=f}o.rip(a,s,r,i)}},function(e,t,n){var r=n(183),i=n(32).Buffer,o=n(359);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(e),c=o+16*s;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var r=n(203),i=n(32).Buffer,o=n(116),a=n(24),s=n(642),u=n(183),c=n(359);function l(e,t,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(u);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,l=i.alloc(8);l.writeUIntBE(u,0,8),r.update(l),e._finID=r.state;var d=i.from(e._finID);return c(d),d}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,n){var r=n(203),i=n(32).Buffer,o=n(116);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(24)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var r=n(146);e.exports=g,g.simpleSieve=m,g.fermatTest=v;var i=n(63),o=new i(24),a=new(n(364)),s=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),d=new i(3),f=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(e){for(var t=function(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;n.mod(l).cmp(d);)n.iadd(h)}else for(;n.mod(o).cmp(f);)n.iadd(h);if(m(p=n.shrn(1))&&m(n)&&v(p)&&v(n)&&a.test(p)&&a.test(n))return n}}},function(e,t,n){var r=n(63),i=n(261);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(o);t>0;t--){var d=this._randrange(new r(2),s);n&&n(d);var f=d.toRed(o).redPow(c);if(0!==f.cmp(a)&&0!==f.cmp(l)){for(var h=1;h<u;h++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(l))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),c=a.toRed(i);t>0;t--){var l=this._randrange(new r(2),a),d=e.gcd(l);if(0!==d.cmpn(1))return d;var f=l.toRed(i).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(c)){for(var h=1;h<s;h++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(c))break}if(h===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";(function(t,r){var i;e.exports=C,C.ReadableState=w,n(34).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=n(366),u=n(62).Buffer,c=t.Uint8Array||function(){},l=n(652);o=l&&l.debuglog?l.debuglog("stream"):function(){};var d,f,h,p=n(653),m=n(367),v=n(368).getHighWaterMark,g=n(150).codes,_=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(24)(C,s);var S=m.errorOrDestroy,D=["error","close","destroy","pause","resume"];function w(e,t,r){i=i||n(151),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(128).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||n(151),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,s);else if(i||(a=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new _("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)s.endEmitted?S(e,new E):A(e,s,t,!0);else if(s.ended)S(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?A(e,s,t,!1):M(e,s)):A(e,s,t,!1)}else r||(s.reading=!1,M(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function A(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),M(e,t)}function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function M(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){o("readable nexttick read 0"),e.read(0)}function x(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=n(128).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},C.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):O(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new y("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?m:u;function u(){o("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",(function t(r,a){o("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",m),n.removeListener("data",d),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var l=!1;function d(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){o("onerror",t),m(),e.removeListener("error",f),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),m()}function p(){o("onfinish"),e.removeListener("close",h),m()}function m(){o("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(P,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(P,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(x,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<D.length;a++)e.on(D[a],this.emit.bind(this,D[a]));return this._read=function(t){o("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(655)),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===h&&(h=n(656)),h(C,e,t)})}).call(this,n(49),n(45))},function(e,t,n){e.exports=n(34).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(45))},function(e,t,n){"use strict";var r=n(150).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=C,C.WritableState=w;var a,s={deprecate:n(251)},u=n(366),c=n(62).Buffer,l=t.Uint8Array||function(){},d=n(367),f=n(368).getHighWaterMark,h=n(150).codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,_=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function D(){}function w(e,t,a){o=o||n(151),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(M,e,t),e._writableState.errorEmitted=!0,S(e,i)):(o(i),e._writableState.errorEmitted=!0,S(e,i),M(e,t))}(e,n,i,t,o);else{var a=O(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),i?r.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(e){var t=this instanceof(o=o||n(151));if(!t&&!a.call(C,this))return new C(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),M(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,T(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var n=O(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(24)(C,u),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===C&&e&&e._writableState instanceof w}})):a=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new g)},C.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=D),o.ending?function(e,t){var n=new y;S(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(S(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,M(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this,n(49),n(45))},function(e,t,n){"use strict";e.exports=l;var r=n(150).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(151);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(24)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var r=t;r.base=n(205),r.short=n(663),r.mont=n(664),r.edwards=n(665)},function(e,t,n){"use strict";var r=n(96).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(96),i=n(184),o=n(373),a=n(81),s=r.sum32,u=r.sum32_4,c=r.sum32_5,l=o.ch32,d=o.maj32,f=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(_,v),e.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],g=this.h[3],_=this.h[4],b=this.h[5],y=this.h[6],E=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var S=c(E,h(_),l(_,b,y),this.k[r],n[r]),D=s(f(i),d(i,o,v));E=y,y=b,b=_,_=s(g,S),g=v,v=o,o=i,i=s(S,D)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],_),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],y),this.h[7]=s(this.h[7],E)},_.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(96),i=n(184),o=n(81),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,l=r.sum64,d=r.sum64_hi,f=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,v=r.sum64_5_lo,g=i.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function y(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function S(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function D(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function w(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function R(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function M(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,g),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=R(n[r-4],n[r-3]),o=M(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=k(n[r-30],n[r-29]),c=O(n[r-30],n[r-29]),l=n[r-32],d=n[r-31];n[r]=h(i,o,a,s,u,c,l,d),n[r+1]=p(i,o,a,s,u,c,l,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],_=this.h[9],b=this.h[10],k=this.h[11],O=this.h[12],R=this.h[13],M=this.h[14],I=this.h[15];o(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var N=M,x=I,F=T(g,_),L=A(g,_),j=y(g,0,b,0,O),B=E(0,_,0,k,0,R),U=this.k[P],H=this.k[P+1],V=n[P],q=n[P+1],G=m(N,x,F,L,j,B,U,H,V,q),J=v(N,x,F,L,j,B,U,H,V,q);N=w(r,i),x=C(r,i),F=S(r,0,a,0,u),L=D(0,i,0,s,0,c);var z=d(N,x,F,L),K=f(N,x,F,L);M=O,I=R,O=b,R=k,b=g,k=_,g=d(h,p,G,J),_=f(p,p,G,J),h=u,p=c,u=a,c=s,a=r,s=i,r=d(G,J,z,K),i=f(G,J,z,K)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,u,c),l(this.h,6,h,p),l(this.h,8,g,_),l(this.h,10,b,k),l(this.h,12,O,R),l(this.h,14,M,I)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(680).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=f;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,v=0|a[2],g=8191&v,_=v>>>13,b=0|a[3],y=8191&b,E=b>>>13,S=0|a[4],D=8191&S,w=S>>>13,C=0|a[5],T=8191&C,A=C>>>13,k=0|a[6],O=8191&k,R=k>>>13,M=0|a[7],I=8191&M,P=M>>>13,N=0|a[8],x=8191&N,F=N>>>13,L=0|a[9],j=8191&L,B=L>>>13,U=0|s[0],H=8191&U,V=U>>>13,q=0|s[1],G=8191&q,J=q>>>13,z=0|s[2],K=8191&z,W=z>>>13,$=0|s[3],Y=8191&$,X=$>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(r=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(f,H)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,V))+Math.imul(m,H)|0,o=Math.imul(m,V);var ge=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,H),i=(i=Math.imul(g,V))+Math.imul(_,H)|0,o=Math.imul(_,V),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,J)|0;var _e=(c+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(y,H),i=(i=Math.imul(y,V))+Math.imul(E,H)|0,o=Math.imul(E,V),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,W)|0;var be=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,V))+Math.imul(w,H)|0,o=Math.imul(w,V),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(g,K)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var ye=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(T,H),i=(i=Math.imul(T,V))+Math.imul(A,H)|0,o=Math.imul(A,V),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,H),i=(i=Math.imul(O,V))+Math.imul(R,H)|0,o=Math.imul(R,V),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(D,K)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var Se=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,V))+Math.imul(P,H)|0,o=Math.imul(P,V),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var De=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,V))+Math.imul(F,H)|0,o=Math.imul(F,V),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var we=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,H),i=(i=Math.imul(j,V))+Math.imul(B,H)|0,o=Math.imul(B,V),r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,J)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Ce=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,G),i=(i=Math.imul(j,J))+Math.imul(B,G)|0,o=Math.imul(B,J),r=r+Math.imul(x,K)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(F,K)|0,o=o+Math.imul(F,W)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Te=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,K),i=(i=Math.imul(j,W))+Math.imul(B,K)|0,o=Math.imul(B,W),r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(F,Y)|0,o=o+Math.imul(F,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,fe)|0;var Ae=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(B,Y)|0,o=Math.imul(B,X),r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var ke=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(B,Z)|0,o=Math.imul(B,ee),r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(F,ne)|0,o=o+Math.imul(F,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,fe)|0;var Oe=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,ne),i=(i=Math.imul(j,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(F,oe)|0,o=o+Math.imul(F,ae)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(R,de)|0,o=o+Math.imul(R,fe)|0;var Re=(c+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(F,ue)|0,o=o+Math.imul(F,ce)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,fe)|0;var Me=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(F,de)|0,o=o+Math.imul(F,fe)|0;var Ie=(c+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,de),i=(i=Math.imul(j,fe))+Math.imul(B,de)|0,o=Math.imul(B,fe);var Pe=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(F,pe)|0))<<13)|0;c=((o=o+Math.imul(F,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(c+(r=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=ve,u[1]=ge,u[2]=_e,u[3]=be,u[4]=ye,u[5]=Ee,u[6]=Se,u[7]=De,u[8]=we,u[9]=Ce,u[10]=Te,u[11]=Ae,u[12]=ke,u[13]=Oe,u[14]=Re,u[15]=Me,u[16]=Ie,u[17]=Pe,u[18]=Ne,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function _(e,t,n){return g(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(v=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):_(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var d=u,f=c,h=0;h<a;h++){var p=n[l+h],m=r[l+h],v=n[l+h+a],g=r[l+h+a],_=d*v-f*g;g=d*g+f*v,v=_,n[l+h]=p+v,r[l+h]=m+g,n[l+h+a]=p-v,r[l+h+a]=m-g,h!==s&&(_=u*d-c*f,f=u*f+c*d,d=_)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,d,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*d[h];u[h]=s[h]*d[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),_(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new T(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(S,E),S.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(D,E),i(w,E),i(C,E),C.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new D;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new C}return y[e]=t,t},T.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},T.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(d,new o(1).iushln(p-v-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=v}return f},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,T),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(180)(e))},function(e,t,n){"use strict";var r=t;r.bignum=n(63),r.define=n(682).define,r.base=n(685),r.constants=n(686),r.decoders=n(380),r.encoders=n(378)},function(e,t,n){"use strict";var r=t;r.der=n(379),r.pem=n(683)},function(e,t,n){"use strict";var r=n(24),i=n(267).Buffer,o=n(268),a=n(270);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,o),u.prototype._encodeComposite=function(e,t,n,r){var o=function(e,t,n,r){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=a.tagClassByName[n||"universal"]<<6)}(e,t,n,this.reporter);if(r.length<128){var s=i.alloc(2);return s[0]=o,s[1]=r.length,this._createEncoderBuffer([s,r])}for(var u=1,c=r.length;c>=256;c>>=8)u++;var l=i.alloc(2+u);l[0]=o,l[1]=128|u;for(var d=1+u,f=r.length;f>0;d--,f>>=8)l[d]=255&f;return this._createEncoderBuffer([l,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=i.alloc(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var a=0,s=0;s<e.length;s++){var u=e[s];for(a++;u>=128;u>>=7)a++}for(var c=i.alloc(a),l=c.length-1,d=e.length-1;d>=0;d--){var f=e[d];for(c[l--]=127&f;(f>>=7)>0;)c[l--]=128|127&f}return this._createEncoderBuffer(c)},u.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[c(r.getUTCFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(r.getUTCFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=i.from(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=i.alloc(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var a=1,s=e;s>=256;s>>=8)a++;for(var u=new Array(a),c=u.length-1;c>=0;c--)u[c]=255&e,e>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(i.from(u))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t,n){"use strict";var r=t;r.der=n(381),r.pem=n(684)},function(e,t,n){"use strict";var r=n(24),i=n(63),o=n(185).DecoderBuffer,a=n(268),s=n(270);function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function d(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=u,u.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},r(c,a),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=d(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r,i=d(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0,a=0;!e.isEmpty();)o<<=7,o|=127&(a=e.readUInt8()),0==(128&a)&&(i.push(o),o=0);128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),t){var c=t[r.join(" ")];void 0===c&&(c=t[r.join(".")]),void 0!==c&&(r=c)}return r},c.prototype._decodeTime=function(e,t){var n,r,i,o,a,s,u=e.raw().toString();if("gentime"===t)n=0|u.slice(0,4),r=0|u.slice(4,6),i=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|u.slice(0,2),r=0|u.slice(2,4),i=0|u.slice(4,6),o=0|u.slice(6,8),a=0|u.slice(8,10),s=0|u.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,i,o,a,s,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var n=e.raw(),r=new i(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var r=n(181),i=n(32).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(63),i=n(32).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){"use strict";var r,i=n(706),o=n(201),a=window,s=n(247).ao_,u=n(95),c=u.C_,l=u.ap_,d=n(388),f=n(89),h=n(145),p=h.F_,m=h.E_,v={},g={};function _(e,t,n){var r,i,a,d,f,h=t.length;for(n=n||[],e=e.firstChild;e;){if(f=e.nextSibling,8===e.nodeType){var m=e.nodeValue;if(m.slice(0,h)===t){var g=m[h];if("^"===g||"#"===g)n.push(e);else if("/"===g){var b,y=e,E=n.pop();if(b=E.parentNode===y.parentNode?s(E.nextSibling,y):s(y.parentNode.firstChild,y),r=E.nodeValue.substring(h+1),"^"===(g=E.nodeValue[h])){var S=r.split(/ /g),D=S[2];i=S[1],r=S[0],d=(a=c[i])?a.k_:p[i]||(p[i]={}),l(d,D,b,r)}v[r]=b,E.parentNode.removeChild(E),y.parentNode.removeChild(y)}}}else if(1===e.nodeType){var w=e.getAttribute("data-marko-key"),C=u.am_(e);if(w){var T=w.indexOf(" ");i=w.substring(T+1),w=w.substring(0,T),(d=(a=c[i])?a.k_:p[i]||(p[i]={}))[w]=e}C&&Object.keys(C).forEach((function(e){"on"===e.slice(0,2)&&o._D_(e.slice(2))})),_(e,t,n)}e=f}}function b(e,t){var n=e.h_;n.I_(),n.X_=t,e._G_&&n._b_();var r=e._F_;if(r){var i=[];r.forEach((function(e){var t=e[0],r=e[1],o=n.k_[e[2]],a=e[3],s=e[4];!function(e,t,n,r,i,o,a){var s=function(e,t,n,r){var i=r;return n&&(i=function(n){r(n),e.removeEventListener(t,i)}),e.addEventListener(t,i,!1),function(){e.removeEventListener(t,i)}}(t,n,i,(function(n){var i=[n,t];o&&(i=o.concat(i)),function(e,t,n){var r=e[t];if(!r)throw Error("Method not found: "+t);r.apply(e,n)}(e,r,i)}));a.push(s)}(n,o,t,r,a,s,i)})),i.length&&(n.M_=i)}n.R_?n.H_():(n.R_=!0,n._z_())}function y(e,t,n,i){var o=d._O_(e,t.ar_,t.aq_,f),a=E(o,n);return a||(r?r.push(o):(r=[o],document.addEventListener("DOMContentLoaded",(function(){_(n,i),r.map((function(e){return E(e,n)})).reverse().forEach(D),r=void 0})))),a}function E(e,t){var n,r=e.id,i=e.h_,o=v[r];if(o)return delete v[r],i.K_=o,m.set(o,i),1&e._I_?(i.X_=t,n=i._p_(i.Q_,!0),S(e),function(){n.afterInsert(t)}):(S(e),function(){b(e,t)})}function S(e){var t=e.h_;t&&(c[t.id]=t)}function D(e){e&&e()}t._R_=function(e,t){t||(t=document),o.an_(t);var n,r=e.length;for(n=r;n--;)S(e[n]);for(n=r;n--;)b(e[n],t)},t.ai_=function e(t,n){var r,s=typeof t,u="$";if("object"!==s){u+="string"===s?(r=t)+"_C":(r="M")+"C",t=a[u];var c=a[u]={r:r,concat:e};return t&&t.forEach&&t.forEach((function(e){c.concat(e)})),c}var l=this.concat===e;t=i(t),l?(r=this.r,n=document):(r=t.r||"M",n||(n=document));var d=t.p||"",h=g[d],p=t.l;return h?p&&delete g[d]:(h={},p||(g[d]=h)),_(n,r),o.an_(n),t.g&&(h.aq_=t.g),t.t&&(h.ar_=h.ar_?h.ar_.concat(t.t):t.t),(t.w||[]).map((function(e){var t=h.ar_[e[1]];return f.as_(t)?y(e,h,n,r):f.at_(e,t,h,n,r)})).reverse().forEach(D),this},t.au_=y},function(e,t,n){(function(e){var n="undefined"!=typeof window?window:e;t.NOOP=n.$W10NOOP=n.$W10NOOP||function(){}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(708).NOOP,i=n(95)._C_,o=n(201)._D_,a=n(179),s=n(323),u={};function c(e,t,n){this._E_=n,this.h_=e,this.id=t,this._F_=void 0,this._G_=!1,this._H_=!1,this._I_=0,this._J_=0,this._K_=null}c.prototype={_L_:function(e){return(this._K_||(this._K_=new s))._L_(e)},elId:function(e){var t=this.id;return null==e?t:("string"!=typeof e&&(e=String(e)),0===e.indexOf("#")&&(t="#"+t,e=e.substring(1)),t+"-"+e)},_M_:function(){return this.id+"-c"+this._J_++},d:function(e,t,n,r){return o(e),i(this,t,n,r)},get _N_(){return this.h_._N_}},c.prototype.nk=c.prototype._L_,c._O_=function(e,t,n,i){var o=e[0],s=t[e[1]],c=e[2]||null,l=e[3]||u,d=l.s,f=l.w,h=l.f,p=i._P_(s,o);if(p.U_=!0,2&h&&((c||(c={})).renderBody=r),1&h)p.onCreate&&p.onCreate(c,{global:n}),p.onInput&&(c=p.onInput(c,{global:n})||c);else{if(d){var m=l.u;m&&m.forEach((function(e){d[e]=void 0})),p.state=d}f&&a(p,f)}p.Q_=c,l.b&&(p.N_=l.b);var v=l.p,g=l.e;return g&&p._v_(g,v),p.S_=n,{id:o,h_:p,_F_:l.d,_I_:l.f||0}},e.exports=c},function(e,t,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(59),i=n(40);function o(e,t){try{for(var n=e,r=[],i=0,o=0,s=void 0;n&&i++<5&&!("html"===(s=a(n,t))||i>1&&o+3*r.length+s.length>=80);)r.push(s),o+=s.length,n=n.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}function a(e,t){var n,r,o,a,s,u=e,c=[];if(!u||!u.tagName)return"";c.push(u.tagName.toLowerCase());var l=t&&t.length?t.filter((function(e){return u.getAttribute(e)})).map((function(e){return[e,u.getAttribute(e)]})):null;if(l&&l.length)l.forEach((function(e){c.push("["+e[0]+'="'+e[1]+'"]')}));else if(u.id&&c.push("#"+u.id),(n=u.className)&&Object(i.l)(n))for(r=n.split(/\s+/),s=0;s<r.length;s++)c.push("."+r[s]);var d=["type","name","title","alt"];for(s=0;s<d.length;s++)o=d[s],(a=u.getAttribute(o))&&c.push("["+o+'="'+a+'"]');return c.join("")}function s(){var e=Object(r.a)();try{return e.document.location.href}catch(e){return""}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(193),i=n(107),o=n(61),a=function(){function e(e){this.errors=0,this.sid=Object(r.g)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=Object(i.c)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Object(i.c)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(r.g)()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return Object(o.c)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}()},function(e,t,n){"use strict";function r(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var r=0;r<t.length;r++)if(t[r]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}}]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(469),i=n(41),o=n(19),a=n(35);function s(){Object(r.a)("error",u),Object(r.a)("unhandledrejection",u)}function u(){var e=Object(a.a)();e&&(o.a&&i.c.log("[Tracing] Transaction: internal_error -> Global error occured"),e.setStatus("internal_error"))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return le}));var r=n(5),i=n(34),o=n.n(i),a=n(78),s=n.n(a),u=n(3),c=n(38),l=n(395),d=n(2),f=n(403),h=n(47),p=n(33),m=n(30),v=n(404),g=n(426),_=n(28),b=n(85),y=n(6),E=n(435),S=n(436),D=n(166),w=n(51),C=n(437),T=n(438),A=n(280),k=n(439),O=n(440),R=n(191),M=n(441),I=n(442),P=n(16),N=n(468),x=n(443),F=n(444),L=n(445),j=n(70),B=n(446),U=n(447),H=n(448),V=n(10),q=n(465),G=n(27),J=n.n(G),z=n(449),K=n(450),W=n(54),Y=n(238),X=n(452),Q=n(52),Z=n(172),ee=n.n(Z),te=n(44),ne=n.n(te),re=n(4),ie=n(11),oe=n(105),ae=n(22),se=n(15),ue=n(1);window.APP={conference:{}};var ce=Object(r.getLogger)(e);function le(e){var t;if(!e.name||e.name.toLowerCase()!==e.name.toString()){var n="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw ce.error(n),new Error(n)}if(this.connection=e.connection,this.xmpp=null===(t=this.connection)||void 0===t?void 0:t.xmpp,this.xmpp.isRoomCreated(e.name,e.customDomain)){var r="A conference with the same name has already been created!";throw delete this.connection,delete this.xmpp,ce.error(r),new Error(r)}this.eventEmitter=new o.a,this.options=e,this.eventManager=new l.a(this),this.participants={},this._signalingLayer=new Y.a,this._init(e),this.componentsVersions=new z.a(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.isVideoMutedByFocus=!1,this.mutedVideoByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new E.a(this,this.eventEmitter,e),this.avgRtpStatsReporter=new U.a(this,e.config.avgRtpStatsN||15),e.config.disableAudioLevels||(this._audioOutputProblemDetector=new B.a(this)),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new H.a(this),this.deferredStartP2PTask=null;var i=parseInt(e.config.p2p&&e.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(i)?5:i,ce.info("backToP2PDelay: "+this.backToP2PDelay),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new K.a(this.room),this.recordingManager=new L.a(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(ce.info("End-to-End Encryption is supported"),this._e2eEncryption=new R.a(this)),this._audioSenderLimitReached=void 0,this._videoSenderLimitReached=void 0,this.handleSubtitles(),e.config.enableLocalRecording&&(this.recordingController=new N.a,this.recordingController.registerEvents(this)),e.config.enableAnalytics&&this.enableAnalytics(),e.config.iAmRecorder&&(this.removeCommand("userinfo"),this.sendCommand("userinfo",{attributes:{xmlns:"http://jitsi.org/jitmeet/userinfo",robot:!0}}));var a=this;window.APP={conference:{_room:this,get membersCount(){return a.getParticipantsWithoutHidden().length+1},getStats:function(){return a.connectionQuality.getStats()},getConnectionState:function(){return a.getConnectionState()}}},this.localTracksDuration=new X.a(this),this.sessions={},this.user=e.user}le.prototype.constructor=le,le.resourceCreator=function(e){return u.Strophe.getNodeFromJid(e)},le.prototype._init=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.eventManager.setupXMPPListeners();var r=this.options.config,i={disabledCodec:r.videoQuality?r.videoQuality.disabledCodec:r.p2p&&r.p2p.disableH264&&ne.a.H264,enforcePreferredCodec:r.videoQuality&&r.videoQuality.enforcePreferredCodec,jvbCodec:r.videoQuality&&r.videoQuality.preferredCodec||r.preferH264&&ne.a.H264,p2pCodec:r.p2p?r.p2p.preferredCodec||r.p2p.preferH264&&ne.a.H264:ne.a.VP8};this.codecSelection=new g.a(this,i),this._statsCurrentId=r.statisticsId?r.statisticsId:j.a.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,Object.assign(Object.assign({},r),{statsId:this._statsCurrentId}),le.resourceCreator),this._signalingLayer.setChatRoom(this.room),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(ue.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(ue.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(ue.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this._removeLocalSourceOnReject=this._removeLocalSourceOnReject.bind(this),this._updateRoomPresence=this._updateRoomPresence.bind(this),this.room.addListener(ue.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),this.room.addListener(ue.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),this.room.addListener(ue.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),this.room.addListener(ue.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),(null===(e=r.e2eping)||void 0===e?void 0:e.enabled)&&(this.e2eping=new M.a(this,r,(function(e,n){try{t.sendMessage(e,n,!0)}catch(e){ce.warn("Failed to send E2E ping request or response.",e&&e.msg)}}))),this.rtc||(this.rtc=new _.a(this,n),this.eventManager.setupRTCListeners(),P.a.isSourceNameSignalingEnabled()&&this._registerRtcListeners(this.rtc)),this.receiveVideoController=new x.a(this,this.rtc),this.sendVideoController=new F.a(this,this.rtc),P.a.isSourceNameSignalingEnabled()||(this.participantConnectionStatus=new D.b(this.rtc,this,{p2pRtcMuteTimeout:r._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:r._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:r._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init());var o=!0;if(r.testing&&r.testing.callStatsThreshold&&(o=100*Math.random()<=r.testing.callStatsThreshold),this.statistics||(this.statistics=new V.a(this.xmpp,{aliasName:this._statsCurrentId,userName:r.statisticsDisplayName?r.statisticsDisplayName:this.myUserId(),confID:r.confID||"".concat(this.connection.options.hosts.domain,"/").concat(this.options.name),siteID:r.siteID,customScriptUrl:r.callStatsCustomScriptUrl,callStatsID:r.callStatsID,callStatsSecret:r.callStatsSecret,callStatsApplicationLogsDisabled:r.callStatsApplicationLogsDisabled,enableCallStats:o,roomName:this.options.name,applicationName:r.applicationName,getWiFiStatsMethod:r.getWiFiStatsMethod,configParams:r.callStatsConfigParams}),V.a.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),r.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),r.enableTalkWhileMuted&&y.a.supportsVADDetection())if(r.createVADProcessor){ce.info("Using VAD detection for generating talk while muted events"),this._audioAnalyser||(this._audioAnalyser=new A.a(this,r.createVADProcessor));var a=new O.a;a.on(w.VAD_TALK_WHILE_MUTED,(function(){return t.eventEmitter.emit(d.TALK_WHILE_MUTED)})),this._audioAnalyser.addVADDetectionService(a)}else ce.warn("No VAD Processor was provided. Talk while muted detection service was not initialized!");if(r.enableNoisyMicDetection&&y.a.supportsVADDetection())if(r.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new A.a(this,r.createVADProcessor));var s=new k.a;s.on(w.VAD_NOISY_DEVICE,(function(){return t.eventEmitter.emit(d.NOISY_MIC)})),this._audioAnalyser.addVADDetectionService(s)}else ce.warn("No VAD Processor was provided. Noisy microphone detection service was not initialized!");r.enableNoAudioDetection&&(this._noAudioSignalDetection=new C.a(this),this._noAudioSignalDetection.on(w.NO_AUDIO_INPUT,(function(){t.eventEmitter.emit(d.NO_AUDIO_INPUT)})),this._noAudioSignalDetection.on(w.AUDIO_INPUT_STATE_CHANGE,(function(e){t.eventEmitter.emit(d.AUDIO_INPUT_STATE_CHANGE,e)}))),"channelLastN"in r&&this.setLastN(r.channelLastN),this.jvb121Status=new I.a(this),this.p2pDominantSpeakerDetection=new T.a(this),r&&r.deploymentInfo&&r.deploymentInfo.userRegion&&this.setLocalParticipantProperty("region",r.deploymentInfo.userRegion),this.setLocalParticipantProperty("codecType",this.codecSelection.getPreferredCodec()),r&&r.transcriptionLanguage&&"en-US"!==r.transcriptionLanguage&&this.setLocalParticipantProperty("transcription_language",r.transcriptionLanguage)},le.prototype.join=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.room&&this.room.join(e,n).then((function(){return t._maybeSetSITimeout()}))},le.prototype.authenticateAndUpgradeRole=function(e){return v.a.call(this,Object.assign(Object.assign({},e),{onCreateResource:le.resourceCreator}))},le.prototype.isJoined=function(){return this.room&&this.room.joined},le.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p},le.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},le.prototype.leave=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach((function(e){return r.onLocalTrackRemoved(e)})),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this._maybeClearSITimeout(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){e.next=2;break}throw new Error("The conference is has been already left");case 2:return(t=this.room).removeListener(ue.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),t.removeListener(ue.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),t.removeListener(ue.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),t.removeListener(ue.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),t.removeListener(ue.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),t.removeListener(ue.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),t.removeListener(ue.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),t.removeListener(ue.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),t.removeListener(ue.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),this.eventManager.removeXMPPListeners(),this._signalingLayer.setChatRoom(null),this.room=null,e.prev=4,e.next=7,t.leave();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n=e.t0,this.getParticipants().forEach((function(e){return r.onMemberLeft(e.getJid())}));case 12:if(this.rtc&&this.rtc.destroy(),!n){e.next=14;break}throw n;case 14:case"end":return e.stop()}}),e,this,[[4,9]])})))},le.prototype.getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession},le.prototype.getMediaSessions=function(){var e=[];return this.jvbJingleSession&&e.push(this.jvbJingleSession),this.p2pJingleSession&&e.push(this.p2pJingleSession),e},le.prototype._registerRtcListeners=function(e){var t=this;e.addListener(ie.default.DATA_CHANNEL_OPEN,(function(){var e,n=_createForOfIteratorHelper(t.rtc.localTracks);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isVideoTrack()&&t._sendBridgeVideoTypeMessage(r)}}catch(i){n.e(i)}finally{n.f()}}))},le.prototype._sendBridgeVideoTypeMessage=function(e){var t=!e||e.isMuted()?ee.a.NONE:e.getVideoType();t===ee.a.DESKTOP&&this._desktopSharingFrameRate>b.a&&(t=ee.a.DESKTOP_HIGH_FPS),P.a.isSourceNameSignalingEnabled()&&e?this.rtc.sendSourceVideoType(e.getSourceName(),t):P.a.isSourceNameSignalingEnabled()||this.rtc.setVideoType(t)},le.prototype.getName=function(){return this.options.name.toString()},le.prototype.getConnection=function(){return this.connection},le.prototype.isAuthEnabled=function(){return this.authEnabled},le.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},le.prototype.getAuthLogin=function(){return this.authIdentity},le.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},le.prototype.getExternalAuthUrl=function(e){var t=this;return new Promise((function(n,r){t.isExternalAuthEnabled()?e?t.room.moderator.getPopupLoginUrl(n,r):t.room.moderator.getLoginUrl(n,r):r()}))},le.prototype.getLocalTracks=function(e){var t=[];return this.rtc&&(t=this.rtc.getLocalTracks(e)),t},le.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},le.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},le.prototype.getLocalVideoTracks=function(){return this.rtc?this.rtc.getLocalVideoTracks():null},le.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()}},le.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},le.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},le.prototype.addEventListener=le.prototype.on,le.prototype.removeEventListener=le.prototype.off,le.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},le.prototype.removeCommandListener=function(e,t){this.room&&this.room.removePresenceListener(e,t)},le.prototype.sendTextMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";this.room&&this.room.sendMessage(e,t)},le.prototype.sendPrivateTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";this.room&&this.room.sendPrivateMessage(e,t,n)},le.prototype.sendCommand=function(e,t){this.room?this.room.addOrReplaceInPresence(e,t)&&this.room.sendPresence():ce.warn("Not sending a command, room not initialized.")},le.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},le.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},le.prototype.setDisplayName=function(e){if(this.room){var t="nick";if(!e&&!this.room.getFromPresence(t))return;this.room.addOrReplaceInPresence(t,{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e})&&this.room.sendPresence()}},le.prototype.setSubject=function(e){this.room&&this.isModerator()?this.room.setSubject(e):ce.warn("Failed to set subject, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},le.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new q.a;var e,t=this.getLocalTracks(re.a.AUDIO),n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.transcriber.addTrack(r)}}catch(u){n.e(u)}finally{n.f()}var i,o=this.rtc.getRemoteTracks(re.a.AUDIO),a=_createForOfIteratorHelper(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.transcriber.addTrack(s)}}catch(u){a.e(u)}finally{a.f()}}return this.transcriber},le.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},le.prototype.addTrack=function(e){var t=this;if(e){e.isAudioTrack()&&this.options.config.startAudioMuted&&e.mute(),e.isVideoTrack()&&this.options.config.startVideoMuted&&e.mute();var n=e.getType(),r=this.rtc.getLocalTracks(n);if(r.length>0){if(e===r[0])return Promise.resolve(e);if(P.a.isMultiStreamSupportEnabled()&&n===re.a.VIDEO){var i=[];return this.p2pJingleSession&&i.push(this.p2pJingleSession.addTracks([e])),this.jvbJingleSession&&i.push(this.jvbJingleSession.addTracks([e])),Promise.all(i).then((function(){t._setupNewTrack(e),t._sendBridgeVideoTypeMessage(e),t._updateRoomPresence(t.getActiveMediaSession()),(t.isMutedByFocus||t.isVideoMutedByFocus)&&t._fireMuteChangeEvent(e)}))}return Promise.reject(new Error("Cannot add second ".concat(n," track to the conference")))}return this.replaceTrack(null,e).then((function(){e.getVideoType()===ae.VideoType.DESKTOP&&P.a.isMultiStreamSupportEnabled()&&t._updateRoomPresence(t.getActiveMediaSession())}))}},le.prototype._fireAudioLevelChangeEvent=function(e,t){var n=this.getActivePeerConnection();t&&n!==t||this.eventEmitter.emit(d.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),e)},le.prototype._fireMuteChangeEvent=function(e){var t;if(this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()?(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,re.a.AUDIO)):this.isVideoMutedByFocus&&e.isVideoTrack()&&!e.isMuted()&&(this.isVideoMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,re.a.VIDEO)),this.mutedByFocusActor&&e.isAudioTrack()){var n=u.Strophe.getResourceFromJid(this.mutedByFocusActor);t=this.participants[n]}else if(this.mutedVideoByFocusActor&&e.isVideoTrack()){var r=u.Strophe.getResourceFromJid(this.mutedVideoByFocusActor);t=this.participants[r]}e.isVideoTrack()&&!y.a.doesVideoMuteByStreamRemove()&&this._sendBridgeVideoTypeMessage(e),this.eventEmitter.emit(d.TRACK_MUTE_CHANGED,e,t)},le.prototype._getInitialLocalTracks=function(){var e=this;return this.getLocalTracks().filter((function(t){var n=t.getType();return!(n!==re.a.AUDIO||e.isStartAudioMuted()&&!y.a.isWebKitBased()&&!y.a.isReactNative())||n===re.a.VIDEO&&!e.isStartVideoMuted()}))},le.prototype.onLocalTrackRemoved=function(e){e.setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(m.TRACK_MUTE_CHANGED,e.muteHandler),e.isAudioTrack()&&e.removeEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e.isVideoTrack()&&e.videoType===ae.VideoType.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(d.TRACK_REMOVED,e)},le.prototype.removeTrack=function(e){return this.replaceTrack(e,null)},le.prototype.replaceTrack=function(e,t){var n=this,r=null==e?void 0:e.getVideoType(),i=null==t?void 0:t.getVideoType();if(P.a.isMultiStreamSupportEnabled()&&e&&t&&r!==i)throw new Error("Replacing a track of videoType=".concat(r," with a track of videoType=").concat(i," is not supported in this mode."));var o=this===(null==e?void 0:e.conference);return o&&e.disposed||(null==t?void 0:t.disposed)?Promise.reject(new h.a(p.TRACK_IS_DISPOSED)):(e&&!o&&ce.warn("JitsiConference.replaceTrack oldTrack (".concat(e," does not belong to this conference")),P.a.isMultiStreamSupportEnabled()&&e&&t&&e.isVideoTrack()&&t.setSourceName(e.getSourceName()),this._doReplaceTrack(o?e:null,t).then((function(){return o&&n.onLocalTrackRemoved(e),t&&n._setupNewTrack(t),(o&&(null==e?void 0:e.isVideoTrack())||(null==t?void 0:t.isVideoTrack()))&&n._sendBridgeVideoTypeMessage(t),o&&(null==e?void 0:e.isVideoTrack())&&!(null==e?void 0:e._setEffectInProgress)&&!(null==t?void 0:t._setEffectInProgress)&&n._updateRoomPresence(n.getActiveMediaSession()),null!==t&&(n.isMutedByFocus||n.isVideoMutedByFocus)&&n._fireMuteChangeEvent(t),Promise.resolve()})).catch((function(e){return ce.error("replaceTrack failed: "+(null==e?void 0:e.stack)),Promise.reject(e)})))},le.prototype._doReplaceTrack=function(e,t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(e,t)):ce.info("_doReplaceTrack - no JVB JingleSession"),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(e,t)):ce.info("_doReplaceTrack - no P2P JingleSession"),Promise.all(n)},le.prototype._removeLocalSourceOnReject=function(e,t,n){if(e){ce.warn("Source-add rejected on ".concat(e,', reason="').concat(null==t?void 0:t.reason,'", message="').concat(null==t?void 0:t.msg,'"'));var r=this.getLocalTracks(n)[0];this.eventEmitter.emit(d.TRACK_UNMUTE_REJECTED,r)}},le.prototype._setupNewTrack=function(e){var t,n=e.getType();if(e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==ae.VideoType.DESKTOP){var r=_.a.getCurrentlyAvailableMediaDevices().find((function(t){return t.kind===e.getTrack().kind+"input"&&t.label===e.getTrack().label}));r&&V.a.sendActiveDeviceListEvent(_.a.getEventDataForActiveDevice(r))}if(P.a.isSourceNameSignalingEnabled()&&!e.getSourceName()){var i=Object(oe.c)(this.myUserId(),n,null===(t=this.getLocalTracks(n))||void 0===t?void 0:t.length);e.setSourceName(i)}this.rtc.addLocalTrack(e),e.setConference(this),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.addEventListener(m.TRACK_MUTE_CHANGED,e.muteHandler),e.isAudioTrack()&&(e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler)),this.eventEmitter.emit(d.TRACK_ADDED,e)},le.prototype._setNewVideoType=function(e){var t=!1;if(P.a.isSourceNameSignalingEnabled()&&e&&(t=this._signalingLayer.setTrackVideoType(e.getSourceName(),e.videoType)),!P.a.isMultiStreamSupportEnabled()){var n="videoType",r=e?e.videoType:ae.VideoType.CAMERA;if(r!==ae.VideoType.CAMERA||this.room.getFromPresence(n)){var i=this.room.addOrReplaceInPresence(n,{value:r});t=t||i}}return t},le.prototype._setTrackMuteStatus=function(e,t,n){var r=!1;if(P.a.isSourceNameSignalingEnabled()&&t&&(r=this._signalingLayer.setTrackMuteStatus(t.getSourceName(),n)),!P.a.isMultiStreamSupportEnabled()){var i,o;if(!this.room)return!1;e===re.a.AUDIO?i=this.room.addAudioInfoToPresence(n):o=this.room.addVideoInfoToPresence(n),r=r||i||o}return r},le.prototype._addLocalTrackAsUnmute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.addTrackAsUnmute(e)):ce.debug("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.addTrackAsUnmute(e)):ce.debug("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.allSettled(t)},le.prototype._removeLocalTrackAsMute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.removeTrackAsMute(e)):ce.debug("Remove local MediaStream - no JVB JingleSession started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.removeTrackAsMute(e)):ce.debug("Remove local MediaStream - no P2P JingleSession started yet"),Promise.allSettled(t)},le.prototype.getRole=function(){return this.room.role},le.prototype.isHidden=function(){return this.connection?u.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},le.prototype.isModerator=function(){return this.room?this.room.isModerator():null},le.prototype.lock=function(e){var t=this;return this.isModerator()?new Promise((function(n,r){t.room.lockRoom(e||"",(function(){return n()}),(function(e){return r(e)}),(function(){return r(c.PASSWORD_NOT_SUPPORTED)}))})):Promise.reject(new Error("You are not moderator."))},le.prototype.unlock=function(){return this.lock()},le.prototype.selectParticipant=function(e){this.selectParticipants([e])},le.prototype.selectParticipants=function(e){if(!Array.isArray(e))throw new Error("Invalid argument; participantIds must be an array.");this.receiveVideoController.selectEndpoints(e)},le.prototype.getLastN=function(){return this.receiveVideoController.getLastN()},le.prototype.getForwardedSources=function(){return this.rtc.getForwardedSources()},le.prototype.setLastN=function(e){if(!Number.isInteger(e)&&!Number.parseInt(e,10))throw new Error("Invalid value for lastN: "+e);var t=Number(e);if(t<-1)throw new RangeError("lastN cannot be smaller than -1");if(this.receiveVideoController.setLastN(t),this.p2pJingleSession){var n=0!==t;this.p2pJingleSession.setMediaTransferActive(!0,n).catch((function(e){ce.error("Failed to adjust video transfer status (".concat(n,")"),e)}))}},le.prototype.isInLastN=function(e){return this.rtc.isInLastN(e)},le.prototype.getParticipants=function(){return Object.values(this.participants)},le.prototype.getParticipantsWithoutHidden=function(){var e=this.getParticipants().filter((function(e){return!e._hidden}));return e=e.filter((function(e){var t;return!(null===(t=null==e?void 0:e._properties)||void 0===t?void 0:t.features_jigasi)})),e},le.prototype.getParticipantCount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getParticipants();return e||(t=t.filter((function(e){return!e.isHidden()}))),t.length+1},le.prototype.getParticipantById=function(e){return this.participants[e]},le.prototype.grantOwner=function(e){var t=this.getParticipantById(e);t&&this.room.setAffiliation(t.getConnectionJid(),"owner")},le.prototype.revokeOwner=function(e){var t=this.getParticipantById(e),n=this.myUserId()===e,r=this.isMembersOnly()?"member":"none";n?this.room.setAffiliation(this.connection.getJid(),r):t&&this.room.setAffiliation(t.getConnectionJid(),r)},le.prototype.kickParticipant=function(e,t){var n=this.getParticipantById(e);n&&this.room.kick(n.getJid(),t)},le.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},le.prototype._maybeSetSITimeout=function(){var e=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout((function(){e._sessionInitiateTimeout=null,V.a.sendAnalytics(Object(se.F)(se.d,{p2p:!1,value:5e3}))}),5e3))},le.prototype.muteParticipant=function(e,t){var n=t||re.a.AUDIO;if(n===re.a.AUDIO||n===re.a.VIDEO){var r=this.getParticipantById(e);r&&this.room.muteParticipant(r.getJid(),!0,n)}else ce.error("Unsupported media type: "+n)},le.prototype.onMemberJoined=function(e,t,n,r,i,o,a,s,c,l,h){var p=u.Strophe.getResourceFromJid(e);if("focus"!==p&&this.myUserId()!==p){var m=new f.a(e,this,t,r,i,o,a);m.setConnectionJid(c),m.setRole(n),m.setBotType(s),m.setFeatures(l),m.setIsReplacing(h),this.participants[p]=m,this.eventEmitter.emit(d.USER_JOINED,p,m),this._updateFeatures(m),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},le.prototype._onMucJoined=function(){this._maybeStartOrStopP2P()},le.prototype._updateFeatures=function(e){var t=this;e.getFeatures().then((function(n){e._supportsDTMF=n.has("urn:xmpp:jingle:dtmf:0"),t.updateDTMFSupport(),n.has(Q.c)&&e.setProperty("features_jigasi",!0),n.has(Q.b)&&e.setProperty("features_e2ee",!0)})).catch((function(){return!1}))},le.prototype._onMemberBotTypeChanged=function(e,t){var n=this.getParticipants().find((function(t){return t.getJid()===e}));if(n){n.setBotType(t);var r=u.Strophe.getResourceFromJid(e);this.eventEmitter.emit(d.BOT_TYPE_CHANGED,r,t)}n.getBotType()||this._maybeStartOrStopP2P()},le.prototype.onMemberLeft=function(e){var t=this,n=u.Strophe.getResourceFromJid(e);if("focus"!==n&&this.myUserId()!==n){var r,i=this.participants[n],o=this.getMediaSessions(),a=[],s=_createForOfIteratorHelper(o);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=c.peerconnection.getRemoteTracks(n);l&&(a=[].concat(_toConsumableArray(a),_toConsumableArray(l))),c.removeRemoteStreamsOnLeave(n)}}catch(f){s.e(f)}finally{s.f()}a.forEach((function(e){t.eventEmitter.emit(d.TRACK_REMOVED,e)})),i&&(delete this.participants[n],this.eventEmitter.emit(d.USER_LEFT,n,i)),null!==this.room&&(this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout())}},le.prototype.onMemberKicked=function(e,t,n,r,i){if(t!==this.myUserId()){var o=this.participants[t];if(e)return this.eventEmitter.emit(d.KICKED,o,r,i),void this.leave();var a=this.participants[n];a.setIsReplaced(i),this.eventEmitter.emit(d.PARTICIPANT_KICKED,o,a,r)}},le.prototype.onLocalRoleChanged=function(e){this.eventEmitter.emit(d.USER_ROLE_CHANGED,this.myUserId(),e)},le.prototype.onUserRoleChanged=function(e,t){var n=u.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&(r.setRole(t),this.eventEmitter.emit(d.USER_ROLE_CHANGED,n,t))},le.prototype.onDisplayNameChanged=function(e,t){var n=u.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&r._displayName!==t&&(r._displayName=t,this.eventEmitter.emit(d.DISPLAY_NAME_CHANGED,n,t))},le.prototype.onRemoteTrackAdded=function(e){var t=this;if(!e.isP2P||this.isP2PActive())if(e.isP2P||!this.isP2PActive()){var n=e.getParticipantId(),r=this.getParticipantById(n);if(r){r._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var i=this.eventEmitter;e.addEventListener(m.TRACK_MUTE_CHANGED,(function(){return i.emit(d.TRACK_MUTE_CHANGED,e)})),e.isAudioTrack()&&e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED,(function(e,r){t.getActivePeerConnection()===r&&i.emit(d.TRACK_AUDIO_LEVEL_CHANGED,n,e)})),i.emit(d.TRACK_ADDED,e)}else ce.error("No participant found for id: "+n)}else ce.info("Trying to add remote JVB track, when in P2P - IGNORED");else ce.info("Trying to add remote P2P track, when not in P2P - IGNORED")},le.prototype.onCallAccepted=function(e,t){this.p2pJingleSession===e&&(ce.info("P2P setAnswer"),this.p2pJingleSession.setAnswer(t),this.eventEmitter.emit(d._MEDIA_SESSION_STARTED,this.p2pJingleSession))},le.prototype.onTransportInfo=function(e,t){this.p2pJingleSession===e&&(ce.info("P2P addIceCandidates"),this.p2pJingleSession.addIceCandidates(t))},le.prototype.onRemoteTrackRemoved=function(e){var t=this;this.getParticipants().forEach((function(n){for(var r=n.getTracks(),i=0;i<r.length;i++)if(r[i]===e){n._tracks.splice(i,1),t.eventEmitter.emit(d.TRACK_REMOVED,e),t.transcriber&&t.transcriber.removeTrack(e);break}}),this)},le.prototype._onIncomingCallP2P=function(e,t){var n,r,i=y.a.supportsUnifiedPlan()&&(!y.a.isChromiumBased()||null===(n=this.options.config.enableUnifiedOnChrome)||void 0===n||n),o=t.find(">content").attr("name");i!==("0"===o||"1"===o)?r={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P across two endpoints in different SDP modes is disabled"}:!this.isP2PEnabled()&&!this.isP2PTestModeEnabled()||y.a.isFirefox()||y.a.isWebKitBased()?r={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P mode disabled in the configuration or browser unsupported"}:this.p2pJingleSession?r={reason:"busy",reasonDescription:"P2P already in progress",errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(r={reason:"decline",reasonDescription:"P2P requirements not met",errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},V.a.sendAnalytics(Object(se.F)(se.h))),r?this._rejectIncomingCall(e,r):this._acceptP2PIncomingCall(e,t)},le.prototype.onIncomingCall=function(e,t,n){if(e.isP2P)this._onIncomingCallP2P(e,t);else{if(!this.isFocus(e.remoteJid)){var r="Rejecting session-initiate from non-focus.";return void this._rejectIncomingCall(e,{reason:"security-error",reasonDescription:r,errorMsg:r})}this._acceptJvbIncomingCall(e,t,n)}},le.prototype._acceptJvbIncomingCall=function(e,t,n){var r=this;this.jvbJingleSession=e,this.room.connectionTimes["session.initiate"]=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&V.a.sendAnalyticsAndLog(Object(se.F)(se.a,{p2p:!1}));var i=$(t).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("region");this.eventEmitter.emit(d.SERVER_REGION_CHANGED,i),this._maybeClearSITimeout(),V.a.sendAnalytics(Object(se.F)(se.c,{p2p:!1,value:n}));try{e.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()}))}catch(e){return J.a.callErrorHandler(e),void ce.error(e)}this._setBridgeChannel(t,e.peerconnection);var o=this._getInitialLocalTracks();try{e.acceptOffer(t,(function(){r.isP2PActive()&&r.jvbJingleSession&&r._suspendMediaTransferForJvbConnection(),r.eventEmitter.emit(d._MEDIA_SESSION_STARTED,e),r.isP2PActive()||r.eventEmitter.emit(d._MEDIA_SESSION_ACTIVE_CHANGED,e)}),(function(e){J.a.callErrorHandler(e),ce.error("Failed to accept incoming Jingle session",e)}),o),this._desktopSharingFrameRate&&e.peerconnection.setDesktopSharingFrameRate(this._desktopSharingFrameRate),ce.info("Starting CallStats for JVB connection..."),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,"jitsi"),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(e){J.a.callErrorHandler(e),ce.error(e)}},le.prototype._setBridgeChannel=function(e,t){var n=null,r=$(e).find(">content>transport>web-socket").first();1===r.length&&(n=r[0].getAttribute("url")),n?this.rtc.initializeBridgeChannel(null,n):this.rtc.initializeBridgeChannel(t,null)},le.prototype._rejectIncomingCall=function(e,t){t&&t.errorMsg&&J.a.callErrorHandler(new Error(t.errorMsg)),e.terminate(null,(function(e){ce.warn("An error occurred while trying to terminate invalid Jingle session",e)}),{reason:t&&t.reason,reasonDescription:t&&t.reasonDescription,sendSessionTerminate:!0})},le.prototype.onCallEnded=function(e,t,n){if(ce.info("Call ended: ".concat(t," - ").concat(n," P2P ?").concat(e.isP2P)),e===this.jvbJingleSession)this.wasStopped=!0,V.a.sendAnalytics(Object(se.F)(se.e,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),ce.info("Stopping JVB CallStats"),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded();else if(e===this.p2pJingleSession){var r={};"decline"===t&&"force JVB121"===n?(ce.info("In forced JVB 121 mode..."),V.a.analytics.addPermanentProperties({forceJvb121:!0})):"connectivity-error"===t&&"ICE FAILED"===n?V.a.analytics.addPermanentProperties({p2pFailed:!0}):"success"===t&&"restart"===n&&(r.requestRestart=!0),this._stopP2PSession(r)}else ce.error("Received onCallEnded for invalid session",e.sid,e.remoteJid,t,n)},le.prototype.onSuspendDetected=function(e){e.isP2P||(this.leave(),this.eventEmitter.emit(d.SUSPEND_DETECTED))},le.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(d.DTMF_SUPPORT_CHANGED,e))},le.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},le.prototype.myUserId=function(){return this.room&&this.room.myroomjid?u.Strophe.getResourceFromJid(this.room.myroomjid):null},le.prototype.sendTones=function(e,t,n){var r=this.getActivePeerConnection();r?r.sendTones(e,t,n):ce.warn("cannot sendTones: no peer connection")},le.prototype.startRecording=function(e){return this.room?this.recordingManager.startRecording(e):Promise.reject(new Error("The conference is not created yet!"))},le.prototype.stopRecording=function(e){return this.room?this.recordingManager.stopRecording(e):Promise.reject(new Error("The conference is not created yet!"))},le.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},le.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise((function(e,t){t(new Error("The conference is not created yet!"))}))},le.prototype.hangup=function(){return this.room?this.room.hangup():new Promise((function(e,t){t(new Error("The conference is not created yet!"))}))},le.prototype.startTranscriber=function(){return this.dial("jitsi_meet_transcribe")},le.prototype.stopTranscriber=le.prototype.hangup,le.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},le.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},le.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},le.prototype.getActivePeerConnection=function(){var e=this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;return e?e.peerconnection:null},le.prototype.getConnectionState=function(){var e=this.getActivePeerConnection();return e?e.getConnectionState():null},le.prototype.setStartMutedPolicy=function(e){this.isModerator()?(this.startMutedPolicy=e,this.room.addOrReplaceInPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}})&&this.room.sendPresence()):ce.warn("Failed to set start muted policy, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},le.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},le.prototype.isStartAudioMuted=function(){return this.startAudioMuted},le.prototype.isStartVideoMuted=function(){return this.startVideoMuted},le.prototype.getConnectionTimes=function(){return this.room.connectionTimes},le.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_"+e,{value:t})},le.prototype.removeLocalParticipantProperty=function(e){this.removeCommand("jitsi_participant_"+e),this.room.sendPresence()},le.prototype.getLocalParticipantProperty=function(e){var t=this.room.presMap.nodes.find((function(t){return t.tagName==="jitsi_participant_"+e}));return t?t.value:void 0},le.prototype.sendFeedback=function(e,t){return this.statistics.sendFeedback(e,t)},le.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},le.prototype.getSsrcByTrack=function(e){var t;return e.isLocal()?null===(t=this.getActivePeerConnection())||void 0===t?void 0:t.getLocalSSRC(e):e.getSSRC()},le.prototype._onTrackAttach=function(e,t){var n=e.isLocal(),r=null,i=e.isP2P,o=i?e.getParticipantId():"jitsi",a=i?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?a&&(r=a.getLocalSSRC(e)):r=e.getSSRC(),t.id&&r&&a&&this.statistics.associateStreamWithVideoTag(a,r,n,o,e.getUsageLabel(),t.id)},le.prototype.sendApplicationLog=function(e){V.a.sendLog(e)},le.prototype.isFocus=function(e){return this.room?this.room.isFocus(e):null},le.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(d.CONFERENCE_FAILED,c.INCOMPATIBLE_SERVER_VERSIONS)},le.prototype.sendEndpointMessage=function(e,t){this.rtc.sendChannelMessage(e,t)},le.prototype.sendEndpointStatsMessage=function(e){this.rtc.sendEndpointStatsMessage(e)},le.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e)},le.prototype.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=typeof e;if("object"===r||!n&&"string"===r)if(n)this.sendEndpointMessage(t,e);else{var i=e,o="body";if("object"===r){o="json-message",i.hasOwnProperty(Q.d)||(i[Q.d]="");try{i=JSON.stringify(i)}catch(e){return void ce.error("Can not send a message, stringify failed: ",e)}}t?this.sendPrivateTextMessage(t,i,o):this.sendTextMessage(i,o)}else ce.error("Can not send a message of type "+r)},le.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},le.prototype._onConferenceRestarted=function(e){!e.isP2P&&this.options.config.enableForcedReload&&this.eventEmitter.emit(d.CONFERENCE_FAILED,c.CONFERENCE_RESTARTED)},le.prototype._onIceConnectionInterrupted=function(e){e.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(d.CONNECTION_INTERRUPTED)},le.prototype._onIceConnectionFailed=function(e){e.isP2P?(V.a.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&V.a.sendAnalyticsAndLog(Object(se.H)(se.j,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession({reason:"connectivity-error",reasonDescription:"ICE FAILED"})):e&&this.jvbJingleSession===e&&(this._delayedIceFailed=new S.a(this),this._delayedIceFailed.start(e))},le.prototype._onIceConnectionRestored=function(e){e.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(d.CONNECTION_RESTORED)},le.prototype._acceptP2PIncomingCall=function(e,t){var n=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=e,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),ce.info("Starting CallStats for P2P connection...");var r=u.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),i=this.participants[r];i&&(r=i.getStatsID()||r),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,r);var o=this.getLocalTracks();this.p2pJingleSession.acceptOffer(t,(function(){ce.debug('Got RESULT for P2P "session-accept"'),n.eventEmitter.emit(d._MEDIA_SESSION_STARTED,e)}),(function(e){ce.error("Failed to accept incoming P2P Jingle session",e)}),o)},le.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},le.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},le.prototype._addRemoteTracks=function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;ce.info("Adding remote ".concat(e," track: ").concat(i)),this.onRemoteTrackAdded(i)}}catch(o){r.e(o)}finally{r.f()}},le.prototype._onIceConnectionEstablished=function(e){null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var t=!1,n=this.options.config.forceJVB121Ratio;if(e.isP2P?this.p2pJingleSession!==e?(ce.error("CONNECTION_ESTABLISHED - wrong P2P session instance ?!"),t=!0):!e.isInitiator&&"number"==typeof n&&Math.random()<n&&(ce.info("Forcing JVB 121 mode (ratio=".concat(n,")...")),V.a.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession({reason:"decline",reasonDescription:"force JVB121"}),t=!0):t=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var r=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;V.a.sendAnalytics(se.p,{value:r})}e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(d.CONNECTION_ESTABLISHED),t||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():ce.info("Not removing remote JVB tracks - no session yet"),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),ce.info("Starting remote stats with p2p connection"),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),V.a.sendAnalyticsAndLog(Object(se.H)(se.i,{initiator:this.p2pJingleSession.isInitiator})))},le.prototype._updateProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!s()(e,this.properties);if(this.properties=e,t){this.eventEmitter.emit(d.PROPERTIES_CHANGED,this.properties);var n="true"===this.properties["audio-limit-reached"],r="true"===this.properties["video-limit-reached"];this._audioSenderLimitReached!==n&&(this._audioSenderLimitReached=n,this.eventEmitter.emit(d.AUDIO_UNMUTE_PERMISSIONS_CHANGED,n),ce.info("Audio unmute permissions set by Jicofo to "+n)),this._videoSenderLimitReached!==r&&(this._videoSenderLimitReached=r,this.eventEmitter.emit(d.VIDEO_UNMUTE_PERMISSIONS_CHANGED,r),ce.info("Video unmute permissions set by Jicofo to "+r)),["bridge-count","created-ms"].forEach((function(t){void 0!==e[t]&&V.a.analytics.addPermanentProperties(_defineProperty({},t.replace("-","_"),e[t]))}))}},le.prototype.getProperty=function(e){return this.properties[e]},le.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(ce.info("Cleared deferred start P2P task"),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},le.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},le.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},le.prototype._removeRemoteTracks=function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;ce.info("Removing remote ".concat(e," track: ").concat(i)),this.onRemoteTrackRemoved(i)}}catch(o){r.e(o)}finally{r.f()}},le.prototype._resumeMediaTransferForJvbConnection=function(){ce.info("Resuming media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!0,!0).then((function(){ce.info("Resumed media transfer over the JVB connection!")}),(function(e){ce.error("Failed to resume media transfer over the JVB connection:",e)}))},le.prototype._setP2PStatus=function(e){if(this.p2p!==e){if(this.p2p=e,e){ce.info("Peer to peer connection established!"),V.a.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var t=0!==this.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,t).catch((function(e){ce.error("Failed to sync up P2P video transfer status(".concat(t,")"),e)}))}else ce.info("Peer to peer connection closed!");this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!e),this.dtmfManager=null,this.eventEmitter.emit(d.P2P_STATUS,this,this.p2p),this.eventEmitter.emit(d._MEDIA_SESSION_ACTIVE_CHANGED,this.getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?d.CONNECTION_INTERRUPTED:d.CONNECTION_RESTORED)}else ce.debug("Called _setP2PStatus with the same status: "+e)},le.prototype._startP2PSession=function(e){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)ce.error("P2P session already started!");else{this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,e),ce.info("Created new P2P JingleSession",this.room.myroomjid,e),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),ce.info("Starting CallStats for P2P connection...");var t=u.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),n=this.participants[t];n&&(t=n.getStatsID()||t),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,t);var r=this.getLocalTracks();this.p2pJingleSession.invite(r)}},le.prototype._suspendMediaTransferForJvbConnection=function(){ce.info("Suspending media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!1,!1).then((function(){ce.info("Suspended media transfer over the JVB connection !")}),(function(e){ce.error("Failed to suspend media transfer over the JVB connection:",e)}))},le.prototype._maybeStartOrStopP2P=function(e){if(!this.isP2PEnabled()||this.isP2PTestModeEnabled()||y.a.isFirefox()||y.a.isWebKitBased()||this.isE2EEEnabled())ce.info("Auto P2P disabled");else{var t=this.getParticipants(),n=t.length,r=this._shouldBeInP2PMode();if(!r&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&r){var i=n&&t[0],o=this.myUserId(),a=i.getId();if(o>a)return void ce.debug("I'm the bigger peersId - the other peer should start P2P",o,a);if(o===a)return void ce.error("The same IDs ? ",o,a);var s=i.getJid();if(e){if(this.deferredStartP2PTask)return void ce.error("Deferred start P2P task's been set already!");ce.info("Will start P2P with: ".concat(s," after ").concat(this.backToP2PDelay," seconds...")),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,s),1e3*this.backToP2PDelay)}else ce.info("Will start P2P with: "+s),this._startP2PSession(s)}else this.p2pJingleSession&&!r&&(ce.info("Will stop P2P with: "+this.p2pJingleSession.remoteJid),this.p2pJingleSession.isInitiator&&n>1&&V.a.sendAnalyticsAndLog(Object(se.H)(se.k)),this._stopP2PSession())}},le.prototype._shouldBeInP2PMode=function(){var e=this.getParticipants(),t=e.length,n=void 0!==e.find((function(e){return"poltergeist"===e.getBotType()||e.hasFeature(Q.c)})),r=1===t&&!n;return ce.debug("P2P? peerCount: ".concat(t,", hasBotPeer: ").concat(n," => ").concat(r)),r},le.prototype._stopP2PSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,n=void 0===t?"success":t,r=e.reasonDescription,i=void 0===r?"Turning off P2P session":r,o=e.requestRestart,a=void 0!==o&&o;if(this.p2pJingleSession){var s=this.isP2PActive();s&&(this.jvbJingleSession&&!a&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),ce.info("Stopping remote stats for P2P connection"),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),ce.info("Stopping CallStats for P2P connection"),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate((function(){ce.info("P2P session terminate RESULT")}),(function(e){"success"!==n&&ce.error("An error occurred while trying to terminate P2P Jingle session",e)}),{reason:n,reasonDescription:i,sendSessionTerminate:this.room&&this.getParticipantById(u.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),s&&(this.jvbJingleSession&&!a?this._addRemoteJVBTracks():ce.info("Not adding remote JVB tracks - no session yet"))}else ce.error("No P2P session to be stopped!")},le.prototype._updateRoomPresence=function(e,t){if(e){if(t){if(t.skip)return;t.skip=!0}var n,r,i,o,a,s=!1,u=this.getLocalTracks(),c=e.peerconnection.getLocalTracks(re.a.AUDIO),l=e.peerconnection.getLocalTracks(re.a.VIDEO),d=_createForOfIteratorHelper(u);try{for(d.s();!(i=d.n()).done;){var f=i.value;n=this._setTrackMuteStatus(f.getType(),f,f.isMuted()),f.getType()===re.a.VIDEO&&(r=this._setNewVideoType(f)),s=n||r}}catch(h){d.e(h)}finally{d.f()}P.a.isMultiStreamSupportEnabled()||((null==c?void 0:c.length)||(o=this._setTrackMuteStatus(re.a.AUDIO,void 0,!0)),(null==l?void 0:l.length)||(a=this._setTrackMuteStatus(re.a.VIDEO,void 0,!0),r=this._setNewVideoType()),s=s||o||a||r),s&&this.room.sendPresence()}},le.prototype.isP2PActive=function(){return this.p2p},le.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},le.prototype.setDesktopSharingFrameRate=function(e){return"number"!=typeof e||isNaN(e)?(ce.error("Invalid value ".concat(e," specified for desktop capture frame rate")),!1):(this._desktopSharingFrameRate=e,this.jvbJingleSession&&this.jvbJingleSession.peerconnection.setDesktopSharingFrameRate(e),this.rtc.setDesktopSharingFrameRate(e),!0)},le.prototype.startP2PSession=function(){var e=this.getParticipants();if(1!==e.length)throw new Error("There must be exactly 1 participant to start the P2P session !");var t=e[0].getJid();this._startP2PSession(t)},le.prototype.stopP2PSession=function(e){this._stopP2PSession(e)},le.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},le.prototype.sendFaceLandmarks=function(e){e.faceExpression&&this.xmpp.sendFaceExpressionEvent(this.room.roomjid,e)},le.prototype.setReceiverConstraints=function(e){this.receiveVideoController.setReceiverConstraints(e)},le.prototype.setReceiverVideoConstraint=function(e){this.receiveVideoController.setPreferredReceiveMaxFrameHeight(e)},le.prototype.setSenderVideoConstraint=function(e){return this.sendVideoController.setPreferredSendMaxFrameHeight(e)},le.prototype.createVideoSIPGWSession=function(e,t){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(e,t):new Error(W.ERROR_NO_CONNECTION)},le.prototype._sendConferenceJoinAnalyticsEvent=function(){var e=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&e&&null!==this.getActivePeerConnection()&&(V.a.sendAnalytics(Object(se.A)("joined",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId)})),this._conferenceJoinAnalyticsEventSent=Date.now())},le.prototype._sendConferenceLeftAnalyticsEvent=function(){var e=this.getMeetingUniqueId();e&&this._conferenceJoinAnalyticsEventSent&&V.a.sendAnalytics(Object(se.A)("left",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId),stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}))},le.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this._stopP2PSession({reasonDescription:"restart",requestRestart:!0}),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,(function(e){ce.warn("An error occurred while trying to terminate the JVB session",e)}),{reason:"success",reasonDescription:"restart required",requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1)},le.prototype.isE2EEEnabled=function(){return Boolean(this._e2eEncryption&&this._e2eEncryption.isEnabled())},le.prototype.isE2EESupported=function(){return R.a.isSupported(this.options.config)},le.prototype.toggleE2EE=function(e){this.isE2EESupported()?this._e2eEncryption.setEnabled(e):ce.warn("Cannot enable / disable E2EE: platform is not supported.")},le.prototype.setMediaEncryptionKey=function(e){this._e2eEncryption.setEncryptionKey(e)},le.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported())},le.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled)},le.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error("The conference not started or user is not moderator"))},le.prototype.disableLobby=function(){this.room&&this.isModerator()?this.room.getLobby().disable():ce.warn("Failed to disable lobby, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},le.prototype.joinLobby=function(e,t){return this.room?this.room.getLobby().join(e,t):Promise.reject(new Error("The conference not started"))},le.prototype.myLobbyUserId=function(){if(this.room)return this.room.getLobby().getLocalId()},le.prototype.sendLobbyMessage=function(e,t){if(this.room)return t?this.room.getLobby().sendPrivateMessage(t,e):this.room.getLobby().sendMessage(e)},le.prototype.addLobbyMessageListener=function(e){if(this.room)return this.room.getLobby().addMessageListener(e)},le.prototype.removeLobbyMessageHandler=function(e){if(this.room)return this.room.getLobby().removeMessageHandler(e)},le.prototype.lobbyDenyAccess=function(e){this.room&&this.room.getLobby().denyAccess(e)},le.prototype.lobbyApproveAccess=function(e){this.room&&this.room.getLobby().approveAccess(e)},le.prototype.isAVModerationSupported=function(){return Boolean(this.room&&this.room.getAVModeration().isSupported())},le.prototype.enableAVModeration=function(e){this.room&&this.isModerator()&&(e===re.a.AUDIO||e===re.a.VIDEO)?this.room.getAVModeration().enable(!0,e):ce.warn("Failed to enable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},le.prototype.disableAVModeration=function(e){this.room&&this.isModerator()&&(e===re.a.AUDIO||e===re.a.VIDEO)?this.room.getAVModeration().enable(!1,e):ce.warn("Failed to disable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},le.prototype.avModerationApprove=function(e,t){if(this.room&&this.isModerator()&&(e===re.a.AUDIO||e===re.a.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().approve(e,n.getJid())}else ce.warn("AV moderation approve skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},le.prototype.avModerationReject=function(e,t){if(this.room&&this.isModerator()&&(e===re.a.AUDIO||e===re.a.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().reject(e,n.getJid())}else ce.warn("AV moderation reject skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},le.prototype.getBreakoutRooms=function(){var e;return null===(e=this.room)||void 0===e?void 0:e.getBreakoutRooms()},le.prototype.getLocalUser=function(){if(this.user)return this.user},le.prototype.terminate=function(){this.sendCommand("terminate",{})},le.prototype.handleSubtitles=function(){var e=this,t={};this.on(d.ENDPOINT_MESSAGE_RECEIVED,(function(n,r){var i,o,a,s,u,c;if(r&&("transcription-result"===r.type||"translation-result"===r.type)){var l=e.getLocalParticipantProperty("translation_language");try{var f=r.message_id,h=r.participant.name,p={transcriptMessageID:f};if("translation-result"===r.type&&r.language===l)p.final=r.text,p.participantName=h;else if("transcription-result"===r.type&&!l){var m=r.transcript[0].text;t.transcriptMessageID===f?p=t:p.participantName=h,r.is_interim?r.stability>.85?(p.stable=m,p.unstable=void 0):p.unstable=m:p.final=m}var v="";v=p.final?p.final:(p.stable||"")+(p.unstable||"");var g=(null===(s=null===(a=null===(o=e.participants[null===(i=null==r?void 0:r.participant)||void 0===i?void 0:i.id])||void 0===o?void 0:o._identity)||void 0===a?void 0:a.user)||void 0===s?void 0:s.name)||(null===(u=null==e?void 0:e.getLocalUser())||void 0===u?void 0:u.name);e.eventEmitter.emit(d.SUBTITLES_RECEIVED,null===(c=null==r?void 0:r.participant)||void 0===c?void 0:c.id,g,v)}catch(t){ce.error("Error occurred while updating transcriptions\n",t)}}}))},le.prototype.enableAnalytics=function(){var e=this;this.statistics.addAnalyticsEventListener((function(t,n){var r="",i={};"string"==typeof t?(r=t,i=n):"object"==typeof t&&(r=t.name,i=t);var o={name:r,action:i.action?i.action:"",actionSubject:i.actionSubject?i.actionSubject:"",source:i.source?i.source:"",attributes:JSON.stringify(n)};e.eventEmitter.emit(d.ANALYTICS_EVENT_RECEIVED,o)}))},le.prototype.startLocalRecording=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogg";this.recordingController.startRecording(e)},le.prototype.stopLocalRecording=function(){this.recordingController.stopRecording()},le.prototype.switchFormat=function(){this.recordingController.switchFormat(format)},le.prototype.setMuted=function(e){this.recordingController.setMuted(e)},le.prototype.setMicDevice=function(e){this.recordingController.setMicDevice(e)},le.prototype.startSIPVideoCall=function(e,t){if(!this.sessions[e]){var n=this.createVideoSIPGWSession(e,t);this.sessions[e]=n,n.start()}},le.prototype.stopSIPVideoCall=function(e){this.sessions[e]&&(this.sessions[e].stop(),delete this.sessions[e])}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(5),i=n(3),o=n(38),a=n(2),s=n(123),u=n(10),c=n(402),l=n.n(c),d=n(4),f=n(11),h=n(22),p=n(274),m=n.n(p),v=n(15),g=n(1),_=Object(r.getLogger)(e);function b(e){this.conference=e,this.xmppListeners={},e.on(a.TRACK_MUTE_CHANGED,(function(t){if(t.isLocal()&&e.statistics){var n=t.isP2P?e.p2pJingleSession:e.jvbJingleSession,r=n&&n.peerconnection||null;e.statistics.sendMuteEvent(r,t.isMuted(),t.getType())}}))}b.prototype.setupChatRoomListeners=function(){var e=this,t=this.conference,n=t.room;this.chatRoomForwarder=new l.a(n,this.conference.eventEmitter),n.addListener(g.XMPPEvents.ICE_RESTARTING,(function(e){e.isP2P||t.rtc.closeBridgeChannel()})),n.addListener(g.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,(function(e,n){var r=t.getParticipantById(i.Strophe.getResourceFromJid(e));r&&(r.setFeatures(n),t.eventEmitter.emit(a.PARTCIPANT_FEATURES_CHANGED,r))})),n.addListener(g.XMPPEvents.ICE_RESTART_SUCCESS,(function(e,n){!e.isP2P&&t._setBridgeChannel(n,e.peerconnection)})),n.addListener(g.XMPPEvents.AUDIO_MUTED_BY_FOCUS,(function(e){u.a.sendAnalytics(Object(v.J)(d.a.AUDIO)),t.mutedByFocusActor=e,t.rtc.setAudioMute(!0).then((function(){t.isMutedByFocus=!0,t.mutedByFocusActor=null})).catch((function(e){t.mutedByFocusActor=null,_.warn("Error while audio muting due to focus request",e)}))})),n.addListener(g.XMPPEvents.VIDEO_MUTED_BY_FOCUS,(function(e){u.a.sendAnalytics(Object(v.J)(d.a.VIDEO)),t.mutedVideoByFocusActor=e,t.rtc.setVideoMute(!0).then((function(){t.isVideoMutedByFocus=!0,t.mutedVideoByFocusActor=null})).catch((function(e){t.mutedVideoByFocusActor=null,_.warn("Error while video muting due to focus request",e)}))})),this.chatRoomForwarder.forward(g.XMPPEvents.SUBJECT_CHANGED,a.SUBJECT_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_JOINED,a.CONFERENCE_JOINED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_JOIN_IN_PROGRESS,a.CONFERENCE_JOIN_IN_PROGRESS),this.chatRoomForwarder.forward(g.XMPPEvents.MEETING_ID_SET,a.CONFERENCE_UNIQUE_ID_SET),n.addListener(g.XMPPEvents.MUC_JOINED,(function(){e.conference._onMucJoined(),e.conference.isJvbConnectionInterrupted=!1,Object.keys(n.connectionTimes).forEach((function(e){var t=Object(v.C)("conference_"+e,{value:n.connectionTimes[e]});u.a.sendAnalytics(t)})),Object.keys(n.xmpp.connectionTimes).forEach((function(e){var t=Object(v.C)("xmpp_"+e,{value:n.xmpp.connectionTimes[e]});u.a.sendAnalytics(t)}))})),n.addListener(g.XMPPEvents.RENEGOTIATION_FAILED,(function(e,n){n.isP2P||t.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,e)})),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_JOIN_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,a.CONFERENCE_FAILED,o.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,a.CONFERENCE_FAILED,o.MEMBERS_ONLY_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_MAX_USERS_ERROR,a.CONFERENCE_FAILED,o.CONFERENCE_MAX_USERS),n.addListener(g.XMPPEvents.ROOM_MAX_USERS_ERROR,(function(){return t.leave()})),this.chatRoomForwarder.forward(g.XMPPEvents.PASSWORD_REQUIRED,a.CONFERENCE_FAILED,o.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(g.XMPPEvents.AUTHENTICATION_REQUIRED,a.CONFERENCE_FAILED,o.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(g.XMPPEvents.BRIDGE_DOWN,a.CONFERENCE_FAILED,o.VIDEOBRIDGE_NOT_AVAILABLE),n.addListener(g.XMPPEvents.BRIDGE_DOWN,(function(){return u.a.sendAnalytics(Object(v.z)())})),n.addListener(g.XMPPEvents.CONNECTION_RESTARTED,(function(e){t._onConferenceRestarted(e)})),this.chatRoomForwarder.forward(g.XMPPEvents.RESERVATION_ERROR,a.CONFERENCE_FAILED,o.RESERVATION_ERROR),n.addListener(g.XMPPEvents.RESERVATION_ERROR,(function(){return t.leave()})),this.chatRoomForwarder.forward(g.XMPPEvents.GRACEFUL_SHUTDOWN,a.CONFERENCE_FAILED,o.GRACEFUL_SHUTDOWN),n.addListener(g.XMPPEvents.CONNECTION_ICE_FAILED,(function(e){t._onIceConnectionFailed(e)})),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_DESTROYED,a.CONFERENCE_FAILED,o.CONFERENCE_DESTROYED),this.chatRoomForwarder.forward(g.XMPPEvents.CHAT_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.CHAT_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.SETTINGS_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.SETTINGS_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.FOCUS_DISCONNECTED,a.CONFERENCE_FAILED,o.FOCUS_DISCONNECTED),n.addListener(g.XMPPEvents.FOCUS_LEFT,(function(){u.a.sendAnalytics(Object(v.D)()),t.eventEmitter.emit(a.CONFERENCE_FAILED,o.FOCUS_LEFT)})),n.addListener(g.XMPPEvents.SESSION_ACCEPT_TIMEOUT,(function(e){u.a.sendAnalyticsAndLog(Object(v.F)(v.b,{p2p:e.isP2P}))})),n.addListener(g.XMPPEvents.RECORDER_STATE_CHANGED,(function(e,n){if(n){var r=i.Strophe.getResourceFromJid(n),o=t.getParticipantById(r)||r;"off"===e.getStatus()?e.setTerminator(o):"on"===e.getStatus()&&e.setInitiator(o)}t.eventEmitter.emit(a.RECORDER_STATE_CHANGED,e)})),this.chatRoomForwarder.forward(g.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,a.TRANSCRIPTION_STATUS_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.VIDEO_SIP_GW_AVAILABILITY_CHANGED,a.VIDEO_SIP_GW_AVAILABILITY_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,a.VIDEO_SIP_GW_SESSION_STATE_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.PHONE_NUMBER_CHANGED,a.PHONE_NUMBER_CHANGED),n.setParticipantPropertyListener((function(e,n){var r=t.getParticipantById(n);r&&r.setProperty(e.tagName.substring(18),e.value)})),n.addListener(g.XMPPEvents.KICKED,t.onMemberKicked.bind(t)),n.addListener(g.XMPPEvents.SUSPEND_DETECTED,t.onSuspendDetected.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOCK_CHANGED,a.LOCK_STATE_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,a.MEMBERS_ONLY_CHANGED),n.addListener(g.XMPPEvents.MUC_MEMBER_JOINED,t.onMemberJoined.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,a.LOBBY_USER_JOINED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,a.LOBBY_USER_UPDATED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,a.LOBBY_USER_LEFT),n.addListener(g.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,t._onMemberBotTypeChanged.bind(t)),n.addListener(g.XMPPEvents.MUC_MEMBER_LEFT,t.onMemberLeft.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LEFT,a.CONFERENCE_LEFT),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_DENIED_ACCESS,a.CONFERENCE_FAILED,o.CONFERENCE_ACCESS_DENIED),n.addListener(g.XMPPEvents.DISPLAY_NAME_CHANGED,t.onDisplayNameChanged.bind(t)),n.addListener(g.XMPPEvents.LOCAL_ROLE_CHANGED,(function(e){t.onLocalRoleChanged(e),t.statistics&&t.isModerator()&&t.on(a.RECORDER_STATE_CHANGED,(function(e){var t={error:e.getError(),id:"recorder_status",status:e.getStatus()};u.a.sendLog(JSON.stringify(t))}))})),n.addListener(g.XMPPEvents.MUC_ROLE_CHANGED,t.onUserRoleChanged.bind(t)),n.addListener(m.a.IDENTITY_UPDATED,(function(e,n){t.authEnabled=e,t.authIdentity=n,t.eventEmitter.emit(a.AUTH_STATUS_CHANGED,e,n)})),n.addListener(g.XMPPEvents.MESSAGE_RECEIVED,(function(e,n,r,o){var s=i.Strophe.getResourceFromJid(e);-1===n.indexOf("Transcript")&&-1===n.indexOf("Fellow Jitser")&&t.eventEmitter.emit(a.MESSAGE_RECEIVED,s,n,o)})),n.addListener(g.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,(function(e,n,r,o){var s=i.Strophe.getResourceFromJid(e);t.eventEmitter.emit(a.PRIVATE_MESSAGE_RECEIVED,s,n,o)})),n.addListener(g.XMPPEvents.PRESENCE_STATUS,(function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o&&o._status!==n&&(o._status=n,t.eventEmitter.emit(a.USER_STATUS_CHANGED,r,n))})),n.addListener(g.XMPPEvents.JSON_MESSAGE_RECEIVED,(function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o?t.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,o,n):t.eventEmitter.emit(a.NON_PARTICIPANT_MESSAGE_RECEIVED,r,n)})),n.addPresenceListener("startmuted",(function(e,n){var r=!1;if(t.myUserId()===n&&t.isModerator())r=!0;else{var i=t.getParticipantById(n);i&&i.isModerator()&&(r=!0)}if(r){var o="true"===e.attributes.audio,s="true"===e.attributes.video,u=!1;o!==t.startMutedPolicy.audio&&(t.startMutedPolicy.audio=o,u=!0),s!==t.startMutedPolicy.video&&(t.startMutedPolicy.video=s,u=!0),u&&t.eventEmitter.emit(a.START_MUTED_POLICY_CHANGED,t.startMutedPolicy)}})),t.statistics&&(n.addListener(g.XMPPEvents.CONNECTION_ICE_FAILED,(function(e){t.statistics.sendIceConnectionFailedEvent(e.peerconnection)})),n.addListener(g.XMPPEvents.ADD_ICE_CANDIDATE_FAILED,(function(e,n){t.statistics.sendAddIceCandidateFailed(e,n)}))),this.chatRoomForwarder.forward(g.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,a.BREAKOUT_ROOMS_MOVE_TO_ROOM),this.chatRoomForwarder.forward(g.XMPPEvents.BREAKOUT_ROOMS_UPDATED,a.BREAKOUT_ROOMS_UPDATED)},b.prototype.setupRTCListeners=function(){var e=this.conference,t=e.rtc;t.addListener(f.default.REMOTE_TRACK_ADDED,e.onRemoteTrackAdded.bind(e)),t.addListener(f.default.REMOTE_TRACK_REMOVED,e.onRemoteTrackRemoved.bind(e)),t.addListener(f.default.DOMINANT_SPEAKER_CHANGED,(function(t,n){var r;if(!(null===(r=e.participants[t])||void 0===r?void 0:r._hidden)&&e.lastDominantSpeaker!==t&&e.room){if(e.lastDominantSpeaker=t,e.eventEmitter.emit(a.DOMINANT_SPEAKER_CHANGED,t,n),n&&n.length){var i=n.slice(0);e.myUserId!==t&&i.splice(0,0,t),i.length>s.b&&i.splice(s.b,i.length-s.b),e.statistics&&e.statistics.setSpeakerList(i)}e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent(e.room.roomjid)}})),t.addListener(f.default.DATA_CHANNEL_OPEN,(function(){var t=window.performance.now(),n="data.channel.opened";_.log("(TIME) ".concat(n,":\t"),t),e.room.connectionTimes[n]=t,u.a.sendAnalytics(Object(v.C)(n,{value:t})),e.eventEmitter.emit(a.DATA_CHANNEL_OPENED)})),t.addListener(f.default.ENDPOINT_MESSAGE_RECEIVED,(function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,r,n):_.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: "+t,n)})),t.addListener(f.default.ENDPOINT_STATS_RECEIVED,(function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(a.ENDPOINT_STATS_RECEIVED,r,n):_.warn("Ignoring ENDPOINT_STATS_RECEIVED for a non-existant participant: "+t)})),t.addListener(f.default.LOCAL_UFRAG_CHANGED,(function(e,t){e.isP2P||u.a.sendLog(JSON.stringify({id:"local_ufrag",value:t}))})),t.addListener(f.default.REMOTE_UFRAG_CHANGED,(function(e,t){e.isP2P||u.a.sendLog(JSON.stringify({id:"remote_ufrag",value:t}))})),t.addListener(f.default.CREATE_ANSWER_FAILED,(function(t,n){e.statistics.sendCreateAnswerFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.CREATE_OFFER_FAILED,(function(t,n){e.statistics.sendCreateOfferFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.SET_LOCAL_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetLocalDescFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.SET_REMOTE_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetRemoteDescFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.LOCAL_TRACK_SSRC_UPDATED,(function(t,n){t.isVideoTrack()&&t.videoType===h.VideoType.DESKTOP&&e.statistics.sendScreenSharingEvent(!0,n)}))},b.prototype.removeXMPPListeners=function(){var e=this,t=this.conference;Object.keys(this.xmppListeners).forEach((function(n){t.xmpp.removeListener(n,e.xmppListeners[n])})),this.xmppListeners={}},b.prototype.setupXMPPListeners=function(){var e=this.conference;this._addConferenceXMPPListener(g.XMPPEvents.CALL_INCOMING,e.onIncomingCall.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.CALL_ACCEPTED,e.onCallAccepted.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.TRANSPORT_INFO,e.onTransportInfo.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.CALL_ENDED,e.onCallEnded.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.START_MUTED_FROM_FOCUS,(function(t,n){e.options.config.ignoreStartMuted||(e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach((function(t){switch(t.getType()){case d.a.AUDIO:e.startAudioMuted&&t.mute();break;case d.a.VIDEO:e.startVideoMuted&&t.mute()}})),e.eventEmitter.emit(a.STARTED_MUTED))})),this._addConferenceXMPPListener(g.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,(function(t){e.eventEmitter.emit(a.CONFERENCE_CREATED_TIMESTAMP,t)})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_CHANGED,(function(t,n,r){var i=e.getParticipants().find((function(e){return e.getJid()===r}));e.eventEmitter.emit(a.AV_MODERATION_CHANGED,{enabled:t,mediaType:n,actor:i})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,(function(t,n){var r=e.getParticipantById(i.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(a.AV_MODERATION_PARTICIPANT_APPROVED,{participant:r,mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,(function(t,n){var r=e.getParticipantById(i.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(a.AV_MODERATION_PARTICIPANT_REJECTED,{participant:r,mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_APPROVED,(function(t){return e.eventEmitter.emit(a.AV_MODERATION_APPROVED,{mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_REJECTED,(function(t){e.eventEmitter.emit(a.AV_MODERATION_REJECTED,{mediaType:t})}))},b.prototype._addConferenceXMPPListener=function(e,t){this.xmppListeners[e]=t,this.conference.xmpp.addListener(e,t)},b.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener((function(t,n,r,i){e.rtc.setAudioLevel(t,n,r,i)})),e.statistics.addBeforeDisposedListener((function(){e.eventEmitter.emit(a.BEFORE_STATISTICS_DISPOSED)})),e.options.config.startSilent||e.statistics.addByteSentStatsListener((function(t,n){e.getLocalTracks(d.a.AUDIO).forEach((function(e){var r=t.getLocalSSRC(e);r&&n.hasOwnProperty(r)&&e.onByteSentStatsReceived(t,n[r])}))})))}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return s}));var i=n(92),o=n(5),a=Object(o.getLogger)(e),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.call(this),a.info("This appears to be ".concat(e.getName(),", ver: ").concat(e.getVersion())),e}return _createClass(n,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isWebKitBased()||this.isFirefox()}},{key:"isChromiumBased",value:function(){return(this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera())&&!this.isWebKitBased()}},{key:"isIosBrowser",value:function(){var e=navigator,t=e.userAgent,n=e.maxTouchPoints,r=e.platform;return Boolean(t.match(/iP(ad|hone|od)/i))||n&&n>2&&/MacIntel/.test(r)}},{key:"isWebKitBased",value:function(){return this._bowser.isEngine("webkit")&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&void 0!==window.RTCRtpTransceiver&&Object.keys(RTCRtpTransceiver.prototype).indexOf("currentDirection")>-1}},{key:"isTwa",value:function(){return"matchMedia"in window&&window.matchMedia("(display-mode:standalone)").matches}},{key:"isSupported",value:function(){return!(this.isSafari()&&this._getSafariVersion()<14)&&(this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isWebKitBased())}},{key:"isSupportedAndroidBrowser",value:function(){return this.isChromiumBased()||this.isFirefox()}},{key:"isSupportedIOSBrowser",value:function(){return this._getIOSVersion()>=14}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan("68")}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isWebKitBased()}},{key:"supportsCodecPreferences",value:function(){return Boolean(window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype&&window.RTCRtpReceiver&&void 0!==window.RTCRtpReceiver.getCapabilities)&&!this.isWebKitBased()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"supportsPerformanceObserver",value:function(){return void 0!==window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf("longtask")>-1}},{key:"supportsReceiverStats",value:function(){return void 0!==window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf("getSynchronizationSources")>-1&&!this.isWebKitBased()}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"supportsVP9",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"usesAdapter",value:function(){return!this.isReactNative()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia}},{key:"supportsEncodedTransform",value:function(){return Boolean(window.RTCRtpScriptTransform)}},{key:"supportsInsertableStreams",value:function(){if(void 0===window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams)return!1;var e=new ReadableStream;try{return window.postMessage(e,"*",[e]),!0}catch(e){return!1}}},{key:"supportsAudioRed",value:function(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities("audio").codecs.some((function(e){return"audio/red"===e.mimeType}))&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("audio").codecs.some((function(e){return"audio/red"===e.mimeType})))}},{key:"supportsUnifiedPlan",value:function(){return!this.isReactNative()}},{key:"supportsVADDetection",value:function(){return this.isChromiumBased()}},{key:"supportsRTX",value:function(){return!(this.isFirefox()&&this.isVersionLessThan("96"))}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(r.versions.chromium,10);var e=navigator.userAgent;if(e.match(/Chrome/))return Number.parseInt(e.match(/Chrome\/([\d.]+)/)[1],10)}return-1}},{key:"_getSafariVersion",value:function(){return this.isSafari()?Number.parseInt(this.getVersion(),10):-1}},{key:"_getIOSVersion",value:function(){return this.isWebKitBased()?Number.parseInt(this.getVersion(),10):-1}}]),n}(i.a)}).call(this,"/index.js",n(45))},function(module,exports,__nested_webpack_require_1674947__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__nested_webpack_require_1674947__(587),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var r,i,o=0,a=e.length,s=this.blocks,u=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)u[i++]=e[o];else for(i=this.start;o<a&&i<64;++o)s[i>>2]|=e[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)(r=e.charCodeAt(o))<128?u[i++]=r:r<2048?(u[i++]=192|r>>6,u[i++]=128|63&r):r<55296||r>=57344?(u[i++]=224|r>>12,u[i++]=128|r>>6&63,u[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),u[i++]=240|r>>18,u[i++]=128|r>>12&63,u[i++]=128|r>>6&63,u[i++]=128|63&r);else for(i=this.start;o<a&&i<64;++o)(r=e.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,i,o,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+a[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[10]-1051523)<<15|n>>>17)+r<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[2]+718787259)<<15|n>>>17)+r<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",i=this.array(),o=0;o<15;)e=i[o++],t=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=i[o],r+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__nested_webpack_require_1674947__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__nested_webpack_require_1674947__(45),__nested_webpack_require_1674947__(49))},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18),a=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=r.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=i.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return Object.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),s=a.find((function(e){return t.isOS(e)}));if(s){var u=this.satisfies(n[s]);if(void 0!==u)return u}var c=a.find((function(e){return t.isPlatform(e)}));if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i).find((function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows/i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},function(e,t,n){"use strict";(function(e){var r=n(5),i=n(15),o=n(6),a=Object(r.getLogger)(e);t.a=new(function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName="",this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:o.a.getName()})}},{key:"dispose",value:function(){a.warn("Disposing of analytics adapter."),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach((function(e){"function"==typeof e.dispose&&e.dispose()})),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(e){var t=this;if(!this.disposed){this.analyticsHandlers=new Set(e),this._setUserProperties();var n=this.cache;this.cache=null,n&&n.forEach((function(e){return t._sendEvent(e)}))}}},{key:"_setUserProperties",value:function(){var e=this;this.analyticsHandlers.forEach((function(t){try{t.setUserProperties(e.permanentProperties)}catch(t){a.warn("Error in setUserProperties method of one of the analytics handlers: "+t)}}))}},{key:"addPermanentProperties",value:function(e){this.permanentProperties=Object.assign(Object.assign({},this.permanentProperties),e),this._setUserProperties()}},{key:"setConferenceName",value:function(e){this.conferenceName=e,this.addPermanentProperties({conference_name:e})}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var n=null;"string"==typeof e?n={type:i.t,action:e,actionSubject:e,source:e,attributes:t}:"object"==typeof e&&(n=e),this._verifyRequiredFields(n)?this._sendEvent(n):a.error("Dropping a mis-formatted event: "+JSON.stringify(n))}}},{key:"_verifyRequiredFields",value:function(e){if(!e)return!1;e.type||(e.type=i.t);var t=e.type;return t!==i.t&&t!==i.u&&t!==i.w&&t!==i.v?(a.error("Unknown event type: "+t),!1):t===i.u?Boolean(e.name):(e.action=e.action||e.name||e.actionSubject,e.actionSubject=e.actionSubject||e.name||e.action,e.source=e.source||e.name||e.action||e.actionSubject,e.action&&e.actionSubject&&e.source?!!(t!==i.v||(e.objectType=e.objectType||"generic-object-type",e.containerType=e.containerType||"conference","conference"!==e.containerType||e.containerId||(e.containerId=this.conferenceName),e.objectType&&e.objectId&&e.containerType&&e.containerId))||(a.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(a.error("Required field missing (action, actionSubject or source)"),!1))}},{key:"_maybeCacheEvent",value:function(e){return!!this.cache&&(this.cache.push(e),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(e){this._maybeCacheEvent(e)||this.analyticsHandlers.forEach((function(t){try{t.sendEvent(e)}catch(e){a.warn("Error sending analytics event: "+e)}}))}}]),e}())}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(58),o=n(74),a=Object(r.getLogger)(e),s=function(){function e(t,n){_classCallCheck(this,e),this.eventEmitter=t,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=n,this.stats=new o.a}return _createClass(e,[{key:"getLongTasksStats",value:function(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration}}},{key:"startObserver",value:function(){var e=this;this.longTaskEventHandler=function(t){var n,r=t.getEntries(),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.longTasks++,e.maxDuration=Math.max(e.maxDuration,o.duration).toFixed(3)}}catch(a){i.e(a)}finally{i.f()}},a.info("Creating a Performance Observer for monitoring Long Tasks"),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:"longtask",buffered:!0});var t=Date.now();this.longTasksIntervalId=setInterval((function(){var n=Date.now(),r=e._lastTimeStamp?(n-e._lastTimeStamp)/1e3:(n-t)/1e3,o=e.longTasks/r;e.stats.addNext(o),e.eventEmitter.emit(i.e,e.getLongTasksStats()),e.longTasks=0,e._lastTimeStamp=Date.now()}),this.performanceStatsInterval)}},{key:"stopObserver",value:function(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(5),i=n(4),o=n(58),a=n(6),s=n(27),u=Object(r.getLogger)(e);function c(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function l(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec=""}function d(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function f(e,t,n,r){this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=r,this.conferenceStats=new d,this.audioLevelsIntervalMilis=t,this.speakerList=[],this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map}l.prototype.setLoss=function(e){this.loss=e||{}},l.prototype.setResolution=function(e){this.resolution=e||{}},l.prototype.addBitrate=function(e){this.bitrate.download+=e.download,this.bitrate.upload+=e.upload},l.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},l.prototype.setFramerate=function(e){this.framerate=e||0},l.prototype.setCodec=function(e){this.codec=e||""},f.prototype.setSpeakerList=function(e){this.speakerList=e},f.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},f.prototype.errorCallback=function(e){s.callErrorHandler(e),u.error("Get stats error",e),this.stop()},f.prototype.start=function(e){var t=this;e&&(a.a.supportsReceiverStats()&&u.info("Using RTCRtpSynchronizationSource for remote audio levels"),this.audioLevelsIntervalId=setInterval((function(){if(a.a.supportsReceiverStats()){var e=t.peerconnection.getAudioLevels(t.speakerList);for(var n in e)if(e.hasOwnProperty(n)){var r=2.5*e[n];t.eventEmitter.emit(o.a,t.peerconnection,Number.parseInt(n,10),r,!1)}}else t.peerconnection.getStats().then((function(e){t.currentAudioLevelsReport="function"==typeof(null==e?void 0:e.result)?e.result():e,t.processAudioLevelReport(),t.baselineAudioLevelsReport=t.currentAudioLevelsReport})).catch((function(e){return t.errorCallback(e)}))}),this.audioLevelsIntervalMilis));var n=function(){t.peerconnection.getStats().then((function(e){t.currentStatsReport="function"==typeof(null==e?void 0:e.result)?e.result():e;try{t.processStatsReport()}catch(e){s.callErrorHandler(e),u.error("Processing of RTP stats failed:",e)}t.previousStatsReport=t.currentStatsReport})).catch((function(e){return t.errorCallback(e)}))};n(),this.statsIntervalId=setInterval(n,this.statsIntervalMilis)},f.prototype._processAndEmitReport=function(){var e,t,n,r=this,i={download:0,upload:0},a={download:0,upload:0},s=0,l=0,d={},f={},h={},p=0,m=0,v=0,g=0,_=_createForOfIteratorHelper(this.ssrc2stats);try{for(_.s();!(n=_.n()).done;){var b=_slicedToArray(n.value,2),y=b[0],E=b[1],S=E.loss,D=S.isDownloadStream?"download":"upload";i[D]+=S.packetsTotal,a[D]+=S.packetsLost,s+=E.bitrate.download,l+=E.bitrate.upload;var w=this.peerconnection.getTrackBySSRC(y);if(w){w.isAudioTrack()?(p+=E.bitrate.download,m+=E.bitrate.upload,e=E.codec):(v+=E.bitrate.download,g+=E.bitrate.upload,t=E.codec);var C=w.getParticipantId();if(C){var T=E.resolution;if(T.width&&T.height&&-1!==T.width&&-1!==T.height){var A=d[C]||{};A[y]=T,d[C]=A}if(0!==E.framerate){var k=f[C]||{};k[y]=E.framerate,f[C]=k}if(e&&t){var O={audio:e,video:t},R=h[C]||{};R[y]=O,h[C]=R}}else u.error("No participant ID returned by "+w)}E.resetBitrate()}}catch(P){_.e(P)}finally{_.f()}this.conferenceStats.bitrate={upload:l,download:s},this.conferenceStats.bitrate.audio={upload:m,download:p},this.conferenceStats.bitrate.video={upload:g,download:v},this.conferenceStats.packetLoss={total:c(a.download+a.upload,i.download+i.upload),download:c(a.download,i.download),upload:c(a.upload,i.upload)};var M,I={};Object.keys(this.audioLevelReportHistory).forEach((function(e){var t=r.audioLevelReportHistory[e],n=t.data,i=t.isLocal,o=n.reduce((function(e,t){return e+t}))/n.length;if(i)M=o;else{var a=r.peerconnection.getTrackBySSRC(Number(e));if(a){var s=a.getParticipantId();s&&(I[s]=o)}}})),this.audioLevelReportHistory={},this.eventEmitter.emit(o.d,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:d,framerate:f,codec:h,transport:this.conferenceStats.transport,localAvgAudioLevels:M,avgAudioLevels:I}),this.conferenceStats.transport=[]},f.prototype.getNonNegativeValue=function(e){var t=e;return"number"!=typeof t&&(t=Number(t)),isNaN(t)?0:Math.max(0,t)},f.prototype._calculateBitrate=function(e,t,n){var r=this.getNonNegativeValue(e[n]),i=this.getNonNegativeValue(t[n]),o=Math.max(0,r-i),a=e.timestamp-t.timestamp,s=0;return a>0&&(s=Math.round(8*o/a)),s},f.prototype.processStatsReport=function(){var e=this;if(this.previousStatsReport){var t={};this.currentStatsReport.forEach((function(n){if("candidate-pair"===n.type&&n.nominated&&"succeeded"===n.state){var r=n.availableIncomingBitrate,o=n.availableOutgoingBitrate;(r||o)&&(e.conferenceStats.bandwidth={download:Math.round(r/1e3),upload:Math.round(o/1e3)});var s=e.currentStatsReport.get(n.remoteCandidateId),u=e.currentStatsReport.get(n.localCandidateId);if(s&&u){var c="".concat(a.a.isChromiumBased()?s.ip:s.address,":").concat(s.port),d="".concat(a.a.isChromiumBased()?u.ip:u.address,":").concat(u.port),f=s.protocol,h=e.conferenceStats.transport;h.some((function(e){return e.ip===c&&e.type===f&&e.localip===d}))||h.push({ip:c,type:f,localip:d,p2p:e.peerconnection.isP2P,localCandidateType:u.candidateType,remoteCandidateType:s.candidateType,networkType:u.networkType,rtt:1e3*n.currentRoundTripTime})}}else if("inbound-rtp"===n.type||"outbound-rtp"===n.type){var p=e.previousStatsReport.get(n.id),m=e.getNonNegativeValue(n.ssrc);if(!p||!m)return;var v=e.ssrc2stats.get(m);v||(v=new l,e.ssrc2stats.set(m,v));var g=!0,_="packetsReceived";"outbound-rtp"===n.type&&(g=!1,_="packetsSent");var b=n[_];(!b||b<0)&&(b=0);var y=e.getNonNegativeValue(p[_]),E=Math.max(0,b-y),S=e.getNonNegativeValue(n.packetsLost),D=e.getNonNegativeValue(p.packetsLost),w=Math.max(0,S-D);if(v.setLoss({packetsTotal:E+w,packetsLost:w,isDownloadStream:g}),"inbound-rtp"===n.type){var C={height:n.frameHeight,width:n.frameWidth},T=n.framesPerSecond;C.height&&C.width&&v.setResolution(C),v.setFramerate(Math.round(T||0)),v.addBitrate({download:e._calculateBitrate(n,p,"bytesReceived"),upload:0})}else t[m]=e.getNonNegativeValue(n.bytesSent),v.addBitrate({download:0,upload:e._calculateBitrate(n,p,"bytesSent")});var A=e.currentStatsReport.get(n.codecId);if(A){var k=A.mimeType.split("/")[1];k&&v.setCodec(k)}}else if("track"===n.type&&n.kind===i.a.VIDEO&&!n.remoteSource){var O={height:n.frameHeight,width:n.frameWidth},R=e.peerconnection.getLocalTracks(i.a.VIDEO);if(!(null==R?void 0:R.length))return;var M=e.peerconnection.getLocalSSRC(R[0]);if(!M)return;var I=e.ssrc2stats.get(M);I||(I=new l,e.ssrc2stats.set(M,I)),O.height&&O.width&&I.setResolution(O);var P=n.framesPerSecond;if(!P){var N=e.previousStatsReport.get(n.id);if(N){var x=n.timestamp-N.timestamp;x>0&&n.framesSent&&(P=(n.framesSent-N.framesSent)/x*1e3)}if(!P)return}var F=e.peerconnection.getActiveSimulcastStreams();P=F?Math.round(P/F):0,I.setFramerate(P)}})),this.eventEmitter.emit(o.c,this.peerconnection,t),this._processAndEmitReport()}},f.prototype.processAudioLevelReport=function(){var e=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach((function(t){if("track"===t.type){var n=t.audioLevel;if(n){var r=t.trackIdentifier,a=e.peerconnection.getSsrcByTrackId(r);if(a){var s=a===e.peerconnection.getLocalSSRC(e.peerconnection.getLocalTracks(i.a.AUDIO));e.eventEmitter.emit(o.a,e.peerconnection,a,n,s)}}}}))}}).call(this,"/index.js")},function(e,t){function n(e,t){if(!e||!t||"function"!=typeof e.addListener||"function"!=typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t}n.prototype.forward=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t[0]=this.dest,this.src.addListener(r,Function.prototype.bind.apply(this.dest.emit,t))},e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(2),o=n(166),a=n(4),s=function(){function e(t,n,i,a,s,u,c,l,d){_classCallCheck(this,e),this._jid=t,this._id=r.Strophe.getResourceFromJid(t),this._conference=n,this._displayName=i,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=u,this._hidden=a,this._statsID=s,this._connectionStatus=o.a.ACTIVE,this._properties={},this._identity=c,this._isReplacing=l,this._isReplaced=d,this._features=new Set}return _createClass(e,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(e){return this._properties[e]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some((function(e){return e.getType()===a.a.VIDEO&&e.isWebRTCTrackMuted()}))}},{key:"_setConnectionStatus",value:function(e){this._connectionStatus=e}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(i.PARTICIPANT_PROPERTY_CHANGED,this,e,n,t))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(e){return this.getTracks().filter((function(t){return t.getType()===e}))}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return"moderator"===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isHiddenFromRecorder",value:function(){var e,t;return Boolean(null===(t=null===(e=this._identity)||void 0===e?void 0:e.user)||void 0===t?void 0:t["hidden-from-recorder"])}},{key:"isReplacing",value:function(){return this._isReplacing}},{key:"isReplaced",value:function(){return this._isReplaced}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(a.a.AUDIO)}},{key:"_isMediaTypeMuted",value:function(e){return this.getTracks().reduce((function(t,n){return t&&(n.getType()!==e||n.isMuted())}),!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(a.a.VIDEO)}},{key:"getRole",value:function(){return this._role}},{key:"setRole",value:function(e){this._role=e}},{key:"setIsReplacing",value:function(e){this._isReplacing=e}},{key:"setIsReplaced",value:function(e){this._isReplaced=e}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){return Promise.resolve(this._features)}},{key:"hasFeature",value:function(e){return this._features.has(e)}},{key:"setFeatures",value:function(e){this._features=e||new Set}},{key:"getBotType",value:function(){return this._botType}},{key:"setBotType",value:function(e){this._botType=e}},{key:"getConnectionJid",value:function(){return this._connectionJid}},{key:"setConnectionJid",value:function(e){this._connectionJid=e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(57),i=n(52);function o(e){var t,n=this,o=e.id,a=e.password,s=e.onCreateResource,u=e.onLoginSuccessful,c=e.roomPassword,l=!1,d=new i.e(this.connection.options),f=new Promise((function(e,i){t=i,d.addListener(r.CONNECTION_DISCONNECTED,(function(){d=void 0})),d.addListener(r.CONNECTION_ESTABLISHED,(function(){l||(u&&u(),d.createRoom(n.options.name,n.options.config,s).moderator.authenticate().then((function(){d&&d.disconnect(),l||(n.join(c),e())})).catch((function(e){var t=e.error,n=e.message;d.disconnect(),i({authenticationError:t,message:n})})))})),d.addListener(r.CONNECTION_FAILED,(function(e,t,n){i({connectionError:e,credentials:n,message:t}),d=void 0})),l||d.connect(o,a)}));return f.cancel=function(){l=!0,t({}),d&&d.disconnect()},f}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=Object(r.getLogger)(e),o=Symbol("kJitsiE2EE"),a=function(){function e(){_classCallCheck(this,e);var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sharedKey,n="",r=document.querySelector('script[src*="lib-jitsi-meet"]');if(r){var o=r.src.lastIndexOf("/");n=r.src.substring(0,o)+"/"}var a=n+"lib-jitsi-meet.e2ee-worker.js";if(n&&"/"!==n){var s=new Blob(['importScripts("'.concat(a,'");')],{type:"application/javascript"});a=window.URL.createObjectURL(s)}this._worker=new Worker(a,{name:"E2EE Worker"}),this._worker.onerror=function(e){return i.error(e)},this._worker.postMessage({operation:"initialize",sharedKey:t})}return _createClass(e,[{key:"cleanup",value:function(e){this._worker.postMessage({operation:"cleanup",participantId:e})}},{key:"cleanupAll",value:function(){this._worker.postMessage({operation:"cleanupAll"})}},{key:"handleReceiver",value:function(e,t,n){if(!e[o])if(e[o]=!0,window.RTCRtpScriptTransform){var r={operation:"decode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"decode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"handleSender",value:function(e,t,n){if(!e[o])if(e[o]=!0,window.RTCRtpScriptTransform){var r={operation:"encode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"encode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"setKey",value:function(e,t,n){this._worker.postMessage({operation:"setKey",key:t,keyIndex:n,participantId:e})}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(5),i=n(276),o=n.n(i),a=n(2),s=n(229),u=n(188),c=n(277),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d=Object(r.getLogger)(e),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._key=void 0,r._conferenceJoined=!1,r._olmAdapter=new u.a(e),r._rotateKey=o()(r._rotateKeyImpl,5e3),r._ratchetKey=o()(r._ratchetKeyImpl,5e3),r._olmAdapter.on(u.a.events.PARTICIPANT_KEY_UPDATED,r._onParticipantKeyUpdated.bind(_assertThisInitialized(r))),r.conference.on(a.PARTICIPANT_PROPERTY_CHANGED,r._onParticipantPropertyChanged.bind(_assertThisInitialized(r))),r.conference.on(a.USER_JOINED,r._onParticipantJoined.bind(_assertThisInitialized(r))),r.conference.on(a.USER_LEFT,r._onParticipantLeft.bind(_assertThisInitialized(r))),r.conference.on(a.CONFERENCE_JOINED,(function(){r._conferenceJoined=!0})),r}return _createClass(n,[{key:"_setEnabled",value:function(e){return l(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this._olmAdapter.initSessions();case 3:t.next=6;break;case 5:this._olmAdapter.clearAllParticipantsSessions();case 6:return this._key=!!e&&this._generateKey(),t.next=9,this._olmAdapter.updateKey(this._key);case 9:n=t.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,n);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,r){return l(this,void 0,void 0,_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="e2ee.idKey"===n.t0?3:"e2ee.enabled"===n.t0?5:6;break;case 3:return d.debug("Participant ".concat(e.getId()," updated their id key: ").concat(r)),n.abrupt("break",6);case 5:!r&&this.enabled&&this._olmAdapter.clearParticipantSession(e);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"_onParticipantJoined",value:function(){this._conferenceJoined&&this.enabled&&this._ratchetKey()}},{key:"_onParticipantLeft",value:function(e){this.e2eeCtx.cleanup(e),this.enabled&&this._rotateKey()}},{key:"_rotateKeyImpl",value:function(){return l(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.debug("Rotating key"),this._key=this._generateKey(),e.next=3,this._olmAdapter.updateKey(this._key);case 3:t=e.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"_ratchetKeyImpl",value:function(){return l(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.debug("Ratchetting key"),e.next=3,Object(c.a)(this._key);case 3:return t=e.sent,e.next=6,Object(c.b)(t);case 6:n=e.sent,this._key=new Uint8Array(n),r=this._olmAdapter.updateCurrentKey(this._key),this.e2eeCtx.setKey(this.conference.myUserId(),this._key,r);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_onParticipantKeyUpdated",value:function(e,t,n){d.debug("Participant ".concat(e," updated their key")),this.e2eeCtx.setKey(e,t,n)}},{key:"_generateKey",value:function(){return window.crypto.getRandomValues(new Uint8Array(32))}}]),n}(s.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(170),o=n(408),a=Object(r.getLogger)(e),s=function(){function e(t){_classCallCheck(this,e),this._stropheConn=t,this._resumeRetryN=0,this._retryDelay=void 0}return _createClass(e,[{key:"retryDelay",get:function(){return this._retryDelay}},{key:"schedule",value:function(){var e=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=i.b.addEventListener(i.a,(function(t){t.isOnline?e._scheduleResume():e._cancelResume()})),i.b.isOnline()&&this._scheduleResume()}},{key:"_scheduleResume",value:function(){var e=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=Object(o.a)(this._resumeRetryN,1500*this._resumeRetryN,3),a.info("Will try to resume the XMPP connection in ".concat(this.retryDelay,"ms")),this._resumeTimeout=setTimeout((function(){return e._resumeConnection()}),this.retryDelay))}},{key:"_cancelResume",value:function(){this._resumeTimeout&&(a.info("Canceling connection resume task"),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0)}},{key:"_resumeConnection",value:function(){var e=this._stropheConn.streamManagement,t=e.getResumeToken();if(t){a.info("Trying to resume the XMPP connection");var n=new URL(this._stropheConn.service),r=n.search,i=/(previd=)([\w-]+)/,o=r.match(i);o&&-1===o.indexOf(t)?r=r.replace(i,"$1"+t):o||(r+=-1===r.indexOf("?")?"?previd="+t:"&previd="+t),n.search=r,this._stropheConn.service=n.toString(),e.resume()}}},{key:"cancel",value:function(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,e)-t)+t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){_classCallCheck(this,e),this._lastSuccess=null,this._lastFailedMessage=null}return _createClass(e,[{key:"startTracking",value:function(e,t){var n=this,r=t.rawInput;t.rawInput=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=o[0];s.includes("failure")&&(n._lastFailedMessage=s),e.connected&&(n._lastSuccess=Date.now()),r.apply(t,o)}}},{key:"getLastFailedMessage",value:function(){return this._lastFailedMessage}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(5),i=n(3),o=n(27),a=n.n(o),s=n(101),u=Object(r.getLogger)(e),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=e.getTimeSinceLastServerResponse,o=e.onPingThresholdExceeded,a=e.pingOptions,s=void 0===a?{}:a;return(r=t.call(this)).failedPings=0,r._onPingThresholdExceeded=o,r._getTimeSinceLastServerResponse=i,r.pingInterval="number"==typeof s.interval?s.interval:1e4,r.pingTimeout="number"==typeof s.timeout?s.timeout:5e3,r.pingThreshold="number"==typeof s.threshold?s.threshold:2,r.pingTimestampsToKeep=Math.round(12e4/r.pingInterval),r.pingExecIntervals=new Array(r.pingTimestampsToKeep),r}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),i.Strophe.addNamespace("PING","urn:xmpp:ping")}},{key:"ping",value:function(e,t,n,r){this._addPingExecutionTimestamp();var o=Object(i.$iq)({type:"get",to:e});o.c("ping",{xmlns:i.Strophe.NS.PING}),this.connection.sendIQ2(o,{timeout:r}).then(t,n)}},{key:"startInterval",value:function(e){var t=this;clearInterval(this.intervalId),this.intervalId=window.setInterval((function(){var n=Date.now();if(t._getTimeSinceLastServerResponse()<n-t._lastServerCheck)return t._addPingExecutionTimestamp(),t._lastServerCheck=n,void(t.failedPings=0);t.ping(e,(function(){t._lastServerCheck=t._getTimeSinceLastServerResponse()+Date.now(),t.failedPings=0}),(function(e){t.failedPings+=1;var n="Ping "+(e?"error":"timeout");t.failedPings>=t.pingThreshold?(a.a.callErrorHandler(new Error(n)),u.error(n,e),t._onPingThresholdExceeded&&t._onPingThresholdExceeded()):u.warn(n,e)}),t.pingTimeout)}),this.pingInterval),u.info("XMPP pings will be sent every ".concat(this.pingInterval," ms"))}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,u.info("Ping interval cleared"))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var e=this.pingExecIntervals.slice();e.push((new Date).getTime());var t=0,n=e[0];return e.forEach((function(e){var r=e-n;r>t&&(t=r),n=e})),t-=this.pingInterval,Math.max(t,0)}}]),n}(s.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(5),i=n(3),o=n(1),a=n(230),s=n(101),u=Object(r.getLogger)(e),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).xmpp=e,r.rooms={},r}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null),this.connection.addHandler(this.onMuteVideo.bind(this),"http://jitsi.org/jitmeet/video","iq","set",null,null)}},{key:"createRoom",value:function(e,t,n){var r=i.Strophe.getBareJidFromJid(e);if(this.isRoomCreated(r)){var s="You are already in the room!";throw u.error(s),new Error(s)}return this.rooms[r]=new a.a(this.connection,e,t,this.xmpp,n),this.eventEmitter.emit(o.XMPPEvents.EMUC_ROOM_ADDED,this.rooms[r]),this.rooms[r]}},{key:"isRoomCreated",value:function(e){return e in this.rooms}},{key:"doLeave",value:function(e){this.eventEmitter.emit(o.XMPPEvents.EMUC_ROOM_REMOVED,this.rooms[e]),delete this.rooms[e]}},{key:"onPresence",value:function(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0)}},{key:"onPresenceUnavailable",value:function(e){var t=e.getAttribute("from"),n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceUnavailable(e,t),!0)}},{key:"onPresenceError",value:function(e){var t=e.getAttribute("from"),n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceError(e,t),!0)}},{key:"onMessage",value:function(e){var t=e.getAttribute("from"),n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||(n.onMessage(e,t),!0)}},{key:"onMute",value:function(e){var t=e.getAttribute("from"),n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||(n.onMute(e),!0)}},{key:"onMuteVideo",value:function(e){var t=e.getAttribute("from"),n=this.rooms[i.Strophe.getBareJidFromJid(t)];return!n||(n.onMuteVideo(e),!0)}}]),n}(s.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(5),i=n(3),o=n(4),a=n(1),s=Object(r.getLogger)(e),u=function(){function e(t){var n;_classCallCheck(this,e),this._xmpp=t.xmpp,this._mainRoom=t,this._moderationEnabledByType=(_defineProperty(n={},o.a.AUDIO,!1),_defineProperty(n,o.a.VIDEO,!1),n),this._whitelistAudio=[],this._whitelistVideo=[],this._onMessage=this._onMessage.bind(this),this._xmpp.addListener(a.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}return _createClass(e,[{key:"dispose",value:function(){this._xmpp.removeListener(a.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}},{key:"isSupported",value:function(){return Boolean(this._xmpp.avModerationComponentAddress)}},{key:"enable",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator())if(e!==this._moderationEnabledByType[t]){var n=Object(i.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{enable:e,mediaType:t}).up(),this._xmpp.connection.send(n)}else s.warn("Moderation already in state:".concat(e," for mediaType:").concat(t));else s.error("Cannot enable:".concat(e," AV moderation supported:").concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"approve",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=Object(i.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToWhitelist:t}).up(),this._xmpp.connection.send(n)}else s.error("Cannot approve in AV moderation supported:".concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"reject",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=Object(i.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToBlacklist:t}).up(),this._xmpp.connection.send(n)}else s.error("Cannot reject in AV moderation supported:".concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"_onMessage",value:function(e){var t=this,n=e.removed,r=e.mediaType,i=e.enabled,s=e.approved,u=e.actor,c=e.whitelists;if(c){var l=r===o.a.AUDIO?this._whitelistAudio:this._whitelistVideo,d=Array.isArray(c[r])?c[r]:[];n?l.filter((function(e){return!d.includes(e)})).forEach((function(e){return t._xmpp.eventEmitter.emit(a.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,r,e)})):d.filter((function(e){return!l.includes(e)})).forEach((function(e){return t._xmpp.eventEmitter.emit(a.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,r,e)})),r===o.a.AUDIO?this._whitelistAudio=d:this._whitelistVideo=d}else void 0!==i&&this._moderationEnabledByType[r]!==i?(this._moderationEnabledByType[r]=i,this._xmpp.eventEmitter.emit(a.XMPPEvents.AV_MODERATION_CHANGED,i,r,u)):n?this._xmpp.eventEmitter.emit(a.XMPPEvents.AV_MODERATION_REJECTED,r):s&&this._xmpp.eventEmitter.emit(a.XMPPEvents.AV_MODERATION_APPROVED,r)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(3),o=n(1),a="features/breakout-rooms",s={ADD:a+"/add",REMOVE:a+"/remove",MOVE_TO_ROOM:a+"/move-to-room"},u=a+"/move-to-room",c=a+"/update",l=Object(r.getLogger)(e),d=function(){function e(t){_classCallCheck(this,e),this.room=t,this._handleMessages=this._handleMessages.bind(this),this.room.xmpp.addListener(o.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages),this._rooms={}}return _createClass(e,[{key:"dispose",value:function(){this.room.xmpp.removeListener(o.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages)}},{key:"createBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:s.ADD,subject:e};this._sendMessage(t)}else l.error("Cannot create breakout room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"removeBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:s.REMOVE,breakoutRoomJid:e};this._sendMessage(t)}else l.error("Cannot remove breakout room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"sendParticipantToRoom",value:function(e,t){if(this.isSupported()&&this.room.isModerator()){var n={type:s.MOVE_TO_ROOM,participantJid:e,roomJid:t};this._sendMessage(n)}else l.error("Cannot send participant to room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"isSupported",value:function(){return Boolean(this.getComponentAddress())}},{key:"getComponentAddress",value:function(){return this.room.xmpp.breakoutRoomsComponentAddress}},{key:"_setIsBreakoutRoom",value:function(e){this._isBreakoutRoom=e}},{key:"isBreakoutRoom",value:function(){return void 0!==this._isBreakoutRoom?this._isBreakoutRoom:i.Strophe.getDomainFromJid(this.room.myroomjid)===this.getComponentAddress()}},{key:"_setMainRoomJid",value:function(e){this._mainRoomJid=e}},{key:"getMainRoomJid",value:function(){return this._mainRoomJid}},{key:"_handleMessages",value:function(e){switch(e.event){case u:this.room.eventEmitter.emit(o.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,e.roomJid);break;case c:this._rooms=e.rooms,this.room.eventEmitter.emit(o.XMPPEvents.BREAKOUT_ROOMS_UPDATED,e)}}},{key:"_sendMessage",value:function(e){var t=Object(i.$msg)({to:this.getComponentAddress()});t.c("breakout_rooms",e).up(),this.room.xmpp.connection.send(t)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(3),o=n(1),a=Object(r.getLogger)(e),s=function(){function e(t){var n=this;_classCallCheck(this,e),this.xmpp=t.xmpp,this.mainRoom=t;var r=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(o.XMPPEvents.LOCAL_ROLE_CHANGED,r),this.mainRoom.addEventListener(o.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,r),this.mainRoom.addEventListener(o.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,(function(e){n.lobbyRoomJid=e}))}return _createClass(e,[{key:"isSupported",value:function(){return this.xmpp.lobbySupported}},{key:"enable",value:function(){var e=this;return this.isSupported()?new Promise((function(t,n){e.mainRoom.setMembersOnly(!0,t,n)})):Promise.reject(new Error("Lobby not supported!"))}},{key:"disable",value:function(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1)}},{key:"sendMessage",value:function(e){this.lobbyRoom&&this.lobbyRoom.sendMessage(JSON.stringify(e),"json-message")}},{key:"sendPrivateMessage",value:function(e,t){this.lobbyRoom&&this.lobbyRoom.sendPrivateMessage(e,JSON.stringify(t),"json-message")}},{key:"getLocalId",value:function(){if(this.lobbyRoom)return i.Strophe.getResourceFromJid(this.lobbyRoom.myroomjid)}},{key:"addMessageListener",value:function(e){if(this.lobbyRoom){var t=function(t,n){e(n,i.Strophe.getResourceFromJid(t))};return this.lobbyRoom.on(o.XMPPEvents.JSON_MESSAGE_RECEIVED,t),t}}},{key:"removeMessageHandler",value:function(e){this.lobbyRoom&&this.lobbyRoom.off(o.XMPPEvents.JSON_MESSAGE_RECEIVED,e)}},{key:"leave",value:function(){var e=this;return this.lobbyRoom?this.lobbyRoom.leave().then((function(){e.lobbyRoom=void 0,a.info("Lobby room left!")})).catch((function(){})):Promise.reject(new Error("The lobby has already been left"))}},{key:"setLobbyRoomJid",value:function(e){this.lobbyRoomJid=e}},{key:"_maybeJoinLobbyRoom",value:function(){this.isSupported()&&this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then((function(){return a.info("Joined lobby room")})).catch((function(e){return a.error("Failed joining lobby",e)}))}},{key:"join",value:function(e,t){var n=this,r=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error("Missing lobbyRoomJid, cannot join lobby room."));var s=i.Strophe.getNodeFromJid(this.lobbyRoomJid),u=i.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(s,{customDomain:u,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),e&&this.lobbyRoom.addOrReplaceInPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),r?(this.lobbyRoom.addPresenceListener("email",(function(e,t){n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,t,{email:e.value})})),this.lobbyRoom.addEventListener(o.XMPPEvents.MUC_MEMBER_JOINED,(function(e,t,r,a,s,u,c,l,d){if(!Object.values(n.mainRoom.members).find((function(e){return e.jid===d}))){for(var f=0,h=Object.values(n.mainRoom.getBreakoutRooms()._rooms);f<h.length;f++){var p=h[f];if(Object.values(p.participants).find((function(e){return e.jid===d})))return}n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,i.Strophe.getResourceFromJid(e),t,c?c.avatar:void 0)}})),this.lobbyRoom.addEventListener(o.XMPPEvents.MUC_MEMBER_LEFT,(function(e){n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,i.Strophe.getResourceFromJid(e))})),this.lobbyRoom.addEventListener(o.XMPPEvents.MUC_DESTROYED,(function(){Object.keys(n.lobbyRoom.members).forEach((function(e){return n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,i.Strophe.getResourceFromJid(e))})),n.lobbyRoom.clean(),n.lobbyRoom=void 0,a.info("Lobby room left(destroyed)!")}))):(this.lobbyRoom.addEventListener(o.XMPPEvents.KICKED,(function(e){if(e)return n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_DENIED_ACCESS),void n.lobbyRoom.clean()})),this.mainRoom.addEventListener(o.XMPPEvents.INVITE_MESSAGE_RECEIVED,(function(e,t,r,i){a.debug("Received approval to join ".concat(e," ").concat(t," ").concat(r)),e===n.mainRoom.roomjid&&n.mainRoom.join(i)})),this.lobbyRoom.addEventListener(o.XMPPEvents.MUC_DESTROYED,(function(e,t){t?n.mainRoom.join():(n.lobbyRoom.clean(),n.mainRoom.eventEmitter.emit(o.XMPPEvents.MUC_DESTROYED,e))})),this.mainRoom.addEventListener(o.XMPPEvents.MUC_JOINED,(function(){n.leave()}))),new Promise((function(e,i){n.lobbyRoom.addEventListener(o.XMPPEvents.MUC_JOINED,(function(){e(),t&&!r&&n.lobbyRoom.addOrReplaceInPresence("email",{value:t})&&n.lobbyRoom.sendPresence()})),n.lobbyRoom.addEventListener(o.XMPPEvents.ROOM_JOIN_ERROR,i),n.lobbyRoom.addEventListener(o.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,i),n.lobbyRoom.addEventListener(o.XMPPEvents.ROOM_CONNECT_ERROR,i),n.lobbyRoom.join()}))}},{key:"denyAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find((function(t){return i.Strophe.getResourceFromJid(t)===e}));t?this.lobbyRoom.kick(t):a.error("Not found member for ".concat(e," in lobby room."))}}},{key:"approveAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=this.mainRoom.roomjid;this.mainRoom.getBreakoutRooms().isBreakoutRoom()&&(t=this.mainRoom.getBreakoutRooms().getMainRoomJid());var n=Object.keys(this.lobbyRoom.members).find((function(t){return i.Strophe.getResourceFromJid(t)===e}));if(n){var r=this.lobbyRoom.members[n].jid,o=Object(i.$msg)({to:t}).c("x",{xmlns:"http://jabber.org/protocol/muc#user"}).c("invite",{to:r});this.xmpp.connection.sendIQ(o,(function(){}),(function(e){a.error("Error sending invite for "+r,e)}))}else a.error("Not found member for ".concat(n," in lobby room."))}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(3),o=n(70),a=n(274),s=n(1).XMPPEvents,u=n(27),c=Object(r.getLogger)(e);function l(e){var t=1;return function(n){if(!n){var r=Math.pow(2,t-1);return t+=1,r*e}t=1}}function d(e,t,n,r){function i(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void c.warn("Ignoring sessionId from different origin: "+e.origin);o.a.sessionId=e.data.sessionId}}this.roomName=e,this.xmppService=t,this.getNextTimeout=l(1e3),this.getNextErrorTimeout=l(1e3),this.externalAuthEnabled=!1,this.options=r,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i)}d.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},d.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},d.prototype.onMucMemberLeft=function(e){"focus"===i.Strophe.getResourceFromJid(e)&&(c.info("Focus has left the room - leaving conference"),this.eventEmitter.emit(s.FOCUS_LEFT))},d.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,c.info("Focus jid set to:  "+this.focusUserJid))},d.prototype.getFocusUserJid=function(){return this.focusUserJid},d.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus."+this.options.connection.hosts.domain),e},d.prototype.createConferenceIq=function(){var e,t,n,r=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),a=o.a.sessionId,s=o.a.machineId,u=this.options.conference;c.info("Session ID: ".concat(a," machine UID: ").concat(s)),r.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":s}),a&&r.attrs({"session-id":a}),r.c("property",{name:"disableRtx",value:Boolean(u.disableRtx)}).up(),void 0!==u.audioPacketDelay&&r.c("property",{name:"audioPacketDelay",value:u.audioPacketDelay}).up(),u.startBitrate&&r.c("property",{name:"startBitrate",value:u.startBitrate}).up(),u.minBitrate&&r.c("property",{name:"minBitrate",value:u.minBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&r.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&r.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up();var l=null!==(n=null===(t=null===(e=this.options.conference)||void 0===e?void 0:e.analytics)||void 0===t?void 0:t.rtcstatsEnabled)&&void 0!==n&&n;l||r.c("property",{name:"rtcstatsEnabled",value:l}).up();var d=this.options.conference,f=d.callStatsID,h=d.callStatsSecret,p=d.disableThirdPartyRequests,m=d.enableCallStats,v=!f||!h||!m||!0===p;return v&&r.c("property",{name:"callstatsEnabled",value:!v}).up(),r.up(),r},d.prototype.parseSessionId=function(e){var t=$(e).find("conference").attr("session-id");t&&(c.info("Received sessionId:  "+t),o.a.sessionId=t)},d.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find("conference").attr("focusjid"));var t=$(e).find(">conference>property[name='authentication'][value='true']").length>0;c.info("Authentication enabled: "+t),this.externalAuthEnabled=$(e).find(">conference>property[name='externalAuth'][value='true']").length>0,c.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(">conference").attr("identity");this.eventEmitter.emit(a.IDENTITY_UPDATED,t,n),$(e).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),c.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},d.prototype.allocateConferenceFocus=function(){var e=this;return new Promise((function(t){e.setFocusUserJid(e.options.connection.focusUserJid),e.connection.sendIQ(e.createConferenceIq(),(function(n){return e._allocateConferenceFocusSuccess(n,t)}),(function(n){return e._allocateConferenceFocusError(n,t)})),e.connection.flush()}))},d.prototype._allocateConferenceFocusError=function(e,t){var n=this,r=$(e).find(">error>session-invalid").length||$(e).find(">error>not-acceptable").length;if(r&&(c.info("Session expired! - removing"),o.a.sessionId=void 0),$(e).find(">error>graceful-shutdown").length)this.eventEmitter.emit(s.GRACEFUL_SHUTDOWN);else{var a=$(e).find(">error>reservation-error");if(a.length){var l,d=a.attr("error-code"),f=$(e).find(">error>text");return f&&(l=f.text()),void this.eventEmitter.emit(s.RESERVATION_ERROR,d,l)}if($(e).find(">error>not-authorized").length)return c.warn("Unauthorized to start the conference",e),i.Strophe.getDomainFromJid(e.getAttribute("to"))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(s.AUTHENTICATION_REQUIRED);var h=this.getNextErrorTimeout(),p="Focus error, retry after "+h;u.callErrorHandler(new Error(p)),c.error(p,e);var m=this.getFocusComponent(),v=h/1e3;r||this.eventEmitter.emit(s.FOCUS_DISCONNECTED,m,v),this.getNextTimeout(!0),window.setTimeout((function(){return n.allocateConferenceFocus().then(t)}),h)}},d.prototype._allocateConferenceFocusSuccess=function(e,t){var n=this;if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var r=this.getNextTimeout();c.info("Waiting for the focus... "+r),window.setTimeout((function(){return n.allocateConferenceFocus().then(t)}),r)}},d.prototype.authenticate=function(){var e=this;return new Promise((function(t,n){e.connection.sendIQ(e.createConferenceIq(),(function(n){e.parseSessionId(n),t()}),(function(e){return n({error:$(e).find("iq>error :first").prop("tagName"),message:$(e).find("iq>error>text").text()})}))}))},d.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},d.prototype._getLoginUrl=function(e,t,n){var r=Object(i.$iq)({to:this.getFocusComponent(),type:"get"}),a={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":o.a.machineId},s="auth url";function l(e,t){u.callErrorHandler(new Error(e)),c.error(e,t),n(t)}e&&(a.popup=!0,s="POPUP "+s),r.c("login-url",a),this.connection.sendIQ(r,(function(e){var n=$(e).find("login-url").attr("url");(n=decodeURIComponent(n))?(c.info("Got ".concat(s,": ").concat(n)),t(n)):l("Failed to get ".concat(s," from the focus"),e)}),l.bind(void 0,"Get ".concat(s," error")))},d.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},d.prototype.logout=function(e){var t=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),n=o.a.sessionId;n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),this.connection.sendIQ(t,(function(t){var n=$(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),c.info("Log out OK, url: "+n,t),o.a.sessionId=void 0,e(n)}),(function(e){u.callErrorHandler(new Error("Logout error")),c.error("Logout error",e)}))):e()}}).call(this,"/index.js")},function(e,t,n){var r=n(133),i=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function(){return"".concat(r.randomElement(i),"-").concat(r.randomAlphanumStr(3))}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(5),i=n(3),o=n(4),a=n(15),s=n(1),u=n(10),c=n(27),l=n.n(c),d=n(133),f=n.n(d),h=n(101),p=n(418),m=n(189),v=Object(r.getLogger)(e);function g(e){var t=$(e).find(">candidate"),n=[];return t.each((function(e,t){for(var r=t.attributes,i=[],o=0;o<r.length;o++){var a=r[o];i.push("".concat(a.name,": ").concat(a.value))}n.push(i.join(" "))})),n}var _=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).xmpp=e,o.eventEmitter=r,o.sessions={},o.jvbIceConfig=i.jvb,o.p2pIceConfig=i.p2p,o.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},o}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)}},{key:"onJingle",value:function(e){var t,n=$(e).find("jingle").attr("sid"),r=$(e).find("jingle").attr("action"),c=e.getAttribute("from"),d=Object(i.$iq)({type:"result",to:c,id:e.getAttribute("id")}),f=this.sessions[n];if("session-initiate"!==r){if(!f)return d.attrs({type:"error"}),d.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),v.warn("invalid session id: "+n),v.debug(e),this.connection.send(d),!0;if(c!==f.remoteJid)return v.warn("jid mismatch for session id",n,f.remoteJid,e),d.attrs({type:"error"}),d.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(d),!0}else if(void 0!==f)return d.attrs({type:"error"}),d.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),v.warn("duplicate session id",n,e),this.connection.send(d),!0;var h=window.performance.now(),_="focus"!==i.Strophe.getResourceFromJid(c),b=$(e).find("jingle>json-message");if(null==b?void 0:b.length){var y;v.info("Found a JSON-encoded element in ".concat(r,", translating to standard Jingle."));for(var E=0;E<b.length;E++)y=Object(p.a)(e,b[E]);if(null==y?void 0:y.size){var S,D=[],w=_createForOfIteratorHelper(y.keys());try{for(w.s();!(S=w.n()).done;){var C=S.value;D.push("".concat(C,":[").concat(y.get(C),"]"))}}catch(J){w.e(J)}finally{w.f()}v.debug("Received ".concat(r," from ").concat(c," with sources=").concat(D.join(", ")))}}switch(r){case"session-initiate":v.log("(TIME) received session-initiate:\t",h);var T=$(e).find("jingle>startmuted");if(_&&v.debug("Received ".concat(r," from ").concat(c)),null==T?void 0:T.length){var A=T.attr(o.a.AUDIO),k=T.attr(o.a.VIDEO);this.eventEmitter.emit(s.XMPPEvents.START_MUTED_FROM_FOCUS,"true"===A,"true"===k)}var O=_?this.p2pIceConfig:this.jvbIceConfig;f=new m.a($(e).find("jingle").attr("sid"),$(e).attr("to"),c,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(O)),_,!1),this.sessions[f.sid]=f,this.eventEmitter.emit(s.XMPPEvents.CALL_INCOMING,f,$(e).find(">jingle"),h);break;case"session-accept":var R,M=[],I=$(e).find("jingle>content"),P=_createForOfIteratorHelper(I);try{for(P.s();!(R=P.n()).done;){var N=R.value,x=$(N).find("description").attr("ssrc");x&&M.push(x)}}catch(J){P.e(J)}finally{P.f()}v.debug("Received ".concat(r," from ").concat(c," with ssrcs=").concat(M)),this.eventEmitter.emit(s.XMPPEvents.CALL_ACCEPTED,f,$(e).find(">jingle"));break;case"content-modify":var F=$(e).find('jingle>content[name="video"]>max-frame-height');v.debug("Received ".concat(r," from ").concat(c," with a max-frame-height=").concat(null==F?void 0:F.text())),f.modifyContents($(e).find(">jingle"));break;case"transport-info":var L=g($(e).find("jingle>content>transport"));v.debug("Received ".concat(r," from ").concat(c," for candidates=").concat(L.join(", "))),this.eventEmitter.emit(s.XMPPEvents.TRANSPORT_INFO,f,$(e).find(">jingle"));break;case"session-terminate":v.log("terminating...",f.sid);var j=null,B=null;$(e).find(">jingle>reason").length&&(j=$(e).find(">jingle>reason>:first")[0].tagName,B=$(e).find(">jingle>reason>text").text()),v.debug("Received ".concat(r," from ").concat(c," disconnect reason=").concat(B)),this.terminate(f.sid,j,B),this.eventEmitter.emit(s.XMPPEvents.CALL_ENDED,f,j,B);break;case"transport-replace":v.info("(TIME) Start transport replace:\t",h);var U=$(e).find("jingle>content>transport"),H=g(U),V=$(U).attr("ufrag"),q=$(U).attr("pwd"),G=null===(t=$(U).find(">fingerprint"))||void 0===t?void 0:t.text();v.debug("Received ".concat(r," from ").concat(c," with iceUfrag=").concat(V,", icePwd=").concat(q,", DTLS fingerprint=").concat(G,", candidates=").concat(H.join(", "))),u.a.sendAnalytics(Object(a.F)(a.f,{p2p:_,value:h})),f.replaceTransport($(e).find(">jingle"),(function(){var e=window.performance.now();v.info("(TIME) Transport replace success:\t",e),u.a.sendAnalytics(Object(a.F)(a.g,{p2p:_,value:e}))}),(function(e){l.a.callErrorHandler(e),v.error("Transport replace failed",e),f.sendTransportReject()}));break;case"source-add":f.addRemoteStream($(e).find(">jingle>content"));break;case"source-remove":f.removeRemoteStream($(e).find(">jingle>content"));break;default:v.warn("jingle action not implemented",r),d.attrs({type:"error"}),d.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up()}return this.connection.send(d),!0}},{key:"newP2PJingleSession",value:function(e,t){var n=new m.a(f.a.randomHexString(12),e,t,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[n.sid]=n,n}},{key:"terminate",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!==this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:"getStunAndTurnCredentials",value:function(){var e=this;this.connection.sendIQ(Object(i.$iq)({type:"get",to:this.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:2"}),(function(t){return e.onReceiveStunAndTurnCredentials(t)}),(function(){v.warn("getting turn credentials with extdisco:2 failed, trying extdisco:1"),e.connection.sendIQ(Object(i.$iq)({type:"get",to:e.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}),(function(t){return e.onReceiveStunAndTurnCredentials(t)}),(function(){v.warn("getting turn credentials failed"),v.warn("is mod_turncredentials or similar installed and configured?")}))}))}},{key:"onReceiveStunAndTurnCredentials",value:function(e){var t=[];$(e).find(">services>service").each((function(e,n){var r={},i=(n=$(n)).attr("type");switch(i){case"stun":r.urls="stun:"+n.attr("host"),n.attr("port")&&(r.urls+=":"+n.attr("port")),t.push(r);break;case"turn":case"turns":r.urls=i+":",r.username=n.attr("username"),r.urls+=n.attr("host"),n.attr("port")&&(r.urls+=":"+n.attr("port"));var o=n.attr("transport");o&&"udp"!==o&&(r.urls+="?transport="+o),r.credential=n.attr("password")||r.credential,t.push(r)}}));for(var n,r=this.xmpp.options,i=t.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),a=t[i];t[i]=t[o],t[o]=a}return n=r.useTurnUdp?function(e){return e.urls.startsWith("turn")}:function(e){return e.urls.startsWith("turn")&&e.urls.indexOf("transport=tcp")>=0},this.jvbIceConfig.iceServers=t.filter(n),this.p2pIceConfig.iceServers=t,t.length>0}},{key:"getLog",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach((function(n){var r=e.sessions[n].peerconnection;r&&r.updateLog&&(t["jingle_"+n]={updateLog:r.updateLog,stats:r.stats,url:window.location.href})})),t}}]),n}(h.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(5),i=n(3),o=n(4),a=n(16),s=Object(r.getLogger)(e);function u(e,t){var n=Object(i.$build)("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:t.s,name:a.a.isSourceNameSignalingEnabled()?t.n:void 0});return t.m&&n.c("parameter",{name:"msid",value:t.m}).up(),n.c("ssrc-info",{xmlns:"http://jitsi.org/jitmeet",owner:e}).up(),n.node}function c(e){for(var t=Object(i.$build)("ssrc-group",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",semantics:d(e[0])}),n=1;n<e.length;n++)t.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:e[n]}).up();return t.node}function l(e,t){var n,r=$(e).find("jingle")[0],o=$(r).find('content[name="'.concat(t,'"]'));return o.length?o=o[0]:(o=Object(i.$build)("content",{name:t}).node,r.appendChild(o)),(n=$(o).find("description")).length?n=n[0]:(n=Object(i.$build)("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:t}).node,o.appendChild(n)),n}function d(e){return"f"===e?"FID":"s"===e?"SIM":null}function f(e,t){var n,r,i;try{i=JSON.parse(t.textContent)}catch(e){return s.error("json-message XML contained invalid JSON, ignoring: "+t.textContent),null}if(!(null==i?void 0:i.sources))return null;var a=l(e,o.a.AUDIO),d=l(e,o.a.VIDEO),f=new Map;for(var h in i.sources)if(i.sources.hasOwnProperty(h)){var p=[],m=i.sources[h],v=(null==m?void 0:m.length)&&m[0],g=(null==m?void 0:m.length)>1&&m[1],_=(null==m?void 0:m.length)>2&&m[2],b=(null==m?void 0:m.length)>3&&m[3];if(null==v?void 0:v.length)for(var y=0;y<v.length;y++)d.appendChild(u(h,v[y])),p.push(null===(n=v[y])||void 0===n?void 0:n.s);if(null==g?void 0:g.length)for(var E=0;E<g.length;E++)d.appendChild(c(g[E]));if(null==_?void 0:_.length)for(var S=0;S<_.length;S++)a.appendChild(u(h,_[S])),p.push(null===(r=_[S])||void 0===r?void 0:r.s);if(null==b?void 0:b.length)for(var D=0;D<b.length;D++)a.appendChild(c(b[D]));f.set(h,p)}return f}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(420),o=n.n(i),a=Object(r.getLogger)(e),s=function(){function e(){_classCallCheck(this,e),this._queue=o.a.queue(this._processQueueTasks.bind(this),1),this._stopped=!1}return _createClass(e,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(e,t){try{e(t)}catch(e){a.error("Task failed: "+(null==e?void 0:e.stack)),t(e)}}},{key:"push",value:function(e,t){this._stopped?t&&t(new Error("The queue has been stopped")):this._queue.push(e,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),e}()}).call(this,"/index.js")},function(e,t,n){(function(n,r){var i;!function(){var o,a,s={};function u(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(o,arguments)}}null!=(o=this)&&(a=o.async),s.noConflict=function(){return o.async=a,s};var c=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===c.call(e)},d=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},f=function(e,t){if(e.map)return e.map(t);var n=[];return d(e,(function(e,r,i){n.push(t(e,r,i))})),n},h=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(s.nextTick=n.nextTick,s.setImmediate=void 0!==r?function(e){r(e)}:s.nextTick):"function"==typeof r?(s.nextTick=function(e){r(e)},s.setImmediate=s.nextTick):(s.nextTick=function(e){setTimeout(e,0)},s.setImmediate=s.nextTick),s.each=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;function i(t){t?(n(t),n=function(){}):(r+=1)>=e.length&&n()}d(e,(function(e){t(e,u(i))}))},s.forEach=s.each,s.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;!function i(){t(e[r],(function(t){t?(n(t),n=function(){}):(r+=1)>=e.length?n():i()}))}()},s.forEachSeries=s.eachSeries,s.eachLimit=function(e,t,n,r){p(t).apply(null,[e,n,r])},s.forEachLimit=s.eachLimit;var p=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;a<e&&o<t.length;)a+=1,n(t[(o+=1)-1],(function(e){e?(r(e),r=function(){}):(a-=1,(i+=1)>=t.length?r():s())}))}()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}},v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}},g=function(e,t,n,r){if(t=f(t,(function(e,t){return{index:t,value:e}})),r){var i=[];e(t,(function(e,t){n(e.value,(function(n,r){i[e.index]=r,t(n)}))}),(function(e){r(e,i)}))}else e(t,(function(e,t){n(e.value,(function(e){t(e)}))}))};s.map=m(g),s.mapSeries=v(g),s.mapLimit=function(e,t,n,r){return _(t)(e,n,r)};var _=function(e){return function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[p(e)].concat(n))}}(e,g)};s.reduce=function(e,t,n,r){s.eachSeries(e,(function(e,r){n(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(e,t,n,r){var i=f(e,(function(e){return e})).reverse();s.reduce(i,t,n,r)},s.foldr=s.reduceRight;var b=function(e,t,n,r){var i=[];e(t=f(t,(function(e,t){return{index:t,value:e}})),(function(e,t){n(e.value,(function(n){n&&i.push(e),t()}))}),(function(e){r(f(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};s.filter=m(b),s.filterSeries=v(b),s.select=s.filter,s.selectSeries=s.filterSeries;var y=function(e,t,n,r){var i=[];e(t=f(t,(function(e,t){return{index:t,value:e}})),(function(e,t){n(e.value,(function(n){n||i.push(e),t()}))}),(function(e){r(f(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};s.reject=m(y),s.rejectSeries=v(y);var E=function(e,t,n,r){e(t,(function(e,t){n(e,(function(n){n?(r(e),r=function(){}):t()}))}),(function(e){r()}))};s.detect=m(E),s.detectSeries=v(E),s.some=function(e,t,n){s.each(e,(function(e,r){t(e,(function(e){e&&(n(!0),n=function(){}),r()}))}),(function(e){n(!1)}))},s.any=s.some,s.every=function(e,t,n){s.each(e,(function(e,r){t(e,(function(e){e||(n(!1),n=function(){}),r()}))}),(function(e){n(!0)}))},s.all=s.every,s.sortBy=function(e,t,n){s.map(e,(function(e,n){t(e,(function(t,r){t?n(t):n(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,f(t.sort((function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0})),(function(e){return e.value})))}))},s.auto=function(e,t){t=t||function(){};var n=h(e),r=n.length;if(!r)return t();var i={},o=[],a=function(e){o.unshift(e)},u=function(){r--,d(o.slice(0),(function(e){e()}))};a((function(){if(!r){var e=t;t=function(){},e(null,i)}})),d(n,(function(n){var r=l(e[n])?e[n]:[e[n]],c=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var o={};d(h(i),(function(e){o[e]=i[e]})),o[n]=r,t(e,o),t=function(){}}else i[n]=r,s.setImmediate(u)},f=r.slice(0,Math.abs(r.length-1))||[],p=function(){return t=function(e,t){return e&&i.hasOwnProperty(t)},r=!0,((e=f).reduce?e.reduce(t,r):(d(e,(function(e,n,i){r=t(r,e)})),r))&&!i.hasOwnProperty(n);var e,t,r};p()?r[r.length-1](c,i):a((function e(){p()&&(function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)}(e),r[r.length-1](c,i))}))}))},s.retry=function(e,t,n){var r=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,o){for(var a=function(e,t){return function(n){e((function(e,r){n(!e||t,{err:e,result:r})}),o)}};e;)r.push(a(t,!(e-=1)));s.series(r,(function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)}))};return n?i():i},s.waterfall=function(e,t){if(t=t||function(){},!l(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();!function e(n){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=n.next();o?i.push(e(o)):i.push(t),s.setImmediate((function(){n.apply(null,i)}))}}}(s.iterator(e))()};var S=function(e,t,n){if(n=n||function(){},l(t))e.map(t,(function(e,t){e&&e((function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)}))}),n);else{var r={};e.each(h(t),(function(e,n){t[e]((function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)}))}),(function(e){n(e,r)}))}};s.parallel=function(e,t){S({map:s.map,each:s.each},e,t)},s.parallelLimit=function(e,t,n){S({map:_(t),each:p(t)},e,n)},s.series=function(e,t){if(t=t||function(){},l(e))s.mapSeries(e,(function(e,t){e&&e((function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)}))}),t);else{var n={};s.eachSeries(h(e),(function(t,r){e[t]((function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)}))}),(function(e){t(e,n)}))}},s.iterator=function(e){return function t(n){var r=function t(){return e.length&&e[n].apply(null,arguments),t.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r}(0)},s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var D=function(e,t,n,r){var i=[];e(t,(function(e,t){n(e,(function(e,n){i=i.concat(n||[]),t(e)}))}),(function(e){r(e,i)}))};s.concat=m(D),s.concatSeries=v(D),s.whilst=function(e,t,n){e()?t((function(r){if(r)return n(r);s.whilst(e,t,n)})):n()},s.doWhilst=function(e,t,n){e((function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?s.doWhilst(e,t,n):n()}))},s.until=function(e,t,n){e()?n():t((function(r){if(r)return n(r);s.until(e,t,n)}))},s.doUntil=function(e,t,n){e((function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():s.doUntil(e,t,n)}))},s.queue=function(e,t){function n(e,t,n,r){if(e.started||(e.started=!0),l(t)||(t=[t]),0==t.length)return s.setImmediate((function(){e.drain&&e.drain()}));d(t,(function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)}))}void 0===t&&(t=1);var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){n(i,e,!0,t)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=u((function(){r-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()}));e(t.data,n)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0,i.process())},resume:function(){!1!==i.paused&&(i.paused=!1,i.process())}};return i},s.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}var r=s.queue(e,t);return r.push=function(e,t,i){!function(e,t,r,i){if(e.started||(e.started=!0),l(t)||(t=[t]),0==t.length)return s.setImmediate((function(){e.drain&&e.drain()}));d(t,(function(t){var o={data:t,priority:r,callback:"function"==typeof i?i:null};e.tasks.splice(function(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)}))}(r,e,t,i)},delete r.unshift,r},s.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){l(e)||(e=[e]),d(e,(function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()})),s.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var a="number"==typeof t?r.splice(0,t):r.splice(0,r.length),s=f(a,(function(e){return e.data}));i.empty&&i.empty(),n=!0,e(s,(function(){n=!1;var e=arguments;d(a,(function(t){t.callback&&t.callback.apply(null,e)})),o()}))}},length:function(){return r.length},running:function(){return n}};return i};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&d(n,(function(t){console[e](t)})))}]))}};s.log=w("log"),s.dir=w("dir"),s.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=t.apply(null,i);a in n?s.nextTick((function(){o.apply(null,n[a])})):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},s.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return s.map(r,t,n)},s.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return s.mapSeries(r,t,n)},s.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();s.reduce(e,n,(function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))}),(function(e,n){r.apply(t,[e].concat(n))}))}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,(function(e,t){e.apply(n,r.concat([t]))}),i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};s.applyEach=m(C),s.applyEachSeries=v(C),s.forever=function(e,t){!function n(r){if(r){if(t)return t(r);throw r}e(n)}()},e.exports?e.exports=s:void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()}).call(this,n(45),n(327).setImmediate)},function(e,t){e.exports={integerHash:function(e){if(!e)return 0;var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t)*Math.pow(31,e.length-1-t),n=Math.abs(0|n);return n}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(46),o=n(79),a=Object(r.getLogger)(e),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u){var c;return _classCallCheck(this,n),(c=t.call(this)).sid=e,c.localJid=r,c.remoteJid=i,c.connection=o,c.mediaConstraints=a,c.pcConfig=s,c.isInitiator=u,c.usedrip=!0,c.dripContainer=[],c.room=null,c._signalingLayer=null,c.state=null,c.rtc=null,c}return _createClass(n,[{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}},{key:"initialize",value:function(e,t,n,r){if(null!==this.state){var i="attempt to initiate on session ".concat(this.sid,"\n                   in state ").concat(this.state);throw a.error(i),new Error(i)}this.room=e,this.rtc=t,this._signalingLayer=n,this.state=o.c,this.doInitialize(r)}},{key:"doInitialize",value:function(e){}},{key:"addIceCandidates",value:function(e){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(e){}},{key:"removeSources",value:function(e){}},{key:"terminate",value:function(e,t,n){}},{key:"acceptOffer",value:function(e,t,n){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}}]),n}(i.a)}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(3),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).log=[],e}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(e){this.log.push([(new Date).getTime(),"incoming",e])}},{key:"logOutgoing",value:function(e){this.log.push([(new Date).getTime(),"outgoing",e])}}]),n}(n(101).b);t.a=function(){r.Strophe.addConnectionPlugin("logger",new i)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(3),o=n(101),a=Object(r.getLogger)(e),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onRayo.bind(this),"urn:xmpp:rayo:1","iq","set",null,null)}},{key:"onRayo",value:function(e){a.info("Rayo IQ",e)}},{key:"dial",value:function(e,t,n,r,o){var s=this;return new Promise((function(u,c){if(o){var l=Object(i.$iq)({type:"set",to:o});l.c("dial",{xmlns:"urn:xmpp:rayo:1",to:e,from:t}),l.c("header",{name:"JvbRoomName",value:n}).up(),r&&r.length&&l.c("header",{name:"JvbRoomPassword",value:r}).up(),s.connection.sendIQ(l,(function(e){a.info("Dial result ",e);var t=$(e).find("ref").attr("uri");s.callResource=t.substr(5),a.info("Received call resource: "+s.callResource),u()}),(function(e){a.info("Dial error ",e),c(e)}))}else c(new Error("Internal error!"))}))}},{key:"hangup",value:function(){var e=this;return new Promise((function(t,n){if(!e.callResource)return n(new Error("No call in progress")),void a.warn("No call in progress");var r=Object(i.$iq)({type:"set",to:e.callResource});r.c("hangup",{xmlns:"urn:xmpp:rayo:1"}),e.connection.sendIQ(r,(function(n){a.info("Hangup result ",n),e.callResource=null,t()}),(function(t){a.info("Hangup error ",t),e.callResource=null,n(new Error("Hangup error "))}))}))}}]),n}(o.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){var r=n(5),i=n(3),o=n(27),a=n.n(o),s=Object(r.getLogger)(e),u=-1,c=/request id \d+.\d+ got 200/,l=/request errored, status: (\d+), number of errors: \d+/;t.a=function(){i.Strophe.log=function(e,t){switch(s.trace("Strophe",e,t),"string"==typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(e=i.Strophe.LogLevel.WARN),e){case i.Strophe.LogLevel.DEBUG:-1!==u&&c.test(t)&&(s.debug("Reset lastErrorStatus"),u=-1);break;case i.Strophe.LogLevel.WARN:s.warn("Strophe: "+t);var n=l.exec(t);n&&2===n.length&&(u=parseInt(n[1],10),s.debug("lastErrorStatus set to: "+u));break;case i.Strophe.LogLevel.ERROR:case i.Strophe.LogLevel.FATAL:t="Strophe: "+t,a.a.callErrorHandler(new Error(t)),s.error(t)}},i.Strophe.getLastErrorStatus=function(){return u},i.Strophe.getStatusString=function(e){switch(e){case i.Strophe.Status.BINDREQUIRED:return"BINDREQUIRED";case i.Strophe.Status.ERROR:return"ERROR";case i.Strophe.Status.CONNECTING:return"CONNECTING";case i.Strophe.Status.CONNFAIL:return"CONNFAIL";case i.Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case i.Strophe.Status.AUTHFAIL:return"AUTHFAIL";case i.Strophe.Status.CONNECTED:return"CONNECTED";case i.Strophe.Status.DISCONNECTED:return"DISCONNECTED";case i.Strophe.Status.DISCONNECTING:return"DISCONNECTING";case i.Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown"}}}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(5),i=n(2),o=n(44),a=n.n(o),s=n(4),u=n(6),c=Object(r.getLogger)(e),l=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.conference=t,this.options=n,this.disabledCodec=n.disabledCodec===a.a.VP8?void 0:this._getCodecMimeType(n.disabledCodec);var o=this._getCodecMimeType(n.jvbCodec),s=this._getCodecMimeType(n.p2pCodec);this.jvbPreferredCodec=o&&this._isCodecSupported(o)?o:a.a.VP8,this.p2pPreferredCodec=s&&this._isCodecSupported(s)?s:a.a.VP8,c.debug("Codec preferences for the conference are JVB: ".concat(this.jvbPreferredCodec,",\n            P2P: ").concat(this.p2pPreferredCodec)),this.jvbPreferredCodec!==a.a.VP9||u.a.supportsVP9()||(this.jvbPreferredCodec=a.a.VP8),this.conference.on(i.USER_JOINED,(function(){return r._selectPreferredCodec()})),this.conference.on(i.USER_LEFT,(function(){return r._selectPreferredCodec()})),this.conference.on(i._MEDIA_SESSION_STARTED,(function(e){return r._onMediaSessionStarted(e)}))}return _createClass(e,[{key:"_getCodecMimeType",value:function(e){return"string"==typeof e?Object.values(a.a).find((function(t){return t===e.toLowerCase()})):null}},{key:"_isCodecSupported",value:function(e){return!(!u.a.isFirefox()&&!u.a.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("video").codecs.some((function(t){return t.mimeType.toLowerCase()==="video/"+e}))}},{key:"_onMediaSessionStarted",value:function(e){var t=e.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,n=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(e,t,n)}},{key:"_selectPreferredCodec",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.conference.jvbJingleSession,r=e||this.jvbPreferredCodec,i=r;if(n&&!n.isP2P&&!this.options.enforcePreferredCodec){var o,c=this.conference.getParticipants().map((function(e){return e.getId()})),l=_createForOfIteratorHelper(c);try{for(l.s();!(o=l.n()).done;){var d=o.value,f=n._signalingLayer.getPeerMediaInfo(d,s.a.VIDEO),h=null==f?void 0:f.codecType;h&&h!==r&&(h!==a.a.VP9||u.a.supportsVP9())&&(i=h)}}catch(p){l.e(p)}finally{l.f()}}n&&n.setVideoCodecs(i,t)}},{key:"getPreferredCodec",value:function(){return this.jvbPreferredCodec}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(11),o=n(15),a=n(16),s=n(10),u=n(27),c=n.n(u),l=Object(r.getLogger)(e),d=function(){function t(e,n,r){if(_classCallCheck(this,t),!e&&!n)throw new TypeError("At least peerconnection or wsUrl must be given");if(e&&n)throw new TypeError("Just one of peerconnection or wsUrl must be given");if(e?l.debug("constructor() with peerconnection"):l.debug('constructor() with wsUrl:"'.concat(n,'"')),this._channel=null,this._eventEmitter=r,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,e){var i=e.createDataChannel("JVB data channel",{protocol:"http://jitsi.org/protocols/colibri"});this._handleChannel(i),this._mode="datachannel"}else n&&(this._areRetriesEnabled=!0,this._wsUrl=n,this._initWebSocket())}return _createClass(t,[{key:"_initWebSocket",value:function(){var e=new WebSocket(this._wsUrl);this._handleChannel(e),this._mode="websocket"}},{key:"_startConnectionRetries",value:function(){var e=this,t=1;this._retryTimeout=setTimeout((function n(){e.isOpen()||(e._initWebSocket(e._wsUrl),t=Math.min(2*t,60),e._retryTimeout=setTimeout(n,1e3*t))}),1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(e){var t=this;if(this._areRetriesEnabled){var n=e.code,r=e.reason;s.a.sendAnalytics(Object(o.y)(n,r)),this._areRetriesEnabled=!1,this._eventEmitter.once(i.default.DATA_CHANNEL_OPEN,(function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0})),this._startConnectionRetries()}}},{key:"mode",get:function(){return this._mode}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(e){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&("open"===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendEndpointStatsMessage",value:function(e){this._send(Object.assign({colibriClass:"EndpointStats"},e))}},{key:"sendMessage",value:function(e,t){this._send({colibriClass:"EndpointMessage",msgPayload:t,to:e})}},{key:"sendSetLastNMessage",value:function(e){l.log("Sending lastN=".concat(e,".")),this._send({colibriClass:"LastNChangedEvent",lastN:e})}},{key:"sendSelectedEndpointsMessage",value:function(e){l.log("Sending selected endpoints: ".concat(e,".")),this._send({colibriClass:"SelectedEndpointsChangedEvent",selectedEndpoints:e})}},{key:"sendReceiverVideoConstraintMessage",value:function(e){l.log("Sending ReceiverVideoConstraint with maxFrameHeight=".concat(e,"px")),this._send({colibriClass:"ReceiverVideoConstraint",maxFrameHeight:e})}},{key:"sendNewReceiverVideoConstraintsMessage",value:function(e){l.log("Sending ReceiverVideoConstraints with "+JSON.stringify(e)),this._send(Object.assign({colibriClass:"ReceiverVideoConstraints"},e))}},{key:"sendVideoTypeMessage",value:function(e){l.debug("Sending VideoTypeMessage with video type as "+e),this._send({colibriClass:"VideoTypeMessage",videoType:e})}},{key:"sendSourceVideoTypeMessage",value:function(e,t){l.info("Sending SourceVideoTypeMessage with video type ".concat(e,": ").concat(t)),this._send({colibriClass:"SourceVideoTypeMessage",sourceName:e,videoType:t})}},{key:"_handleChannel",value:function(e){var t=this,n=this._eventEmitter;e.onopen=function(){l.info(t._mode+" channel opened"),n.emit(i.default.DATA_CHANNEL_OPEN)},e.onerror=function(e){"websocket"!==t._mode&&l.error("Channel error: "+e.message)},e.onmessage=function(e){var t,r=e.data;try{t=JSON.parse(r)}catch(e){return c.a.callErrorHandler(e),void l.error("Failed to parse channel message as JSON: ",r,e)}var o=t.colibriClass;switch(o){case"DominantSpeakerEndpointChangeEvent":var s=t,u=s.dominantSpeakerEndpoint,d=s.previousSpeakers,f=void 0===d?[]:d;l.debug("Dominant speaker: ".concat(u,", previous speakers: ").concat(f)),n.emit(i.default.DOMINANT_SPEAKER_CHANGED,u,f);break;case"EndpointConnectivityStatusChangeEvent":var h=t.endpoint,p="true"===t.active;l.info("Endpoint connection status changed: ".concat(h," active=").concat(p)),n.emit(i.default.ENDPOINT_CONN_STATUS_CHANGED,h,p);break;case"EndpointMessage":n.emit(i.default.ENDPOINT_MESSAGE_RECEIVED,t.from,t.msgPayload);break;case"EndpointStats":n.emit(i.default.ENDPOINT_STATS_RECEIVED,t.from,t);break;case"LastNEndpointsChangeEvent":if(!a.a.isSourceNameSignalingEnabled()){var m=t.lastNEndpoints;l.info("New forwarded endpoints: "+m),n.emit(i.default.LASTN_ENDPOINT_CHANGED,m)}break;case"ForwardedSources":if(a.a.isSourceNameSignalingEnabled()){var v=t.forwardedSources;l.info("New forwarded sources: "+v),n.emit(i.default.FORWARDED_SOURCES_CHANGED,v)}break;case"SenderVideoConstraints":var g=t.videoConstraints;g&&(l.info("SenderVideoConstraints: "+JSON.stringify(g)),n.emit(i.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,g));break;case"SenderSourceConstraints":if(a.a.isSourceNameSignalingEnabled()){var _=t,b=_.sourceName,y=_.maxHeight;"string"==typeof b&&"number"==typeof y?(l.info("SenderSourceConstraints: "+JSON.stringify({sourceName:b,maxHeight:y})),n.emit(i.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,{sourceName:b,maxHeight:y})):l.error("Invalid SenderSourceConstraints: "+JSON.stringify(t))}break;case"ServerHello":l.info("Received ServerHello, version=".concat(t.version,"."));break;default:l.debug("Channel JSON-formatted message: ",t),n.emit("rtc.datachannel."+o,t)}},e.onclose=function(e){l.info("Channel closed by "+(t._closedFromClient?"client":"server")),"websocket"===t._mode&&(t._closedFromClient||(l.error("Channel closed: ".concat(e.code," ").concat(e.reason)),t._retryWebSocketConnection(e))),t._channel=null},this._channel=e}},{key:"_send",value:function(e){var t=this._channel;if(!this.isOpen())throw l.error("Bridge Channel send: no opened channel."),new Error("No opened channel");t.send(JSON.stringify(e))}}]),t}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(5),i=n(47),o=n(33),a=n(30),s=n(139),u=n.n(s),c=n(4),l=n(11),d=n(22),f=n(15),h=n(6),p=n(16),m=n(10),v=n(232),g=n(26),_=Object(r.getLogger)(e),b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=e.deviceId,o=e.facingMode,s=e.mediaType,u=e.resolution,c=e.rtcId,f=e.sourceId,h=e.sourceType,p=e.stream,m=e.track,v=e.videoType,_=e.effects,b=void 0===_?[]:_;(r=t.call(this,null,p,m,(function(){return r.emit(a.LOCAL_TRACK_STOPPED)}),s,v))._setEffectInProgress=!1;var y=b.find((function(e){return e.isEnabled(_assertThisInitialized(r))}));y&&r._startStreamEffect(y);var E=v===d.VideoType.DESKTOP?m.getSettings().displaySurface:null;return r.metadata=Object.assign({timestamp:Date.now()},E?{displaySurface:E}:{}),r.rtcId=c,r.sourceId=f,r.sourceType=h,r.resolution=m.getSettings().height,r.maxEnabledResolution=u,r._constraints=m.getConstraints(),Object.keys(r._constraints).length||v!==d.VideoType.CAMERA||(r._constraints={height:m.getSettings().height,width:m.getSettings().width}),r.deviceId=i,r._prevSetMuted=Promise.resolve(),r._facingMode=o,r._trackEnded=!1,r._hasSentData=!1,r._testDataSent=!0,r._realDeviceId=""===r.deviceId?void 0:r.deviceId,r._sourceName=null,r._trackMutedTS=0,r._onDeviceListWillChange=function(e){var t=r._realDeviceId;r._setRealDeviceIdFromDeviceList(e),(void 0===r.getTrack().readyState&&void 0!==r._realDeviceId&&!e.find((function(e){return e.deviceId===r._realDeviceId}))||void 0!==t&&void 0===r._realDeviceId)&&(r._trackEnded=!0)},r.isAudioTrack()&&g.a.isDeviceChangeAvailable("output")&&(r._onAudioOutputDeviceChanged=r.setAudioOutput.bind(_assertThisInitialized(r)),g.a.addListener(l.default.AUDIO_OUTPUT_DEVICE_CHANGED,r._onAudioOutputDeviceChanged)),g.a.addListener(l.default.DEVICE_LIST_WILL_CHANGE,r._onDeviceListWillChange),r._initNoDataFromSourceHandlers(),r}return _createClass(n,[{key:"_addStreamToConferenceAsUnmute",value:function(){var e=this;return this.conference?new Promise((function(t,n){e.conference._addLocalTrackAsUnmute(e).then(t,(function(e){return n(new Error(e))}))})):Promise.resolve()}},{key:"_fireNoDataFromSourceEvent",value:function(){var e=!this.isReceivingData();this.emit(a.NO_DATA_FROM_SOURCE,e),m.a.sendAnalytics(Object(f.G)(this.getType(),e)),m.a.sendLog(JSON.stringify({name:a.NO_DATA_FROM_SOURCE,log:e}))}},{key:"_initNoDataFromSourceHandlers",value:function(){var e=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler("track_mute",(function(){e._trackMutedTS=window.performance.now(),e._fireNoDataFromSourceEvent()})),this._setHandler("track_unmute",(function(){e._fireNoDataFromSourceEvent(),m.a.sendAnalyticsAndLog(f.s,{media_type:e.getType(),track_type:"local",value:window.performance.now()-e._trackMutedTS})})),this.isVideoTrack()&&this.videoType===d.VideoType.CAMERA&&this._setHandler("track_ended",(function(){e.isReceivingData()||e._fireNoDataFromSourceEvent()})))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==d.VideoType.DESKTOP}},{key:"_queueSetMuted",value:function(e){var t=this._setMuted.bind(this,e);return this._prevSetMuted=this._prevSetMuted.then(t,t),this._prevSetMuted}},{key:"_removeStreamFromConferenceAsMute",value:function(e,t){this.conference?this.conference._removeLocalTrackAsMute(this).then(e,(function(e){return t(new Error(e))})):e()}},{key:"_sendMuteStatus",value:function(e){this.conference&&this.conference._setTrackMuteStatus(this.getType(),this,e)&&this.conference.room.sendPresence()}},{key:"_setMuted",value:function(e){var t=this;if(this.isMuted()===e&&(this.videoType!==d.VideoType.DESKTOP||!p.a.isMultiStreamSupportEnabled()))return Promise.resolve();if(this.disposed)return Promise.reject(new i.a(o.TRACK_IS_DISPOSED));var n=Promise.resolve(),r=function(){return _.info("Mute ".concat(t,": ").concat(e))};if(this.isAudioTrack()||this.videoType===d.VideoType.DESKTOP&&!p.a.isMultiStreamSupportEnabled()||!h.a.doesVideoMuteByStreamRemove())r(),this._streamEffect&&this._streamEffect.setMuted?this._streamEffect.setMuted(e):this.track&&(this.track.enabled=!e);else if(e)n=new Promise((function(e,n){r(),t._removeStreamFromConferenceAsMute((function(){t._streamEffect&&t._stopStreamEffect(),t._unregisterHandlers(),t.stopStream(),t._setStream(null),e()}),n)}));else{r();var s={cameraDeviceId:this.getDeviceId(),devices:[c.a.VIDEO],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};n=(n=g.a.obtainAudioAndVideoPermissions(Object.assign({},s,{constraints:{video:this._constraints}}))).then((function(e){var n=t.getType()===c.a.PRESENTER?c.a.VIDEO:t.getType(),r=e.find((function(e){return e.track.kind===n}));if(!r)throw new i.a(o.TRACK_NO_STREAM_FOUND);return t._setStream(r.stream),t.track=r.track,t.videoType!==r.videoType&&(_.warn(t+": video type has changed after unmute!",t.videoType,r.videoType),t.videoType=r.videoType),t._streamEffect&&t._startStreamEffect(t._streamEffect),t.containers.map((function(e){return g.a.attachMediaStream(e,t.stream)})),t._addStreamToConferenceAsUnmute()}))}return n.then((function(){t._sendMuteStatus(e),t.isVideoTrack()&&t.conference&&t.conference._sendBridgeVideoTypeMessage(t),t.emit(a.TRACK_MUTE_CHANGED,t)}))}},{key:"_setRealDeviceIdFromDeviceList",value:function(e){var t=this,n=this.getTrack(),r=n.kind+"input",i=e.find((function(e){return e.kind===r&&e.label===n.label&&e.deviceId===t.deviceId}));if(!i&&"default"===this._realDeviceId){var o=(n.label||"").replace("Default - ","");i=e.find((function(e){return e.kind===r&&e.label===o}))}this._realDeviceId=i?i.deviceId:void 0}},{key:"_setStream",value:function(e){_get(_getPrototypeOf(n.prototype),"_setStream",this).call(this,e),e?(this.storedMSID=this.getMSID(),_.debug("Setting new MSID: ".concat(this.storedMSID," on ").concat(this))):_.debug("Setting 'null' stream on "+this)}},{key:"_startStreamEffect",value:function(e){this._streamEffect=e,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0]}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream?this.stream.getTracks()[0]:null)}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===d.VideoType.CAMERA&&"function"==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===u.a.ENVIRONMENT?u.a.USER:u.a.ENVIRONMENT)}},{key:"_switchStreamEffect",value:function(e){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),e&&this._startStreamEffect(e)}},{key:"dispose",value:function(){var e=this,t=Promise.resolve();return this._streamEffect&&(t=this.setEffect()),this.conference&&(t=t.then((function(){return e.conference.removeTrack(e)}))),this.stream&&(this.stopStream(),this.detach()),g.a.removeListener(l.default.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&g.a.removeListener(l.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),t.then((function(){return _get(_getPrototypeOf(n.prototype),"dispose",e).call(e)}))}},{key:"getCameraFacingMode",value:function(){var e,t;if(this.isVideoTrack()&&this.videoType===d.VideoType.CAMERA){var n=null===(t=(e=this.track).getSettings)||void 0===t?void 0:t.call(e);return n&&"facingMode"in n?n.facingMode:void 0!==this._facingMode?this._facingMode:u.a.USER}}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getDuration",value:function(){return Date.now()/1e3-this.metadata.timestamp/1e3}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:"ended"===this.getTrack().readyState||this._trackEnded}},{key:"isLocal",value:function(){return!0}},{key:"isMuted",value:function(){return!this.stream||!(!this.isVideoTrack()||this.isActive())||(this._streamEffect&&this._streamEffect.isMuted?this._streamEffect.isMuted():!this.track||!this.track.enabled)}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==d.VideoType.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some((function(e){return!("readyState"in e&&"live"!==e.readyState||"muted"in e&&!0===e.muted)}))}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"onByteSentStatsReceived",value:function(e,t){var n=this;t>0&&(this._hasSentData=!0);var r=e.getConnectionState();this._testDataSent&&"connected"===r&&(setTimeout((function(){n._hasSentData||(_.warn("".concat(n," 'bytes sent' <= 0:                         ").concat(t)),m.a.analytics.sendEvent(f.r,{media_type:n.getType()}))}),3e3),this._testDataSent=!1)}},{key:"setConference",value:function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])}},{key:"setEffect",value:function(e){var t=this;if(void 0===this._streamEffect&&void 0===e)return Promise.resolve();if(void 0!==e&&!e.isEnabled(this))return Promise.reject(new Error("Incompatible effect instance!"));if(!0===this._setEffectInProgress)return Promise.reject(new Error("setEffect already in progress!"));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=e,Promise.resolve();var n=this.conference;return n?(this._setEffectInProgress=!0,n.removeTrack(this).then((function(){return t._switchStreamEffect(e),t.isVideoTrack()&&t.containers.forEach((function(e){return g.a.attachMediaStream(e,t.stream)})),n.addTrack(t)})).then((function(){t._setEffectInProgress=!1})).catch((function(e){throw t._setEffectInProgress=!1,t._switchStreamEffect(),_.error("Failed to switch to the new stream!",e),e}))):(this._switchStreamEffect(e),this.isVideoTrack()&&this.containers.forEach((function(e){return g.a.attachMediaStream(e,t.stream)})),Promise.resolve())}},{key:"setSourceName",value:function(e){this._sourceName=e}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{g.a.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"toString",value:function(){return"LocalTrack[".concat(this.rtcId,",").concat(this.getType(),"]")}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}}]),n}(v.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var r=n(5),i=n(466),o=n(43),a=n.n(o),s=n(44),u=n(18),c=n(4),l=n(11),d=n(68),f=n(105),h=n(22),p=n(85),m=n(6),v=n(16),g=n(430),_=n(431),b=n(36),y=n(12),E=n(432),S=n(433),D=n(71),w=n(27),C=n(434),T=n(28),A=n(26),k=n(114),O=Object(r.getLogger)(e);function R(e,t,r,o,a,s,u){var c=this;this.audioTransferActive=!(!0===u.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=e,this.id=t,this.isP2P=s,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this._dtlsTransport=null,this.signalingLayer=r,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(d.b,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(d.a,this._peerMutedChanged),this.options=u,this.signalingLayer.on(d.c,(function(e,t){return c._sourceMutedChanged(e,t)})),this.signalingLayer.on(d.d,(function(e,t){return c._sourceVideoTypeChanged(e,t)}));var l=a||{};if(l.optional=l.optional||[],Array.isArray(l.optional)?l.optional.push({rtcStatsSFUP2P:this.isP2P}):O.warn("Optional param is not an array, rtcstats p2p data is omitted."),this.peerconnection=new A.a.RTCPeerConnectionType(o,l),this.tpcUtils=new k.d(this),this.updateLog=[],this.stats={},this.statsinterval=null,this._capScreenshareBitrate=this.options.capScreenshareBitrate,this._usesUnifiedPlan=u.usesUnifiedPlan,this._usesTransceiverCodecPreferences=m.a.supportsCodecPreferences()&&this._usesUnifiedPlan,this._usesTransceiverCodecPreferences&&O.info("Using RTCRtpTransceiver#setCodecPreferences for codec selection"),this.maxstats=u.maxstats,this.interop=new i.a,this._usesUnifiedPlan)this.simulcast=new S.a({numOfLayers:k.c.length});else{var f=n(597);this.simulcast=new f({numOfLayers:k.c.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:!1})}this.sdpConsistency=new E.a(this.toString()),this.localSdpMunger=new g.a(this,this.rtc.getLocalEndpointId()),this.eventEmitter=e.eventEmitter,this.rtxModifier=new _.a,this._senderVideoMaxHeight=2160,this._senderMaxHeights=new Map,this.trace=function(e,t){O.debug(e,t),c.updateLog.push({time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){c.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==c.onicecandidate&&c.onicecandidate(e)},this._usesUnifiedPlan?(this.onTrack=function(e){var t=e.streams[0];c._remoteTrackAdded(t,e.track,e.transceiver),t.addEventListener("removetrack",(function(e){c._remoteTrackRemoved(t,e.track)}))},this.peerconnection.addEventListener("track",this.onTrack)):(this.peerconnection.onaddstream=function(e){return c._remoteStreamAdded(e.stream)},this.peerconnection.onremovestream=function(e){return c._remoteStreamRemoved(e.stream)}),this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){c.trace("onsignalingstatechange",c.signalingState),null!==c.onsignalingstatechange&&c.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){c.trace("oniceconnectionstatechange",c.iceConnectionState),null!==c.oniceconnectionstatechange&&c.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){c.trace("onnegotiationneeded"),null!==c.onnegotiationneeded&&c.onnegotiationneeded(e)},this.onconnectionstatechange=null,this.peerconnection.onconnectionstatechange=function(e){c.trace("onconnectionstatechange",c.connectionState),null!==c.onconnectionstatechange&&c.onconnectionstatechange(e)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(e){c.trace("ondatachannel"),null!==c.ondatachannel&&c.ondatachannel(e)},this.maxstats&&(this.statsinterval=window.setInterval((function(){c.getStats().then((function(e){if("function"==typeof(null==e?void 0:e.result))for(var t=e.result(),n=function(){var e=t[r];e.names().forEach((function(t){c._processStat(e,t,e.stat(t))}))},r=0;r<t.length;++r)n();else e.forEach((function(e){return c._processStat(e,"",e)}))}))}),1e3)),O.info("Create new "+this)}R.prototype._processStat=function(e,t,n){var r="".concat(e.id,"-").concat(t),i=this.stats[r],o=new Date;i||(this.stats[r]=i={startTime:o,endTime:o,values:[],times:[]}),i.values.push(n),i.times.push(o.getTime()),i.values.length>this.maxstats&&(i.values.shift(),i.times.shift()),i.endTime=o};var M=function(e){return null==e?"":"type: ".concat(e.type,"\r\n").concat(e.sdp)};R.prototype.getConnectionState=function(){var e=this.peerconnection.iceConnectionState;return"completed"===e?"connected":e},R.prototype.getDesiredMediaDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.hasAnyTracksOfType(e);return this._usesUnifiedPlan?t?n?u.a.SENDRECV:u.a.SENDONLY:n?u.a.RECVONLY:u.a.INACTIVE:(e===c.a.AUDIO?this.audioTransferActive:this.videoTransferActive)?n?u.a.SENDRECV:u.a.RECVONLY:u.a.INACTIVE},R.prototype._getReceiversByEndpointIds=function(e,t){var n,r,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i=i.concat(this.getRemoteTracks(a,t))}}catch(u){o.e(u)}finally{o.f()}var s=i.map((function(e){var t;return null===(t=e.track)||void 0===t?void 0:t.id}));return n=this.peerconnection.getReceivers().filter((function(e){return e.track&&e.track.kind===t&&s.find((function(t){return t===e.track.id}))})),n},R.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},R.prototype._peerVideoTypeChanged=function(e,t){if(e){var n=this.getRemoteTracks(e,c.a.VIDEO);n.length&&n[0]._setVideoType(t)}else O.error(this+" No endpointID on peerVideoTypeChanged")},R.prototype._peerMutedChanged=function(e,t,n){if(e){var r=this.getRemoteTracks(e,t);r.length&&r[0].setMute(n)}else O.error(this+" On peerMuteChanged - no endpoint ID")},R.prototype._sourceMutedChanged=function(e,t){var n=this.getRemoteTracks().find((function(t){return t.getSourceName()===e}));n&&n.setMute(t)},R.prototype._sourceVideoTypeChanged=function(e,t){var n=this.getRemoteTracks().find((function(t){return t.getSourceName()===e}));n&&n._setVideoType(t)},R.prototype.getAudioLevels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=e.length?this._getReceiversByEndpointIds(e,c.a.AUDIO):this.peerconnection.getReceivers().filter((function(e){return e.track&&e.track.kind===c.a.AUDIO&&e.track.enabled}));return n.forEach((function(e){var n=e.getSynchronizationSources();n&&n.length&&(t[n[0].source]=n[0].audioLevel)})),t},R.prototype.getLocalTracks=function(e){var t=Array.from(this.localTracks.values());return void 0!==e&&(t=t.filter((function(t){return t.getType()===e}))),t},R.prototype.getLocalVideoTracks=function(){return this.getLocalTracks(c.a.VIDEO)},R.prototype.hasAnyTracksOfType=function(e){if(!e)throw new Error('"mediaType" is required');return this.getLocalTracks(e).length>0},R.prototype.getRemoteTracks=function(e,t){var n,r=[],i=e?[e]:this.remoteTracks.keys(),o=_createForOfIteratorHelper(i);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=this.remoteTracks.get(a);if(s){var u,c=_createForOfIteratorHelper(s.keys());try{for(c.s();!(u=c.n()).done;){var l=u.value;t&&t!==l||(r=r.concat(Array.from(s.get(l))))}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){o.e(d)}finally{o.f()}return r},R.prototype.getRemoteSourceInfoByParticipant=function(e){var t=[],n=this.getRemoteTracks(e);if(!(null==n?void 0:n.length))return t;var r=n.map((function(e){return e.getSSRC()})),i=new b.a(this.remoteDescription.sdp);return r.forEach((function(e,n){var r,o=_createForOfIteratorHelper(i.media);try{for(o.s();!(r=o.n()).done;){var a=r.value,s="",u=y.a.findLines(a,"a=ssrc:"+e);if(u.length){t[n]||(t[n]="");var c=y.a.findLines(a,"a=ssrc-group:FID "+e);if(c.length){var l=c[0].split(" ")[2];s+=c[0]+"\r\n",u=u.concat(y.a.findLines(a,"a=ssrc:"+l))}t[n]+=u.join("\r\n")+"\r\n",t[n]+=s}}}catch(d){o.e(d)}finally{o.f()}})),t},R.prototype.getTargetVideoBitrates=function(){var e=this.getConfiguredVideoCodec();return this.tpcUtils.videoBitrates[e.toUpperCase()]||this.tpcUtils.videoBitrates},R.prototype.getTrackBySSRC=function(e){if("number"!=typeof e)throw new Error("SSRC ".concat(e," is not a number"));var t,n=_createForOfIteratorHelper(this.localTracks.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.getLocalSSRC(r)===e)return r}}catch(s){n.e(s)}finally{n.f()}var i,o=_createForOfIteratorHelper(this.getRemoteTracks());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.getSSRC()===e)return a}}catch(s){o.e(s)}finally{o.f()}return null},R.prototype.getSsrcByTrackId=function(e){var t=function(t){return t.getTrack().id===e},n=this.getLocalTracks().find(t);if(n)return this.getLocalSSRC(n);var r=this.getRemoteTracks().find(t);return r?r.getSSRC():null},R.prototype._remoteStreamAdded=function(e){var t=this,n=T.a.getStreamID(e);if(T.a.isUserStreamById(n)){m.a.isChromiumBased()&&(e.onaddtrack=function(n){t._remoteTrackAdded(e,n.track)},e.onremovetrack=function(n){t._remoteTrackRemoved(e,n.track)});var r,i=e.getAudioTracks(),o=_createForOfIteratorHelper(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;this._remoteTrackAdded(e,a)}}catch(d){o.e(d)}finally{o.f()}var s,u=e.getVideoTracks(),c=_createForOfIteratorHelper(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;this._remoteTrackAdded(e,l)}}catch(d){c.e(d)}finally{c.f()}}else O.info("".concat(this," ignored remote 'stream added' event for non-user stream[id=").concat(n,"]"))},R.prototype._remoteTrackAdded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=T.a.getStreamID(e),i=t.kind;if(this.isP2P||T.a.isUserStreamById(r))if(O.info("".concat(this," adding remote track for stream[id=").concat(r,",type=").concat(i,"]")),i){var o,a=this._usesUnifiedPlan?new b.a(this.peerconnection.remoteDescription.sdp):new b.a(this.remoteDescription.sdp);if(this._usesUnifiedPlan)if(n&&n.mid){var s=n.mid;o=a.media.filter((function(e){return y.a.findLine(e,"a=mid:"+s)}))}else o=a.media.filter((function(e){var t=y.a.findLine(e,"a=msid:");return void 0!==t&&r===t.substring(7).split(" ")[0]}));else o=a.media.filter((function(e){return e.startsWith("m="+i)}));if(o.length){var u=y.a.findLines(o[0],"a=ssrc:");if(u=u.filter((function(e){return-1!==e.indexOf("msid:"+r)})),u.length){var c=u[0].substring(7).split(" ")[0],l=Number(c),d=this.signalingLayer.getSSRCOwner(l);if(isNaN(l)||l<0)w.callErrorHandler(new Error("Invalid SSRC for remote stream[ssrc=".concat(l,",id=").concat(r,",type=").concat(i,"]")));else if(d){var h;v.a.isSourceNameSignalingEnabled()&&((h=this.signalingLayer.getTrackSourceName(l))||(h=Object(f.c)(d,i,0))),O.info("".concat(this," creating remote track[endpoint=").concat(d,",ssrc=").concat(l,",type=").concat(i,",sourceName=").concat(h,"]"));var p=this.signalingLayer.getPeerMediaInfo(d,i,h);if(p){var m=p.muted,g=p.videoType;this._createRemoteTrack(d,e,t,i,g,l,m,h)}else w.callErrorHandler(new Error("".concat(this,": no peer media info available for ").concat(d)))}else w.callErrorHandler(new Error("No SSRC owner known for remote stream[ssrc=".concat(l,",id=").concat(r,",type=").concat(i,"]")))}else w.callErrorHandler(new Error("No SSRC lines found in remote SDP for remote stream[msid=".concat(r,",type=").concat(i,"]")))}else w.callErrorHandler(new Error("No media lines found in remote SDP for remote stream[id=".concat(r,",type=").concat(i,"]")))}else w.callErrorHandler(new Error("MediaType undefined for remote track, stream id: "+r));else O.info("".concat(this," ignored remote 'stream added' event for non-user stream[id=").concat(r,"]"))},R.prototype._createRemoteTrack=function(e,t,n,r,i,o,a,s){var u=this.remoteTracks.get(e);u||((u=new Map).set(c.a.AUDIO,new Set),u.set(c.a.VIDEO,new Set),this.remoteTracks.set(e,u));var d=u.get(r);if((null==d?void 0:d.size)&&Array.from(d).find((function(e){return e.getTrack()===n})))O.info("".concat(this," ignored duplicated track event for track[endpoint=").concat(e,",type=").concat(r,"]"));else{if((null==d?void 0:d.size)&&!v.a.isSourceNameSignalingEnabled()){O.error("".concat(this," received a second remote track for track[endpoint=").concat(e,",type=").concat(r,"]deleting the existing track"));var f=Array.from(d)[0];this._remoteTrackRemoved(f.getOriginalStream(),f.getTrack())}var h=new C.a(this.rtc,this.rtc.conference,e,t,n,r,i,o,a,this.isP2P,s);d.add(h),this.eventEmitter.emit(l.default.REMOTE_TRACK_ADDED,h,this)}},R.prototype._remoteStreamRemoved=function(e){if(T.a.isUserStream(e)){var t,n=e.getVideoTracks(),r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._remoteTrackRemoved(e,i)}}catch(l){r.e(l)}finally{r.f()}var o,a=e.getAudioTracks(),s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._remoteTrackRemoved(e,u)}}catch(l){s.e(l)}finally{s.f()}}else{var c=T.a.getStreamID(e);O.info("Ignored remote 'stream removed' event for stream[id=".concat(c,"]"))}},R.prototype._remoteTrackRemoved=function(e,t){var n=T.a.getStreamID(e),r=t&&T.a.getTrackID(t);if(T.a.isUserStreamById(n))if(n)if(r){var i=this.getRemoteTracks().find((function(e){return e.getStreamId()===n&&e.getTrackId()===r}));i?(O.info("".concat(this," remote track removed stream[id=").concat(n,",trackId=").concat(r,"]")),this._removeRemoteTrack(i)):w.callErrorHandler(new Error(this+" remote track removal failed - track not found"))}else w.callErrorHandler(new Error(this+" remote track removal failed - no track ID"));else w.callErrorHandler(new Error(this+" remote track removal failed - no stream ID"));else O.info("".concat(this," ignored remote 'stream removed' event for non-user stream[id=").concat(n,"]"))},R.prototype.removeRemoteTracks=function(e){var t=[],n=this.remoteTracks.get(e);return n&&(t=(t=t.concat(Array.from(n.get(c.a.AUDIO)))).concat(Array.from(n.get(c.a.VIDEO))),this.remoteTracks.delete(e)),O.debug("".concat(this," removed remote tracks[endpoint=").concat(e,",count=").concat(t.length)),t},R.prototype._removeRemoteTrack=function(e){var t;e.dispose();var n=e.getParticipantId(),r=this.remoteTracks.get(n);r?(null===(t=r.get(e.getType()))||void 0===t?void 0:t.delete(e))||O.error("".concat(this," Failed to remove ").concat(e," - type mapping messed up ?")):O.error("".concat(this," removeRemoteTrack: no remote tracks map for endpoint=").concat(n)),this.eventEmitter.emit(l.default.REMOTE_TRACK_REMOVED,e)},R.prototype._extractSSRCMap=function(e){var t=new Map,n=new Map;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return O.warn("An empty description was passed as an argument"),t;var r=a.a.parse(e.sdp);if(!Array.isArray(r.media))return t;var i=r.media;this._usesUnifiedPlan&&(i=[],[c.a.AUDIO,c.a.VIDEO].forEach((function(e){var t=r.media.find((function(t){return t.type===e}));t&&i.push(t)})));var o,s=_createForOfIteratorHelper(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(Array.isArray(u.ssrcs)){if(Array.isArray(u.ssrcGroups)){var l,d=_createForOfIteratorHelper(u.ssrcGroups);try{for(d.s();!(l=d.n()).done;){var f=l.value;if(void 0!==f.semantics&&void 0!==f.ssrcs){var h=f.ssrcs.split(" ").map((function(e){return parseInt(e,10)})),p=h[0];f.ssrcs=h,n.has(p)||n.set(p,[]),n.get(p).push(f)}}}catch(T){d.e(T)}finally{d.f()}}var m=u.ssrcs;m=this._usesUnifiedPlan?m.filter((function(e){return"cname"===e.attribute})):m.filter((function(e){return"msid"===e.attribute}));var v,g=_createForOfIteratorHelper(m);try{for(g.s();!(v=g.n()).done;){var _=v.value,b=this._usesUnifiedPlan?u.type:_.value,y=_.id,E=t.get(b);if(E||(E={ssrcs:[],groups:[],msid:b},t.set(b,E)),E.ssrcs.push(y),n.has(y)){var S,D=n.get(y),w=_createForOfIteratorHelper(D);try{for(w.s();!(S=w.n()).done;){var C=S.value;E.groups.push(C)}}catch(T){w.e(T)}finally{w.f()}}}}catch(T){g.e(T)}finally{g.f()}}}}catch(T){s.e(T)}finally{s.f()}return t},R.prototype.getLocalSSRC=function(e){var t=this._getSSRC(e.rtcId);return t&&t.ssrcs[0]},R.prototype._injectSsrcGroupForUnifiedSimulcast=function(e){var t=a.a.parse(e.sdp),n=t.media.find((function(e){return"video"===e.type}));n.ssrcGroups=n.ssrcGroups||[];var r=n.ssrcGroups.filter((function(e){return"FID"===e.semantics}));if(n.simulcast||n.simulcast_03){var i=[];if(r&&r.length?r.forEach((function(e){i.push(e.ssrcs.split(" ")[0])})):n.ssrcs.forEach((function(e){"msid"===e.attribute&&i.push(e.id)})),n.ssrcGroups.find((function(e){return"SIM"===e.semantics})))return e;n.ssrcGroups.push({semantics:"SIM",ssrcs:i.join(" ")})}return new RTCSessionDescription({type:e.type,sdp:a.a.write(t)})};var I={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},connectionState:function(){return this.peerconnection.connectionState},localDescription:function(){var e=this.peerconnection.localDescription;return e?(this.trace("getLocalDescription::preTransform",M(e)),this._usesUnifiedPlan&&!this.isP2P?(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",M(e)),e=this._injectSsrcGroupForUnifiedSimulcast(e),this.trace("getLocalDescription::postTransform (inject ssrc group)",M(e))):this._usesUnifiedPlan||(m.a.doesVideoMuteByStreamRemove()&&(e=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e),O.debug("getLocalDescription::postTransform (munge local SDP)",e)),e=function(e,t){var n,r;if(!e)throw new Error("No local description passed in.");var i=new D.a(e.sdp),o=null===(n=i.selectMedia(c.a.AUDIO))||void 0===n?void 0:n[0],a=!1;o&&o.direction!==u.a.SENDRECV&&(t.startSilent?o.direction=u.a.INACTIVE:o.direction=u.a.SENDRECV,a=!0);var s=null===(r=i.selectMedia(c.a.VIDEO))||void 0===r?void 0:r[0];return s&&s.direction!==u.a.SENDRECV&&(s.direction=u.a.SENDRECV,a=!0),a?new RTCSessionDescription({type:e.type,sdp:i.toRawSDP()}):e}(e,this.options)),e=this.localSdpMunger.transformStreamIdentifiers(e)):(O.debug(this+" getLocalDescription no localDescription found"),{})},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return e?(this.trace("getRemoteDescription::preTransform",M(e)),this._usesUnifiedPlan&&(this.isP2P?e=this._adjustRemoteMediaDirection(e):(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",M(e)))),e):(O.debug(this+" getRemoteDescription no remoteDescription found"),{})}};Object.keys(I).forEach((function(e){Object.defineProperty(R.prototype,e,{get:I[e]})})),R.prototype._getSSRC=function(e){return this.localSSRCs.get(e)},R.prototype.isSharingLowFpsScreen=function(){return this._isSharingScreen()&&this._capScreenshareBitrate},R.prototype._isSharingScreen=function(){var e=this.getLocalVideoTracks();return Boolean(e.find((function(e){return e.videoType===h.VideoType.DESKTOP})))},R.prototype._mungeCodecOrder=function(e){var t=this;if(!this.codecPreference)return e;var n=a.a.parse(e.sdp),r=n.media.find((function(e){return e.type===t.codecPreference.mediaType}));if(!r)return e;if(this.codecPreference.enable)if(y.a.preferCodec(r,this.codecPreference.mimeType),this.codecPreference.mimeType===s.H264&&m.a.isReactNative()&&this.isP2P&&y.a.stripCodec(r,this.codecPreference.mimeType,!0),this.codecPreference.mimeType===s.VP9&&this.getConfiguredVideoCodec()===s.VP9){var i=this.tpcUtils.videoBitrates.VP9||this.tpcUtils.videoBitrates,o=i.high?i.high:k.a,u=Math.floor((this._isSharingScreen()?k.a:o)/1e3);r.bandwidth=[{type:"AS",limit:u}]}else r.bandwidth=void 0;else y.a.stripCodec(r,this.codecPreference.mimeType);return new RTCSessionDescription({type:e.type,sdp:a.a.write(n)})},R.prototype.addTrack=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.rtcId;if(O.info("".concat(this," adding ").concat(e)),this.localTracks.has(r))return Promise.reject(new Error("".concat(e," is already in ").concat(this)));this.localTracks.set(r,e);var i=e.getOriginalStream();if(this._usesUnifiedPlan){O.debug(this+" TPC.addTrack using unified plan");try{this.tpcUtils.addTrack(e,n)}catch(n){return O.error("".concat(this," Adding track=").concat(e," failed: ").concat(null==n?void 0:n.message)),Promise.reject(n)}}else{if(i)this._addStream(i);else if(!m.a.doesVideoMuteByStreamRemove()||e.isAudioTrack()||e.isVideoTrack()&&!e.isMuted())return Promise.reject(new Error("".concat(this," no WebRTC stream for track=").concat(e)));if(m.a.doesVideoMuteByStreamRemove()&&e.isVideoTrack()&&e.isMuted()){var o=this.generateNewStreamSSRCInfo(e);this.sdpConsistency.setPrimarySsrc(o.ssrcs[0]);var a=o.groups.find((function(e){return"SIM"===e.semantics}));a&&this.simulcast.setSsrcCache(a.ssrcs);var s=o.groups.filter((function(e){return"FID"===e.semantics}));if(s){var u=new Map;s.forEach((function(e){var t=e.ssrcs[0],n=e.ssrcs[1];u.set(t,n)})),this.rtxModifier.setSsrcCache(u)}}}var c=Promise.resolve();return m.a.isFirefox()&&(c=c.then((function(){return i&&t.tpcUtils.setEncodings(e)}))),c},R.prototype.addTrackUnmute=function(e){if(O.info("".concat(this," Adding track=").concat(e," as unmute")),!this._assertTrackBelongs("addTrackUnmute",e))return Promise.reject("Track not found on the peerconnection");var t=e.getOriginalStream();return t?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(null,e).then((function(){return!1})):(this._addStream(t),Promise.resolve(!0)):(O.error("".concat(this," Unable to add track=").concat(e," as unmute - no WebRTC stream")),Promise.reject("Stream not found"))},R.prototype._addStream=function(e){this.peerconnection.addStream(e),this._addedStreams.push(e)},R.prototype._removeStream=function(e){this.peerconnection.removeStream(e),this._addedStreams=this._addedStreams.filter((function(t){return t!==e}))},R.prototype._assertTrackBelongs=function(e,t){var n=this.localTracks.has(null==t?void 0:t.rtcId);return n||O.error("".concat(this," ").concat(e,": track=").concat(t," does not belong to pc")),n},R.prototype.getConfiguredVideoCodec=function(){var e,t=null===(e=this.peerconnection.localDescription)||void 0===e?void 0:e.sdp,n=s.VP8;if(!t)return n;var r=a.a.parse(t).media.find((function(e){return e.type===c.a.VIDEO})).rtp[0].codec;return r?Object.values(s).find((function(e){return e===r.toLowerCase()})):n},R.prototype.setDesktopSharingFrameRate=function(e){var t=e<=p.a;this._capScreenshareBitrate=this.isSimulcastOn()&&t},R.prototype.setVideoCodecs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t,r=t||e;this.codecPreference&&(e||t)?(this.codecPreference.enable=n,this.codecPreference.mimeType=r):e||t?this.codecPreference={enable:n,mediaType:c.a.VIDEO,mimeType:r}:O.warn("".concat(this," Invalid codec settings[preferred=").concat(e,",disabled=").concat(t,"],\n            atleast one value is needed"))},R.prototype.isMediaStreamInPc=function(e){return this._addedStreams.indexOf(e)>-1},R.prototype.removeTrack=function(e){var t=e.getOriginalStream();this.trace("removeStream",e.rtcId,t?t.id:void 0),this._assertTrackBelongs("removeStream",e)&&(this.localTracks.delete(e.rtcId),this.localSSRCs.delete(e.rtcId),t&&this.peerconnection.removeStream(t))},R.prototype.findSenderByKind=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find((function(t){return t.track&&t.track.kind===e}))},R.prototype.findReceiverForTrack=function(e){return this.peerconnection.getReceivers().find((function(t){return t.track===e}))},R.prototype.findSenderForTrack=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find((function(t){return t.track===e}))},R.prototype.replaceTrack=function(e,t){var n,r=this;if(!e&&!t)return O.info(this+" replaceTrack called with no new track and no old track"),Promise.resolve();var i=!(!e&&(null==t?void 0:t.getVideoType())===h.VideoType.DESKTOP&&v.a.isMultiStreamSupportEnabled()&&!this.isP2P)&&Boolean(!e||!this.localTracks.has(null==e?void 0:e.rtcId));if(this._usesUnifiedPlan){O.debug(this+" TPC.replaceTrack using unified plan");var o=null!==(n=null==t?void 0:t.getType())&&void 0!==n?n:null==e?void 0:e.getType(),a=null==t?void 0:t.getOriginalStream();return(t&&!a?Promise.resolve():this.tpcUtils.replaceTrack(e,t)).then((function(n){if(e&&r.localTracks.delete(e.rtcId),t&&r.localTracks.set(t.rtcId,t),e&&t){var a=r.localSSRCs.get(e.rtcId);a&&(r.localSSRCs.delete(e.rtcId),r.localSSRCs.set(t.rtcId,a))}var s=o===c.a.AUDIO?r.audioTransferActive:r.videoTransferActive;return n&&s?n.direction=t?u.a.SENDRECV:u.a.RECVONLY:n&&(n.direction=u.a.INACTIVE),(m.a.usesSdpMungingForSimulcast()||!t?Promise.resolve():r.tpcUtils.setEncodings(t)).then((function(){return i}))}))}O.debug(this+" TPC.replaceTrack using plan B");var s=Promise.resolve();return e&&this.removeTrack(e),t&&(s=this.addTrack(t)),s.then((function(){return!0}))},R.prototype.removeTrackMute=function(e){var t=e.getOriginalStream();return this.trace("removeTrackMute",e.rtcId,t?t.id:null),this._assertTrackBelongs("removeTrackMute",e)?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(e,null).then((function(){return!1})):t?(O.info("".concat(this," Removing track=").concat(e," as mute")),this._removeStream(t),Promise.resolve(!0)):(O.error("".concat(this," removeTrackMute - no WebRTC stream for track=").concat(e)),Promise.reject("Stream not found")):Promise.reject("Track not found in the peerconnection")},R.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},R.prototype._ensureSimulcastGroupIsLast=function(e){var t=e.sdp,n=t.indexOf("m=video"),r=t.indexOf("a=ssrc-group:SIM",n),i=t.lastIndexOf("a=ssrc-group");if(-1===r||-1===i||i===r)return e;var o=t.indexOf("\r\n",r),a=t.substring(r,o+2);i=(t=t.replace(a,"")).lastIndexOf("a=ssrc-group");var s=t.indexOf("\r\n",i),u=t.slice(0,s),c=a.trim(),l=t.slice(s);return t="".concat(u,"\r\n").concat(c).concat(l),new RTCSessionDescription({type:e.type,sdp:t})},R.prototype._adjustLocalMediaDirection=function(e){var t,n,r=new D.a(e.sdp),i=!1,o=null===(t=r.selectMedia(c.a.AUDIO))||void 0===t?void 0:t[0];if(o){var a=this.getDesiredMediaDirection(c.a.AUDIO);o.direction!==a&&(o.direction=a,O.info("".concat(this," Adjusted local audio direction to ").concat(a)),i=!0)}else O.warn(this+' No "audio" media found in the local description');var s=null===(n=r.selectMedia(c.a.VIDEO))||void 0===n?void 0:n[0];if(s){var u=this.getDesiredMediaDirection(c.a.VIDEO);s.direction!==u&&(s.direction=u,O.info("".concat(this," Adjusted local video direction to ").concat(u)),i=!0)}else O.warn(this+' No "video" media found in the local description');return i?new RTCSessionDescription({type:e.type,sdp:r.toRawSDP()}):e},R.prototype._adjustRemoteMediaDirection=function(e){var t=this,n=new D.a(e.sdp);return[c.a.AUDIO,c.a.VIDEO].forEach((function(e){var r,i=null===(r=n.selectMedia(e))||void 0===r?void 0:r[0],o=t.hasAnyTracksOfType(e),a=t.getRemoteTracks(null,e).length>0;i.direction=o&&a?u.a.SENDRECV:o?u.a.RECVONLY:a?u.a.SENDONLY:u.a.INACTIVE})),new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})},R.prototype._mungeOpus=function(e){var t=this.options.audioQuality;if(!(null==t?void 0:t.stereo)&&!(null==t?void 0:t.opusMaxAverageBitrate))return e;var n,r=a.a.parse(e.sdp),i=r.media,o=_createForOfIteratorHelper(i);try{var u=function(){var e=n.value;if("audio"===e.type){var r=e.rtp.find((function(e){return e.codec===s.OPUS})).payload;if(!r)return 0;var i=e.fmtp.find((function(e){return e.payload===r}));i||(i={payload:r,config:""});var o=a.a.parseParams(i.config),u=!1;if((null==t?void 0:t.stereo)&&(o.stereo=1,u=!0),(null==t?void 0:t.opusMaxAverageBitrate)&&(o.maxaveragebitrate=t.opusMaxAverageBitrate,u=!0),!u)return 0;for(var c="",l=0,d=Object.keys(o);l<d.length;l++){var f=d[l];c+="".concat(f,"=").concat(o[f],"; ")}i.config=c.trim()}};for(o.s();!(n=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}return new RTCSessionDescription({type:e.type,sdp:a.a.write(r)})},R.prototype._initializeDtlsTransport=function(){var e=this;if(this.peerconnection.getSenders&&!this._dtlsTransport){var t=this.peerconnection.getSenders();0!==t.length&&t[0].transport&&(this._dtlsTransport=t[0].transport,this._dtlsTransport.onerror=function(t){O.error("".concat(e," DtlsTransport error: ").concat(t))},this._dtlsTransport.onstatechange=function(){e.trace("dtlsTransport.onstatechange",e._dtlsTransport.state)})}},R.prototype.configureSenderVideoEncodings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(v.a.isSourceNameSignalingEnabled()){if(e)return this.setSenderVideoConstraints(this._senderMaxHeights.get(e.getSourceName()),e);var t,n=[],r=_createForOfIteratorHelper(this.getLocalVideoTracks());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(this.setSenderVideoConstraints(this._senderMaxHeights.get(i.getSourceName()),i))}}catch(a){r.e(a)}finally{r.f()}return Promise.allSettled(n)}var o=e;return o||(o=this.getLocalVideoTracks()[0]),this.setSenderVideoConstraints(this._senderVideoMaxHeight,o)},R.prototype.setLocalDescription=function(e){var t=this,n=e;return this.trace("setLocalDescription::preTransform",M(n)),n=this._mungeOpus(n),this._usesUnifiedPlan||(n=this._adjustLocalMediaDirection(n),n=this._ensureSimulcastGroupIsLast(n)),this._usesTransceiverCodecPreferences||(n=this._mungeCodecOrder(n)),this.trace("setLocalDescription::postTransform",M(n)),new Promise((function(e,r){t.peerconnection.setLocalDescription(n).then((function(){t.trace("setLocalDescriptionOnSuccess");var r=y.a.getUfrag(n.sdp);r!==t.localUfrag&&(t.localUfrag=r,t.eventEmitter.emit(l.default.LOCAL_UFRAG_CHANGED,t,r)),t._initializeDtlsTransport(),e()}),(function(e){t.trace("setLocalDescriptionOnFailure",e),t.eventEmitter.emit(l.default.SET_LOCAL_DESCRIPTION_FAILED,e,t),r(e)}))}))},R.prototype.setAudioTransferActive=function(e){O.debug("".concat(this," audio transfer active: ").concat(e));var t=this.audioTransferActive!==e;return this.audioTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setAudioTransferActive(e),!1):t},R.prototype.setRemoteDescription=function(e){var t=this,r=e;if(this.trace("setRemoteDescription::preTransform",M(e)),r=this._mungeOpus(r),this._usesUnifiedPlan){if(!this.isP2P){var i=this.peerconnection.remoteDescription;r=this.interop.toUnifiedPlan(r,i),this.trace("setRemoteDescription::postTransform (Unified)",M(r))}this.isSimulcastOn()&&(r=this.simulcast.mungeRemoteDescription(r),this.trace("setRemoteDescription::postTransform (simulcast)",M(r)),r=this.tpcUtils.insertUnifiedPlanSimulcastReceive(r),this.trace("setRemoteDescription::postTransform (sim receive)",M(r))),r=this.tpcUtils.ensureCorrectOrderOfSsrcs(r),this.trace("setRemoteDescription::postTransform (correct ssrc order)",M(r))}else this.isSimulcastOn()&&(r=this.simulcast.mungeRemoteDescription(r,!0),this.trace("setRemoteDescription::postTransform (simulcast)",M(r))),r=function(e){if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return O.warn("An empty description was passed as an argument"),e;var t=n(43),r=t.parse(e.sdp);void 0!==r&&void 0!==r.media&&Array.isArray(r.media)&&r.media.forEach((function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){void 0!==e.semantics&&"FID"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]))})),Array.isArray(e.ssrcs)){var r;for(r=0;r<e.ssrcs.length;r++)"object"==typeof e.ssrcs[r]&&void 0!==e.ssrcs[r].id&&t.indexOf(e.ssrcs[r].id)>=0&&(n.push(e.ssrcs[r]),delete e.ssrcs[r]);for(r=0;r<e.ssrcs.length;r++)void 0!==e.ssrcs[r]&&n.push(e.ssrcs[r]);e.ssrcs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!m.a.isChrome()||!m.a.isVersionGreaterThan(70))return e;var t=_toConsumableArray(e);return e.filter((function(e){return"mslabel"===e.attribute&&"-"===e.value})).map((function(e){return e.id})).forEach((function(e){var n=t.find((function(t){return t.id===e&&"cname"===t.attribute}));n.value="".concat(u.a.RECVONLY,"-").concat(e),(t=t.filter((function(t){return t.id!==e}))).push(n)})),t}(n)}}));var i=t.write(r);return new RTCSessionDescription({type:e.type,sdp:i})}(r);return r=this._mungeCodecOrder(r),this.trace("setRemoteDescription::postTransform (munge codec order)",M(r)),new Promise((function(e,n){t.peerconnection.setRemoteDescription(r).then((function(){t.trace("setRemoteDescriptionOnSuccess");var n=y.a.getUfrag(r.sdp);n!==t.remoteUfrag&&(t.remoteUfrag=n,t.eventEmitter.emit(l.default.REMOTE_UFRAG_CHANGED,t,n)),t._initializeDtlsTransport(),e()}),(function(e){t.trace("setRemoteDescriptionOnFailure",e),t.eventEmitter.emit(l.default.SET_REMOTE_DESCRIPTION_FAILED,e,t),n(e)}))}))},R.prototype.setSenderVideoConstraints=function(e,t){var n,r,i,o,a,u,c,d,f=this;if(e<0)throw new Error("Invalid frameHeight: "+e);if(m.a.isReactNative())return Promise.resolve();if(v.a.isSourceNameSignalingEnabled()?this._senderMaxHeights.set(t.getSourceName(),e):this._senderVideoMaxHeight=e,!t||t.isMuted())return Promise.resolve();var p=this.findSenderForTrack(t.getTrack());if(!p)return Promise.resolve();var g=p.getParameters();if(!(null===(n=null==g?void 0:g.encodings)||void 0===n?void 0:n.length))return Promise.resolve();var _=this.isSharingLowFpsScreen()?"maintain-resolution":"maintain-framerate";g.degradationPreference=_,O.info("".concat(this," Setting degradation preference [preference=").concat(_,",track=").concat(t)),this.encodingsEnabledState=this.tpcUtils.calculateEncodingsActiveState(t,e);var b=this.tpcUtils.calculateEncodingsBitrates(t),y=t.getVideoType();if(this.isSimulcastOn()){for(var E in g.encodings)g.encodings.hasOwnProperty(E)&&(g.encodings[E].active=this.encodingsEnabledState[E],m.a.isFirefox()&&(g.encodings[E].degradationPreference=_),this.getConfiguredVideoCodec()===s.VP8&&((null===(i=null===(r=this.options)||void 0===r?void 0:r.videoQuality)||void 0===i?void 0:i.maxBitratesVideo)||this.isSharingLowFpsScreen()||this._usesUnifiedPlan)&&(g.encodings[E].maxBitrate=b[E]));this.tpcUtils.updateEncodingsResolution(g)}else if(e>0){var S=k.b;if(y===h.VideoType.CAMERA&&t.resolution>e&&(S=Math.floor(t.resolution/e)),g.encodings[0].active=!0,g.encodings[0].scaleResolutionDownBy=S,m.a.isFirefox()&&(g.encodings[0].degradationPreference=_),this.getConfiguredVideoCodec()===s.VP8&&(null===(a=null===(o=this.options)||void 0===o?void 0:o.videoQuality)||void 0===a?void 0:a.maxBitratesVideo)){var D=null===(u=this.getTargetVideoBitrates())||void 0===u?void 0:u.high;y===h.VideoType.CAMERA&&(D=null!==(d=null===(c=this.tpcUtils.localStreamEncodingsConfig.find((function(e){return e.scaleResolutionDownBy===S})))||void 0===c?void 0:c.maxBitrate)&&void 0!==d?d:D),g.encodings[0].maxBitrate=D}}else g.encodings[0].active=!1;return O.info("".concat(this," setting max height=").concat(e,",encodings=").concat(JSON.stringify(g.encodings))),p.setParameters(g).then((function(){t.maxEnabledResolution=e,f.eventEmitter.emit(l.default.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,t)}))},R.prototype.setVideoTransferActive=function(e){O.debug("".concat(this," video transfer active: ").concat(e));var t=this.videoTransferActive!==e;return this.videoTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setVideoTransferActive(e),!1):t},R.prototype.sendTones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var r=this.peerconnection.getSenders().find((function(e){return e.dtmf}));this._dtmfSender=r&&r.dtmf,this._dtmfSender&&O.info(this+" initialized DTMFSender using getSenders")}if(!this._dtmfSender){var i=Array.from(this.localTracks.values()).find((function(e){return e.isAudioTrack()}));this.peerconnection.createDTMFSender&&i&&(this._dtmfSender=this.peerconnection.createDTMFSender(i.getTrack())),this._dtmfSender&&O.info(this+" initialized DTMFSender using deprecated createDTMFSender")}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:e,duration:t,interToneGap:n});this._dtmfSender.insertDTMF(e,t,n)}else O.warn(this+" sendTones - failed to select DTMFSender")},R.prototype._onToneChange=function(e){if(this._dtmfSender&&""===e.tone&&this._dtmfTonesQueue.length){var t=this._dtmfTonesQueue.shift(),n=t.tones,r=t.duration,i=t.interToneGap;this._dtmfSender.insertDTMF(n,r,i)}},R.prototype.generateRecvonlySsrc=function(){var e=y.a.generateSsrc();O.info("".concat(this," generated new recvonly SSRC=").concat(e)),this.sdpConsistency.setPrimarySsrc(e)},R.prototype.clearRecvonlySsrc=function(){O.info(this+" Clearing primary video SSRC!"),this.sdpConsistency.clearVideoSsrcCache()},R.prototype.close=function(){this.trace("stop"),this.signalingLayer.off(d.a,this._peerMutedChanged),this.signalingLayer.off(d.b,this._peerVideoTypeChanged),this._usesUnifiedPlan&&this.peerconnection.removeEventListener("track",this.onTrack);var e,t=_createForOfIteratorHelper(this.remoteTracks.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=_createForOfIteratorHelper(r.values());try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._removeRemoteTrack(u)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||O.error(this+" RTC._removePeerConnection returned false"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),O.info(this+" Closing peerconnection"),this.peerconnection.close()},R.prototype.createAnswer=function(e){return this._createOfferOrAnswer(!1,e)},R.prototype.createOffer=function(e){return this._createOfferOrAnswer(!0,e)},R.prototype._createOfferOrAnswer=function(e,t){var n,r,i,o=this,a=e?"Offer":"Answer";this.trace("create"+a,JSON.stringify(t,null," "));var u=function(t,n){o.trace("create".concat(a,"OnFailure"),t);var r=e?l.default.CREATE_OFFER_FAILED:l.default.CREATE_ANSWER_FAILED;o.eventEmitter.emit(r,t,o),n(t)};if(this._usesTransceiverCodecPreferences){var d=this.peerconnection.getTransceivers().find((function(e){var t,n;return e.receiver&&(null===(n=null===(t=e.receiver)||void 0===t?void 0:t.track)||void 0===n?void 0:n.kind)===c.a.VIDEO}));if(d){var f=null===(n=RTCRtpReceiver.getCapabilities(c.a.VIDEO))||void 0===n?void 0:n.codecs,p=null===(r=this.codecPreference)||void 0===r?void 0:r.mimeType,v=null===(i=this.codecPreference)||void 0===i?void 0:i.enable;f&&p&&v?f.sort((function(e){return e.mimeType.toLowerCase()==="".concat(c.a.VIDEO,"/").concat(p)?-1:1})):f&&p&&(f=f.filter((function(e){return e.mimeType.toLowerCase()!=="".concat(c.a.VIDEO,"/").concat(p)}))),m.a.isChromiumBased()&&(f=f.filter((function(e){return e.mimeType.toLowerCase()!=="".concat(c.a.VIDEO,"/").concat(s.ULPFEC)})));try{d.setCodecPreferences(f)}catch(e){O.warn("".concat(this," Setting codec[preference=").concat(p,",enable=").concat(v,"] failed"),e)}}}return new Promise((function(n,r){(e?o.peerconnection.createOffer(t):o.peerconnection.createAnswer(t)).then((function(e){return function(e,t,n){try{o.trace("create".concat(a,"OnSuccess::preTransform"),M(e)),o._usesUnifiedPlan||(o.hasAnyTracksOfType(c.a.VIDEO)||o.sdpConsistency.hasPrimarySsrcCached()||o.generateRecvonlySsrc(),e=new RTCSessionDescription({type:e.type,sdp:o.sdpConsistency.makeVideoPrimarySsrcsConsistent(e.sdp)}),o.trace("create".concat(a,"OnSuccess::postTransform (make primary audio/video ssrcs consistent)"),M(e)));var r=o.getLocalVideoTracks()[0];o.isSimulcastOn()&&m.a.usesSdpMungingForSimulcast()&&((null==r?void 0:r.getVideoType())===h.VideoType.CAMERA||o._usesUnifiedPlan||!o.isSharingLowFpsScreen())&&(e=o.simulcast.mungeLocalDescription(e),o.trace("create".concat(a," OnSuccess::postTransform (simulcast)"),M(e))),!o.options.disableRtx&&m.a.usesSdpMungingForSimulcast()&&(e=new RTCSessionDescription({type:e.type,sdp:o.rtxModifier.modifyRtxSsrcs(e.sdp)}),o.trace("create"+a+"OnSuccess::postTransform (rtx modifier)",M(e)));var i=o._extractSSRCMap(e);o._processLocalSSRCsMap(i),t(e)}catch(t){o.trace("create".concat(a,"OnError"),t),o.trace("create".concat(a,"OnError"),M(e)),O.error("".concat(o," create").concat(a,"OnError"),t,M(e)),n(t)}}(e,n,r)}),(function(e){return u(e,r)}))}))},R.prototype._extractPrimarySSRC=function(e){return e&&e.groups&&e.groups.length?e.groups[0].ssrcs[0]:e&&e.ssrcs&&e.ssrcs.length?e.ssrcs[0]:null},R.prototype._processLocalSSRCsMap=function(e){var t,n=_createForOfIteratorHelper(this.localTracks.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this._usesUnifiedPlan?r.getType():r.storedMSID;if(e.has(i)){var o=e.get(i);if(!o)return void O.error("".concat(this," No SSRC found for stream=").concat(i));var a=this.localSSRCs.get(r.rtcId),s=this._extractPrimarySSRC(o),u=this._extractPrimarySSRC(a);s!==u&&(u&&O.error("".concat(this," Overwriting SSRC for track=").concat(r,"] with ssrc=").concat(o)),this.localSSRCs.set(r.rtcId,o),this.eventEmitter.emit(l.default.LOCAL_TRACK_SSRC_UPDATED,r,s))}else r.isVideoTrack()||r.isMuted()||O.warn("".concat(this," No SSRCs found in the local SDP for track=").concat(r,", stream=").concat(i))}}catch(c){n.e(c)}finally{n.f()}},R.prototype.addIceCandidate=function(e){return this.trace("addIceCandidate",JSON.stringify({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,usernameFragment:e.usernameFragment},null," ")),this.peerconnection.addIceCandidate(e)},R.prototype.getActiveSimulcastStreams=function(){var e,t=1;return this.isSimulcastOn()&&this.encodingsEnabledState?t=null===(e=this.encodingsEnabledState.filter((function(e){return Boolean(e)})))||void 0===e?void 0:e.length:this.isSimulcastOn()&&(t=k.c.length),t},R.prototype.getStats=function(){return this.peerconnection.getStats()},R.prototype.generateNewStreamSSRCInfo=function(e){var t=e.rtcId,n=this._getSSRC(t);if(n&&O.error("".concat(this," Overwriting local SSRCs for track id=").concat(t)),!this.isSimulcastOn()||e.getVideoType()!==h.VideoType.CAMERA&&this.isSharingLowFpsScreen())n={ssrcs:[y.a.generateSsrc()],groups:[]};else{n={ssrcs:[],groups:[]};for(var r=0;r<k.c.length;r++)n.ssrcs.push(y.a.generateSsrc());n.groups.push({ssrcs:n.ssrcs.slice(),semantics:"SIM"})}if(!this.options.disableRtx)for(var i=n.ssrcs.length,o=0;o<i;++o){var a=n.ssrcs[o],s=y.a.generateSsrc();n.ssrcs.push(s),n.groups.push({ssrcs:[a,s],semantics:"FID"})}return n.msid=e.storedMSID,this.localSSRCs.set(t,n),n},R.prototype.usesUnifiedPlan=function(){return this._usesUnifiedPlan},R.prototype.toString=function(){return"TPC[id=".concat(this.id,",type=").concat(this.isP2P?"P2P":"JVB","]")}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(18),o=n(4),a=n(105),s=n(22),u=n(16),c=n(71),l=Object(r.getLogger)(e),d=function(){function e(t,n){_classCallCheck(this,e),this.tpc=t,this.localEndpointId=n,this.audioSourcesToMsidMap=new Map,this.videoSourcesToMsidMap=new Map}return _createClass(e,[{key:"_addMutedLocalVideoTracksToSDP",value:function(e){var t,n=this.tpc.getLocalTracks(o.a.VIDEO);if(!n.length)return!1;1!==n.length&&l.error(this.tpc+" there is more than 1 video track ! Strange things may happen !",n);var r=null===(t=e.selectMedia(o.a.VIDEO))||void 0===t?void 0:t[0];if(!r)return l.debug(this.tpc+' unable to hack local video track SDP- no "video" media'),!1;var a,u=!1,c=_createForOfIteratorHelper(n);try{for(c.s();!(a=c.n()).done;){var d=a.value,f=d.isMuted(),h=d.getOriginalStream(),p=d.videoType===s.VideoType.CAMERA,m=h&&this.tpc.isMediaStreamInPc(h);if(p&&(f||!m)){var v=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(v.length){u=!0,r.direction=i.a.SENDRECV;var g,_="injected-"+v[0],b=_createForOfIteratorHelper(v);try{for(b.s();!(g=b.n()).done;){var y=g.value;r.removeSSRC(y),r.addSSRCAttribute({id:y,attribute:"cname",value:_}),r.addSSRCAttribute({id:y,attribute:"msid",value:d.storedMSID})}}catch(S){b.e(S)}finally{b.f()}if(v.length>1){var E={ssrcs:v.join(" "),semantics:"SIM"};r.findGroup(E.semantics,E.ssrcs)||r.addSSRCGroup(E)}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(r)}else l.error("No SSRCs stored for: ".concat(d," in ").concat(this.tpc))}}}catch(S){c.e(S)}finally{c.f()}return u}},{key:"_generateMsidAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return l.error("Unable to munge local MSID - track id=".concat(t," or media type=").concat(e," is missing")),null;var r=this.tpc.id;return"-"!==n&&n?"".concat(n,"-").concat(r," ").concat(t,"-").concat(r):"".concat(this.localEndpointId,"-").concat(e,"-").concat(r," ").concat(t,"-").concat(r)}},{key:"_transformMediaIdentifiers",value:function(e){var t,n,r,a,s,c,d=this,f=null===(t=e.mLine)||void 0===t?void 0:t.type,h=this.tpc.id,p=_createForOfIteratorHelper(e.ssrcs);try{for(p.s();!(c=p.n()).done;){var m=c.value;switch(m.attribute){case"cname":case"label":case"mslabel":m.value=m.value&&"".concat(m.value,"-").concat(h);break;case"msid":if(m.value){var v=m.value.split(" "),g=v[0],_=v[1];u.a.isSourceNameSignalingEnabled()&&(g="".concat(this.localEndpointId,"-").concat(f),f===o.a.VIDEO?this.videoSourcesToMsidMap.has(_)||(g="".concat(g,"-").concat(this.videoSourcesToMsidMap.size),this.videoSourcesToMsidMap.set(_,g)):this.audioSourcesToMsidMap.has(_)||(g="".concat(g,"-").concat(this.audioSourcesToMsidMap.size),this.audioSourcesToMsidMap.set(_,g)),g=f===o.a.VIDEO?this.videoSourcesToMsidMap.get(_):this.audioSourcesToMsidMap.get(_)),m.value=this._generateMsidAttribute(f,_,g)}else l.warn("Unable to munge local MSID - weird format detected: "+m.value)}}}catch(T){p.e(T)}finally{p.f()}if(this.tpc.usesUnifiedPlan()){var b=null===(n=e.mLine)||void 0===n?void 0:n.direction;if(b===i.a.RECVONLY||b===i.a.INACTIVE)e.ssrcs=void 0,e.ssrcGroups=void 0;else{var y,E=null===(r=e.mLine)||void 0===r?void 0:r.msid,S=E&&E.split(" ")[1],D=_toConsumableArray(new Set(null===(s=null===(a=e.mLine)||void 0===a?void 0:a.ssrcs)||void 0===s?void 0:s.map((function(e){return e.id})))),w=_createForOfIteratorHelper(D);try{var C=function(){var t=y.value;if(!e.ssrcs.find((function(e){return e.id===t&&"msid"===e.attribute}))&&S){var n=d._generateMsidAttribute(f,S);e.ssrcs.push({id:t,attribute:"msid",value:n})}};for(w.s();!(y=w.n()).done;)C()}catch(T){w.e(T)}finally{w.f()}}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(e){if(!e)throw new Error("No local description passed in.");var t=new c.a(e.sdp);return this._addMutedLocalVideoTracksToSDP(t)?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e}},{key:"transformStreamIdentifiers",value:function(e){var t;if(!e||!e.sdp||!e.type)return e;var n=new c.a(e.sdp),r=null===(t=n.selectMedia(o.a.AUDIO))||void 0===t?void 0:t[0];r&&(this._transformMediaIdentifiers(r),this._injectSourceNames(r));var i=n.selectMedia(o.a.VIDEO);u.a.isMultiStreamSupportEnabled()||i.splice(1);var a,s=_createForOfIteratorHelper(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;this._transformMediaIdentifiers(l),this._injectSourceNames(l)}}catch(d){s.e(d)}finally{s.f()}return new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})}},{key:"_injectSourceNames",value:function(e){var t,n,r,i,o=this;if(u.a.isSourceNameSignalingEnabled()){var s=_toConsumableArray(new Set(null===(n=null===(t=e.mLine)||void 0===t?void 0:t.ssrcs)||void 0===n?void 0:n.map((function(e){return e.id})))),c=null===(r=e.mLine)||void 0===r?void 0:r.type;if(!c)throw new Error("_transformMediaIdentifiers - no media type in mediaSection");var l,d=_createForOfIteratorHelper(s);try{var f=function(){var t,n=l.value,r=e.ssrcs.find((function(e){return e.id===n&&"name"===e.attribute})),s=null===(i=e.ssrcs.find((function(e){return e.id===n&&"msid"===e.attribute})))||void 0===i?void 0:i.value;s&&(t=s.split(" ")[0].split("-")[2]),r||e.ssrcs.push({id:n,attribute:"name",value:Object(a.c)(o.localEndpointId,c,t)})};for(d.s();!(l=d.n()).done;)f()}catch(h){d.e(h)}finally{d.f()}}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(5),i=n(18),o=n(4),a=n(12),s=n(71),u=Object(r.getLogger)(e);function c(e,t,n){var r=t.id,i=t.msid,o=t.cname,a=e.getRtxSSRC(r);a!==n&&(a&&(e.removeSSRC(a),e.removeGroupsWithSSRC(a)),e.addSSRCAttribute({id:n,attribute:"cname",value:o}),e.addSSRCAttribute({id:n,attribute:"msid",value:i}),e.addSSRCGroup({semantics:"FID",ssrcs:"".concat(r," ").concat(n)}))}var l=function(){function e(){_classCallCheck(this,e),this.correspondingRtxSsrcs=new Map}return _createClass(e,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(e){u.debug("Setting ssrc cache to ",e),this.correspondingRtxSsrcs=e}},{key:"modifyRtxSsrcs",value:function(e){var t=!1,n=new s.a(e),r=n.selectMedia(o.a.VIDEO);if(!(null==r?void 0:r.length))return u.debug("No 'video' media found in the sdp: "+e),e;var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var c=i.value;this.modifyRtxSsrcs2(c)&&(t=!0)}}catch(l){a.e(l)}finally{a.f()}return t?n.toRawSDP():e}},{key:"modifyRtxSsrcs2",value:function(e){if(e.direction===i.a.RECVONLY)return!1;if(e.getSSRCCount()<1)return!1;var t,n=e.getPrimaryVideoSSRCs(),r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var o=t.value,s=e.getSSRCAttrValue(o,"msid"),u=e.getSSRCAttrValue(o,"cname"),l=this.correspondingRtxSsrcs.get(o);l||(l=e.getRtxSSRC(o)||a.a.generateSsrc(),this.correspondingRtxSsrcs.set(o,l)),c(e,{id:o,cname:u,msid:s},l)}}catch(d){r.e(d)}finally{r.f()}return!0}},{key:"stripRtx",value:function(e){var t=new s.a(e),n=t.selectMedia(o.a.VIDEO);if(!(null==n?void 0:n.length))return u.debug("No 'video' media found in the sdp: "+e),e;var r,a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c.direction!==i.a.RECVONLY&&c.getSSRCCount()&&c.containsAnySSRCGroups()){var l=c.findGroups("FID");c.removeGroupsBySemantics("FID");var d,f=_createForOfIteratorHelper(l);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=Object(s.c)(h);c.removeSSRC(p)}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){a.e(m)}finally{a.f()}return t.toRawSDP()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(4),o=n(71),a=Object(r.getLogger)(e),s=function(){function e(t){_classCallCheck(this,e),this.clearVideoSsrcCache(),this.logPrefix=t}return _createClass(e,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(e){if("number"!=typeof e)throw new Error("Primary SSRC must be a number!");this.cachedPrimarySsrc=e}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(e){var t,n=new o.a(e),r=null===(t=n.selectMedia(i.a.VIDEO))||void 0===t?void 0:t[0];if(!r)return a.debug("".concat(this.logPrefix," no 'video' media found in the sdp: ").concat(e)),e;if("recvonly"===r.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?r.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:"cname",value:"recvonly-"+this.cachedPrimarySsrc}):a.info(this.logPrefix+" no SSRC found for the recvonly video stream!");else{var s=r.getPrimaryVideoSsrc();if(!s)return a.info(this.logPrefix+" sdp-consistency couldn't parse new primary ssrc"),e;if(this.cachedPrimarySsrc){r.replaceSSRC(s,this.cachedPrimarySsrc);var u,c=_createForOfIteratorHelper(r.ssrcGroups);try{for(c.s();!(u=c.n()).done;){var l=u.value;if("FID"===l.semantics){var d=Object(o.b)(l),f=Object(o.c)(l);d===s&&(l.ssrcs="".concat(this.cachedPrimarySsrc," ").concat(f))}}}catch(h){c.e(h)}finally{c.f()}}else this.cachedPrimarySsrc=s;this.injectRecvOnly=!0}return n.toRawSDP()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(18),i=n(4),o=n(43),a=function(){function e(t){_classCallCheck(this,e),this._options=t,this._ssrcCache=new Map,this._options.numOfLayers||(this._options.numOfLayers=3)}return _createClass(e,[{key:"_fillSsrcsFromCache",value:function(e){var t=e.mid,n=this._ssrcCache.get(t),r=this._parseSimLayers(e),i=this._getSsrcAttribute(e,r[0],"msid"),o=this._getSsrcAttribute(e,r[0],"cname");e.ssrcs=[],e.ssrcGroups=[];var a,s=_createForOfIteratorHelper(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;e.ssrcs.push({id:u,attribute:"msid",value:i}),e.ssrcs.push({id:u,attribute:"cname",value:o})}}catch(c){s.e(c)}finally{s.f()}return e.ssrcGroups.push({semantics:"SIM",ssrcs:n.join(" ")}),e}},{key:"_generateNewSsrcsForSimulcast",value:function(e,t){var n=this._getSsrcAttribute(e,t,"cname"),r=this._getSsrcAttribute(e,t,"msid"),i=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:n}),e.ssrcs.push({id:t,attribute:"msid",value:r})};r||(r=e.msid,e.ssrcs.forEach((function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})})));for(var o=[],a=0;a<this._options.numOfLayers-1;++a){var s=this._generateSsrc();i(e,s),o.push(s)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e}},{key:"_generateSsrc",value:function(){return Math.floor(4294967295*Math.random())}},{key:"_getSsrcAttribute",value:function(e,t,n){var r,i;return null===(i=null===(r=e.ssrcs)||void 0===r?void 0:r.find((function(e){return Number(e.id)===t&&e.attribute===n})))||void 0===i?void 0:i.value}},{key:"_parseSimLayers",value:function(e){var t,n,r=null===(t=e.ssrcGroups)||void 0===t?void 0:t.find((function(e){return"SIM"===e.semantics}));return r?r.ssrcs.split(" ").map((function(e){return Number(e)})):(null===(n=e.ssrcs)||void 0===n?void 0:n.length)?[Number(e.ssrcs[0].id)]:null}},{key:"mungeLocalDescription",value:function(e){var t,n,a,s;if(!e||!e.sdp)return e;var u,c=o.parse(e.sdp),l=_createForOfIteratorHelper(c.media);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.direction!==r.a.RECVONLY&&d.direction!==r.a.INACTIVE&&d.type===i.a.VIDEO){var f=d.mid,h=new Set(null===(t=d.ssrcs)||void 0===t?void 0:t.map((function(e){return e.id}))),p=null!==(a=null===(n=d.ssrcGroups)||void 0===n?void 0:n.length)&&void 0!==a?a:0,m=void 0;if(!(0===h.size||h.size>2||2===h.size&&0===p)){if(1===h.size)m=Number(null===(s=d.ssrcs[0])||void 0===s?void 0:s.id);else{var v=d.ssrcGroups.find((function(e){return"FID"===e.semantics}));v&&(m=Number(v.ssrcs.split(" ")[0]))}if(this._ssrcCache.has(f))d=this._fillSsrcsFromCache(d);else{d=this._generateNewSsrcsForSimulcast(d,m);var g=this._parseSimLayers(d);this._ssrcCache.set(f,g)}}}}}catch(_){l.e(_)}finally{l.f()}return new RTCSessionDescription({type:e.type,sdp:o.write(c)})}},{key:"mungeRemoteDescription",value:function(e){var t;if(!e||!e.sdp)return e;var n,a=o.parse(e.sdp),s=_createForOfIteratorHelper(a.media);try{var u=function(){var e=n.value;if(e.type!==i.a.VIDEO)return 0;if(e.direction!==r.a.SENDONLY)return 0;if(!(null===(t=e.ssrcGroups)||void 0===t?void 0:t.length)||!(null==e?void 0:e.ssrcs.length))return 0;var o=new Set(e.ssrcs.slice()),a=new Set(e.ssrcGroups.slice()),s=e.ssrcGroups.filter((function(e){return"FID"===e.semantics})),u=e.ssrcGroups.find((function(e){return"SIM"===e.semantics})),c=null==u?void 0:u.ssrcs.split(" ")[0];if(s.length&&u){var l,d=s.find((function(e){return e.ssrcs.includes(c)})),f=d.ssrcs.split(" ")[1],h=_createForOfIteratorHelper(e.ssrcGroups);try{for(h.s();!(l=h.n()).done;){var p=l.value;p!==d&&a.delete(p)}}catch(E){h.e(E)}finally{h.f()}var m,v=_createForOfIteratorHelper(e.ssrcs);try{for(v.s();!(m=v.n()).done;){var g=m.value;g.id.toString()!==c&&g.id.toString()!==f&&o.delete(g)}}catch(E){v.e(E)}finally{v.f()}}else if(u){a.delete(u);var _,b=_createForOfIteratorHelper(e.ssrcs);try{for(b.s();!(_=b.n()).done;){var y=_.value;y.id.toString()!==c&&o.delete(y)}}catch(E){b.e(E)}finally{b.f()}}e.ssrcs=Array.from(o),e.ssrcGroups=Array.from(a)};for(s.s();!(n=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return new RTCSessionDescription({type:e.type,sdp:o.write(a)})}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(30),i=n(15),o=n(190),a=n(16),s=n(10),u=n(232),c=n(5).getLogger(e),l=n(11),d=!1,f=!1,h=["abort","canplaythrough","ended","error"],p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,l,d,f,p){var m;if(_classCallCheck(this,n),(m=t.call(this,r,o,a,(function(){}),s,u)).rtc=e,"number"!=typeof l)throw new TypeError("SSRC ".concat(l," is not a number"));return m.ssrc=l,m.ownerEndpointId=i,m.muted=d,m.isP2P=f,m._sourceName=p,m._trackStreamingStatus=null,m._trackStreamingStatusImpl=null,m._enteredForwardedSourcesTimestamp=null,m.addEventListener=m.on=m._addEventListener.bind(_assertThisInitialized(m)),m.removeEventListener=m.off=m._removeEventListener.bind(_assertThisInitialized(m)),c.debug("New remote track added: "+_assertThisInitialized(m)),m.hasBeenMuted=d,m.rtc&&m.track&&m._bindTrackHandlers(),m._containerHandlers={},h.forEach((function(e){m._containerHandlers[e]=m._containerEventHandler.bind(_assertThisInitialized(m),e)})),_possibleConstructorReturn(m)}return _createClass(n,[{key:"_bindTrackHandlers",value:function(){var e=this;this.track.addEventListener("mute",(function(){return e._onTrackMute()})),this.track.addEventListener("unmute",(function(){return e._onTrackUnmute()})),this.track.addEventListener("ended",(function(){c.debug('"onended" event('.concat(Date.now(),"): ").concat(e))}))}},{key:"_addEventListener",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addListener",this).call(this,e,t),a.a.isSourceNameSignalingEnabled()&&e===r.TRACK_STREAMING_STATUS_CHANGED&&this.listenerCount(r.TRACK_STREAMING_STATUS_CHANGED)&&!this._trackStreamingStatusImpl&&(this._initTrackStreamingStatus(),c.debug("Initializing track streaming status: "+this._sourceName))}},{key:"_removeEventListener",value:function(e,t){_get(_getPrototypeOf(n.prototype),"removeListener",this).call(this,e,t),a.a.isSourceNameSignalingEnabled()&&e===r.TRACK_STREAMING_STATUS_CHANGED&&!this.listenerCount(r.TRACK_STREAMING_STATUS_CHANGED)&&(this._disposeTrackStreamingStatus(),c.debug("Disposing track streaming status: "+this._sourceName))}},{key:"_onTrackMute",value:function(){c.debug('"onmute" event('.concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(l.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){c.debug('"onunmute" event('.concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(l.REMOTE_TRACK_UNMUTE,this)}},{key:"dispose",value:function(){return a.a.isSourceNameSignalingEnabled()&&this._disposeTrackStreamingStatus(),_get(_getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"setMute",value:function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.emit(r.TRACK_MUTE_CHANGED,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"_setVideoType",value:function(e){this.videoType!==e&&(this.videoType=e,this.emit(r.TRACK_VIDEOTYPE_CHANGED,e))}},{key:"_playCallback",value:function(){if(this.conference.room){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render ".concat(e,":\t"),t),this.conference.getConnectionTimes()[e+".render"]=t;var n=window.connectionTimes["obtainPermissions.start"],r=window.connectionTimes["obtainPermissions.end"],o=isNaN(r)||isNaN(n)?0:r-n,a=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-o;this.conference.getConnectionTimes()[e+".ttfm"]=a,console.log("(TIME) TTFM ".concat(e,":\t"),a),s.a.sendAnalytics(Object(i.N)({media_type:e,muted:this.hasBeenMuted,value:a}))}}},{key:"_attachTTFMTracker",value:function(e){d&&this.isAudioTrack()||f&&this.isVideoTrack()||(this.isAudioTrack()&&(d=!0),this.isVideoTrack()&&(f=!0),e.addEventListener("canplay",this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(e){var t=this;h.forEach((function(n){e.addEventListener(n,t._containerHandlers[n])}))}},{key:"_onTrackDetach",value:function(e){var t=this;h.forEach((function(n){e.removeEventListener(n,t._containerHandlers[n])}))}},{key:"_containerEventHandler",value:function(e){c.debug("".concat(e," handler was called for a container with attached ").concat(this))}},{key:"_getStatus",value:function(){var e=this.track,t=e.enabled,n=e.muted,r=e.readyState;return"readyState: ".concat(r,", muted: ").concat(n,", enabled: ").concat(t)}},{key:"_initTrackStreamingStatus",value:function(){var e=this.conference.options.config;this._trackStreamingStatus=o.a.ACTIVE,this._trackStreamingStatusImpl=new o.b(this.rtc,this.conference,this,{p2pRtcMuteTimeout:e._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:e._peerConnStatusRtcMuteTimeout,outOfForwardedSourcesTimeout:e._peerConnStatusOutOfLastNTimeout}),this._trackStreamingStatusImpl.init()}},{key:"_disposeTrackStreamingStatus",value:function(){this._trackStreamingStatusImpl&&(this._trackStreamingStatusImpl.dispose(),this._trackStreamingStatusImpl=null,this._trackStreamingStatus=null)}},{key:"_setTrackStreamingStatus",value:function(e){this._trackStreamingStatus=e}},{key:"getTrackStreamingStatus",value:function(){return this._trackStreamingStatus}},{key:"_clearEnteredForwardedSourcesTimestamp",value:function(){this._enteredForwardedSourcesTimestamp=null}},{key:"_setEnteredForwardedSourcesTimestamp",value:function(e){this._enteredForwardedSourcesTimestamp=e}},{key:"_getEnteredForwardedSourcesTimestamp",value:function(){return this._enteredForwardedSourcesTimestamp}},{key:"toString",value:function(){return"RemoteTrack[userID: ".concat(this.getParticipantId(),", type: ").concat(this.getType(),", ssrc: ").concat(this.getSSRC(),", p2p: ").concat(this.isP2P,", sourceName: ").concat(this._sourceName,", status: ").concat(this._getStatus(),"]")}}]),n}(u.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(5),i=n(2),o=n(44),a=n.n(o),s=n(11),u=n(75),c=n(6),l=n(233),d=n(22).VideoType,f=n(1).XMPPEvents,h=Object(r.getLogger)(e),p=[{width:1920,height:1080,layers:3,target:"high",targetRN:4e6},{width:1280,height:720,layers:3,target:"high",targetRN:25e5},{width:960,height:540,layers:3,target:"standard",targetRN:9e5},{width:640,height:360,layers:2,target:"standard",targetRN:5e5},{width:480,height:270,layers:2,target:"low",targetRN:35e4},{width:320,height:180,layers:1,target:"low",targetRN:15e4}],m=800;function v(e,t,n,r){var i=0,o=Math.min(t.height,t.width),s=p.find((function(e){return e.height<=o}));if(s&&e&&r.codec===a.a.VP8){var u=function(){var e=o;if(s=p.find((function(t){return t.height===e})),!s)return 1;i+=c.a.isReactNative()?s.targetRN:r[s.target]};for(o=s.height;o>=180&&!u();o/=2);}else s&&(i=c.a.isReactNative()?s.targetRN:r[s.target]);return Math.min(i/1e3,function(e){return e>6e4?Number.MAX_SAFE_INTEGER:m*Math.pow(1.08,e/1e3)}(Math.max(0,n-1e3)))}var g=function(){function e(t,n,r){var o,a=this;_classCallCheck(this,e),this.eventEmitter=n,this._conference=t,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._options=r,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,(null===(o=this._options.config)||void 0===o?void 0:o.startBitrate)>0&&(m=this._options.config.startBitrate),t.on(i.CONNECTION_INTERRUPTED,(function(){a._updateLocalConnectionQuality(0),a.eventEmitter.emit(u.LOCAL_STATS_UPDATED,a._localStats),a._broadcastLocalStats()})),t.room.addListener(f.ICE_CONNECTION_STATE_CHANGED,(function(e,t){e.isP2P||"connected"!==t||(a._timeIceConnected=window.performance.now())})),t.on(i.ENDPOINT_MESSAGE_RECEIVED,(function(e,t){"stats"===t.type&&a._updateRemoteStats(e.getId(),t.values)})),t.on(i.ENDPOINT_STATS_RECEIVED,(function(e,t){a._updateRemoteStats(e.getId(),t)})),t.on(i.ENDPOINT_MESSAGE_RECEIVED,(function(e,t){"face_landmark"===t.type&&a.eventEmitter.emit(i.FACE_LANDMARK_ADDED,e.getId(),t)})),t.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),t.on(i.TRACK_MUTE_CHANGED,(function(e){e.isVideoTrack()&&(e.isMuted()?a._timeVideoUnmuted=-1:a._maybeUpdateUnmuteTime())})),t.on(i.TRACK_ADDED,(function(e){e.isVideoTrack()&&!e.isMuted()&&a._maybeUpdateUnmuteTime()})),t.rtc.on(s.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,(function(e){a._localStats.maxEnabledResolution=e.maxEnabledResolution})),t.on(i.SERVER_REGION_CHANGED,(function(e){a._localStats.serverRegion=e})),t.on(i.PROPERTIES_CHANGED,(function(e){a._localStats.bridgeCount=Number((e||{})["bridge-count"])}))}return _createClass(e,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(e,t,n){var r,i,o,a=l[n],s=100;if(this._localStats.packetLoss&&(o=this._localStats.packetLoss.upload,t&&(o*=.5)),t||!a||e===d.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===o?(h.error("Cannot calculate connection quality, unknown packet loss."),s=100):s=o<=2?100:o<=4?70:o<=6?50:o<=8?30:o<=12?10:0;else{var u=this._conference.getActivePeerConnection();if(u){var c=u.isSimulcastOn(),f=u.getTargetVideoBitrates();f.codec=u.getConfiguredVideoCodec();var p=window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected),m=null!==(i=null===(r=this._options.config)||void 0===r?void 0:r.pcStatsInterval)&&void 0!==i?i:1e4,g=v(c,a,p,f);g=Math.min(g,2500),p>m&&(s=100*this._localStats.bitrate.upload/g)}o&&o>=10&&(s=Math.min(s,30))}if(this._lastConnectionQualityUpdate>0){var _=this._localStats.connectionQuality,b=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;s=Math.min(s,_+2*b)}return Math.min(100,s)}},{key:"_updateLocalConnectionQuality",value:function(e){this._localStats.connectionQuality=e,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var e={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.sendEndpointStatsMessage(e)}catch(e){}}},{key:"_updateLocalStats",value:function(e,t){if(!e.isP2P){var n=t.transport&&t.transport.length&&t.transport[0].rtt;this._localStats.jvbRTT=n||void 0}if(e===this._conference.getActivePeerConnection()){var r,i=!this._conference.isConnectionInterrupted(),o=this._conference.getLocalVideoTrack(),a=o?o.videoType:void 0,s=!o||o.isMuted(),c=o?Math.min(o.resolution,o.maxEnabledResolution):null;for(r in s||this._maybeUpdateUnmuteTime(),t)t.hasOwnProperty(r)&&(this._localStats[r]=t[r]);i&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(a,s,c)),this.eventEmitter.emit(u.LOCAL_STATS_UPDATED,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(e,t){this._remoteStats[e]={bitrate:t.bitrate,packetLoss:t.packetLoss,connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT,serverRegion:t.serverRegion,maxEnabledResolution:t.maxEnabledResolution,avgAudioLevels:t.avgAudioLevels},this.eventEmitter.emit(u.REMOTE_STATS_UPDATED,e,this._remoteStats[e])}},{key:"getStats",value:function(){return this._localStats}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(5),i=n(38),o=n(2),a=Object(r.getLogger)(e),s=function(){function e(t){_classCallCheck(this,e),this._conference=t}return _createClass(e,[{key:"_actOnIceFailed",value:function(){if(this._conference.room){var e=this._conference.options.config,t=e.enableForcedReload,n=e.enableIceRestart,r=void 0!==n&&!n,s=this._conference.room.supportsRestartByTerminate(),u=s&&!n;if(a.info("ICE failed, enableForcedReload: ".concat(t,", enableIceRestart: ").concat(n,", supports restart by terminate: ")+s),r||!n&&!s||t){a.info("ICE failed, but ICE restarts are disabled");var c=t?i.CONFERENCE_RESTARTED:i.ICE_FAILED;this._conference.eventEmitter.emit(o.CONFERENCE_FAILED,c)}else{var l=this._conference.jvbJingleSession,d=l&&l.getIceConnectionState();l?"connected"===d?a.info("ICE connection restored - not sending ICE failed"):(a.info("Sending ICE failed - the connection did not recover, ICE state: ".concat(d,", use 'session-terminate': ")+u),u?this._conference.jvbJingleSession.terminate((function(){a.info("session-terminate for ice restart - done")}),(function(e){a.error("session-terminate for ice restart - error: "+e.message)}),{reason:"connectivity-error",reasonDescription:"ICE FAILED",requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):a.warn("Not sending ICE failed - no JVB connection")}}}},{key:"start",value:function(){var e=this;this._conference.xmpp.ping(65e3).then((function(){e._canceled||(e._iceFailedTimeout=window.setTimeout((function(){e._iceFailedTimeout=void 0,e._actOnIceFailed()}),2e3))}),(function(e){a.error("PING error/timeout - not sending ICE failed",e)}))}},{key:"cancel",value:function(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(34),i=n.n(r),o=n(2),a=n(30),s=n(6),u=n(51),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._conference=e,r._timeoutTrigger=null,r._hasAudioInput=null,s.a.supportsReceiverStats()||e.statistics.addAudioLevelListener(r._audioLevel.bind(_assertThisInitialized(r))),e.on(o.TRACK_ADDED,r._trackAdded.bind(_assertThisInitialized(r))),r}return _createClass(n,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(e){var t=0!==e;null!==this._hasAudioInput&&this._hasAudioInput===t||(this._hasAudioInput=t,this.emit(u.AUDIO_INPUT_STATE_CHANGE,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(e){var t=this;this._eventFired||(0!==e||this._timeoutTrigger?0!==e&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout((function(){t._eventFired=!0,t.emit(u.NO_AUDIO_INPUT)}),4e3))}},{key:"_audioLevel",value:function(e,t,n,r){if(r&&this._audioTrack){var i=e.localSSRCs.get(this._audioTrack.rtcId);i&&i.ssrcs.includes(t)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n))}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._audioTrack=e,this._eventFired=!1,this._clearTriggerTimeout(),s.a.supportsReceiverStats()&&(e.on(a.NO_AUDIO_INPUT,(function(e){t._handleNoAudioInputDetection(e)})),e.on(a.TRACK_AUDIO_LEVEL_CHANGED,(function(e){t._handleNoAudioInputDetection(e),t._handleAudioInputStateChange(e)}))))}}]),n}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(11),o=function(){function e(t){_classCallCheck(this,e),this.conference=t,t.addEventListener(r.TRACK_AUDIO_LEVEL_CHANGED,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return _createClass(e,[{key:"_audioLevel",value:function(e,t){!this.conference.isP2PActive()||t<=.6||e===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(i.default.DOMINANT_SPEAKER_CHANGED,e)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),i=n(74),o=n(51),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._audioLvlArray=[],e._active=!1,e._calculateNoisyScore=e._calculateNoisyScore.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"_calculateNoisyScore",value:function(){var e=Object(i.b)(this._scoreArray),t=Object(i.b)(this._audioLvlArray);e<.2&&t>.04&&(this.emit(o.VAD_NOISY_DEVICE),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(e,t){this._scoreArray.push(e),this._audioLvlArray.push(t)}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(o.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(!e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(e){if(this._active)if(this._processing){var t=Object(i.c)(e.pcmData);this._recordValues(e.score,Object(i.b)(t))}else if(e.score<.2){var n=Object(i.c)(e.pcmData),r=Object(i.b)(n);r>.02&&(this._processing=!0,this._recordValues(e.score,r),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),n}(r.EventEmitter)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),i=n(74),o=n(51),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._active=!1,e._calculateVADScore=e._calculateVADScore.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"_calculateVADScore",value:function(){Object(i.b)(this._scoreArray)>.6&&(this.emit(o.VAD_TALK_WHILE_MUTED),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(o.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(e){this._active&&(this._processing?this._scoreArray.push(e.score):e.score>.9&&(this._processing=!0,this._scoreArray.push(e.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),n}(r.EventEmitter)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(5),i=n(2),o=n(236),a=Object(r.getLogger)(e),s=function(){function e(t,n){_classCallCheck(this,e),this.participant=t,this.e2eping=n,this.id=t.getId(),this.requests={},this.lastRequestId=1,this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeLogRttAndStop=this.maybeLogRttAndStop.bind(this),this.scheduleNext=this.scheduleNext.bind(this),this.stop=this.stop.bind(this),this.getDelay=this.getDelay.bind(this),this.timeout=this.scheduleNext()}return _createClass(e,[{key:"scheduleNext",value:function(){return window.setTimeout(this.sendRequest,this.getDelay())}},{key:"stop",value:function(){this.timeout&&window.clearTimeout(this.timeout),this.e2eping.removeParticipant(this.id)}},{key:"getDelay",value:function(){var e=this.e2eping.conference.getParticipants().length,t=e*(e-1)/2*this.e2eping.numRequests/this.e2eping.maxMessagesPerSecond;return(1.5-Math.random())*Math.max(t/this.e2eping.numRequests*1e3,1e3)}},{key:"sendRequest",value:function(){var e=this.lastRequestId++,t={type:"e2e-ping-request",id:e};this.e2eping.sendMessage(t,this.id),this.requests[e]={id:e,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(e){var t=this.requests[e.id];t&&(t.rtt=window.performance.now()-t.timeSent),this.maybeLogRttAndStop()}},{key:"maybeLogRttAndStop",value:function(){var e,t,n=1/0,r=0,i=0;for(t in this.requests)this.requests.hasOwnProperty(t)&&(i++,(e=this.requests[t]).rtt&&(r++,n=Math.min(n,e.rtt)));return r>=this.e2eping.numRequests?(a.info("Measured RTT=".concat(n," ms to ").concat(this.id," (in ").concat(this.participant.getProperty("region"),")")),this.stop(),void this.e2eping.conference.eventEmitter.emit(o.E2E_RTT_CHANGED,this.participant,n)):i>2*this.e2eping.numRequests?(a.info("Stopping e2eping for ".concat(this.id," because we sent ").concat(i," with only ")+r+" responses."),void this.stop()):void(this.timeout=this.scheduleNext())}}]),e}(),u=function(){function e(t,n,r){_classCallCheck(this,e),this.conference=t,this.eventEmitter=t.eventEmitter,this.sendMessage=r,this.participants={},this.numRequests=5,this.maxConferenceSize=200,this.maxMessagesPerSecond=250,n&&n.e2eping&&("number"==typeof n.e2eping.numRequests&&(this.numRequests=n.e2eping.numRequests),"number"==typeof n.e2eping.maxConferenceSize&&(this.maxConferenceSize=n.e2eping.maxConferenceSize),"number"==typeof n.e2eping.maxMessagesPerSecond&&(this.maxMessagesPerSecond=n.e2eping.maxMessagesPerSecond)),a.info("Initializing e2e ping with numRequests=".concat(this.numRequests,", maxConferenceSize=").concat(this.maxConferenceSize,", maxMessagesPerSecond=").concat(this.maxMessagesPerSecond,".")),this.participantJoined=this.participantJoined.bind(this),this.participantLeft=this.participantLeft.bind(this),t.on(i.USER_LEFT,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),t.on(i.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.conferenceJoined=this.conferenceJoined.bind(this),t.on(i.CONFERENCE_JOINED,this.conferenceJoined)}return _createClass(e,[{key:"conferenceJoined",value:function(){var e=this;this.conference.getParticipants().forEach((function(t){return e.participantJoined(t.getId(),t)})),this.conference.on(i.USER_JOINED,this.participantJoined)}},{key:"messageReceived",value:function(e,t){"e2e-ping-request"===t.type?this.handleRequest(e.getId(),t):"e2e-ping-response"===t.type&&this.handleResponse(e.getId(),t)}},{key:"participantJoined",value:function(e,t){this.participants[e]&&(a.info("Participant wrapper already exists for ".concat(e,". Clearing.")),this.participants[e].stop()),this.conference.getParticipants().length>this.maxConferenceSize||this.conference.myUserId()>e&&(a.info("Starting e2eping for participant "+e),this.participants[e]=new s(t,this))}},{key:"removeParticipant",value:function(e){this.participants[e]&&delete this.participants[e]}},{key:"participantLeft",value:function(e){this.participants[e]&&(this.participants[e].stop(),delete this.participants[e])}},{key:"handleRequest",value:function(e,t){if(t&&t.id){var n={type:"e2e-ping-response",id:t.id};this.sendMessage(n,e)}else a.info("Received an invalid e2e ping request from ".concat(e,"."))}},{key:"handleResponse",value:function(e,t){var n=this.participants[e];n&&n.handleResponse(t)}},{key:"stop",value:function(){for(var e in a.info("Stopping e2eping"),this.conference.off(i.USER_JOINED,this.participantJoined),this.conference.off(i.USER_LEFT,this.participantLeft),this.conference.off(i.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.participants)this.participants.hasOwnProperty(e)&&this.participants[e].stop();this.participants={}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=n(2),o=Object(r.getLogger)(e),a=function(){function e(t){var n=this;_classCallCheck(this,e),this._conference=t,this._jvb121=!0,this._conference.addEventListener(i.USER_JOINED,(function(){return n.evaluateStatus()})),this._conference.addEventListener(i.USER_LEFT,(function(){return n.evaluateStatus()})),this._conference.addEventListener(i.P2P_STATUS,(function(){return n.evaluateStatus()}))}return _createClass(e,[{key:"evaluateStatus",value:function(){var e=this._jvb121,t=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;e!==t&&(this._jvb121=t,o.debug("JVB121 status ".concat(e," => ").concat(t)),this._conference.eventEmitter.emit(i.JVB121_STATUS,e,t))}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(78),o=n.n(i),a=n(2),s=n(4),u=n(16),c=Object(r.getLogger)(e),l=function(){function e(){_classCallCheck(this,e),this._defaultConstraints={maxHeight:180},this._lastN=-1,this._maxFrameHeight=2160,this._selectedEndpoints=[],this._receiverVideoConstraints={constraints:{},defaultConstraints:this.defaultConstraints,lastN:this._lastN,onStageEndpoints:[],selectedEndpoints:this._selectedEndpoints}}return _createClass(e,[{key:"constraints",get:function(){return this._receiverVideoConstraints.lastN=this._lastN,this._selectedEndpoints.length?(this._receiverVideoConstraints.constraints={},this._selectedEndpoints.length>1?(this._receiverVideoConstraints.defaultConstraints={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.onStageEndpoints=[],this._receiverVideoConstraints.selectedEndpoints=[]):(this._receiverVideoConstraints.constraints[this._selectedEndpoints[0]]={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.defaultConstraints=this._defaultConstraints,this._receiverVideoConstraints.onStageEndpoints=this._selectedEndpoints,this._receiverVideoConstraints.selectedEndpoints=[]),this._receiverVideoConstraints):this._receiverVideoConstraints}},{key:"updateLastN",value:function(e){var t=this._lastN!==e;return t&&(this._lastN=e,c.debug("Updating ReceiverVideoConstraints lastN(".concat(e,")"))),t}},{key:"updateReceiveResolution",value:function(e){var t=this._maxFrameHeight!==e;return t&&(this._maxFrameHeight=e,c.debug("Updating receive maxFrameHeight: "+e)),t}},{key:"updateReceiverVideoConstraints",value:function(e){var t=!o()(this._receiverVideoConstraints,e);return t&&(this._receiverVideoConstraints=e,c.debug("Updating ReceiverVideoConstraints "+JSON.stringify(e))),t}},{key:"updateSelectedEndpoints",value:function(e){c.debug("Updating selected endpoints: "+JSON.stringify(e)),this._selectedEndpoints=e}}]),e}(),d=function(){function e(t,n){var r,i,o=this;_classCallCheck(this,e),this._conference=t,this._rtc=n;var s=t.options.config;this._lastN=null!==(r=null==s?void 0:s.startLastN)&&void 0!==r?r:(null==s?void 0:s.channelLastN)||-1,this._maxFrameHeight=2160,this._sourceReceiverConstraints=new Map,null===(i=null==s?void 0:s.useNewBandwidthAllocationStrategy)||void 0===i||i?(this._receiverVideoConstraints=new l,this._receiverVideoConstraints.updateLastN(this._lastN)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)):this._rtc.setLastN(this._lastN),this._selectedEndpoints=[],this._conference.on(a._MEDIA_SESSION_STARTED,(function(e){return o._onMediaSessionStarted(e)}))}return _createClass(e,[{key:"_getDefaultSourceReceiverConstraints",value:function(e,t){var n;if(!u.a.isSourceNameSignalingEnabled())return null;var r,i=(null===(n=e.peerconnection)||void 0===n?void 0:n.getRemoteTracks(null,s.a.VIDEO))||[],o=new Map,a=_createForOfIteratorHelper(i);try{for(a.s();!(r=a.n()).done;){var c=r.value;o.set(c.getSourceName(),t)}}catch(l){a.e(l)}finally{a.f()}return o}},{key:"_onMediaSessionStarted",value:function(e){e.isP2P||!this._receiverVideoConstraints?e.setReceiverVideoConstraint(this._maxFrameHeight,this._sourceReceiverConstraints):(this._receiverVideoConstraints.updateReceiveResolution(this._maxFrameHeight),this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints))}},{key:"getLastN",value:function(){return this._lastN}},{key:"selectEndpoints",value:function(e){var t=this;if(this._selectedEndpoints=e,this._receiverVideoConstraints){var n=e.filter((function(e){return e!==t._conference.myUserId()})),r=JSON.parse(JSON.stringify(this._receiverVideoConstraints.constraints));n.length&&this._receiverVideoConstraints.updateSelectedEndpoints(n);var i=this._receiverVideoConstraints.constraints;o()(i,r)||this._rtc.setNewReceiverVideoConstraints(i)}else this._rtc.selectEndpoints(e)}},{key:"setLastN",value:function(e){if(this._lastN!==e){if(this._lastN=e,this._receiverVideoConstraints)return void(this._receiverVideoConstraints.updateLastN(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));this._rtc.setLastN(e)}}},{key:"setPreferredReceiveMaxFrameHeight",value:function(e){this._maxFrameHeight=e;var t,n=_createForOfIteratorHelper(this._conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isP2P||!this._receiverVideoConstraints?r.setReceiverVideoConstraint(e,this._getDefaultSourceReceiverConstraints(this._maxFrameHeight)):this._receiverVideoConstraints.updateReceiveResolution(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)}}catch(i){n.e(i)}finally{n.f()}}},{key:"setReceiverConstraints",value:function(e){var t,n,r,i;this._receiverVideoConstraints||(this._receiverVideoConstraints=new l);var o=Object.keys(e).includes("onStageEndpoints","selectedEndpoints"),a=Object.keys(e).includes("onStageSources","selectedSources");if(!u.a.isSourceNameSignalingEnabled()&&a)throw new Error('"onStageSources" and "selectedSources" are not supported when sourceNameSignaling is disabled.');if(u.a.isSourceNameSignalingEnabled()&&o)throw new Error('"onStageEndpoints" and "selectedEndpoints" are not supported when sourceNameSignaling is enabled.');if(this._receiverVideoConstraints.updateReceiverVideoConstraints(e)){this._lastN=null!==(t=e.lastN)&&void 0!==t?t:this._lastN,this._selectedEndpoints=null!==(n=e.selectedEndpoints)&&void 0!==n?n:this._selectedEndpoints,this._rtc.setNewReceiverVideoConstraints(e);var s=this._conference.getMediaSessions().find((function(e){return e.isP2P}));if(!s)return;if(u.a.isSourceNameSignalingEnabled()){var c=Array.from(Object.entries(e.constraints)).map((function(e){return e[1]=e[1].maxHeight,e}));this._sourceReceiverConstraints=new Map(c),s.setReceiverVideoConstraint(null,this._sourceReceiverConstraints)}else{var d=null===(r=Object.values(e.constraints)[0])||void 0===r?void 0:r.maxHeight;d||(d=null===(i=e.defaultConstraints)||void 0===i?void 0:i.maxHeight),d&&s.setReceiverVideoConstraint(d)}}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(5),i=n(2),o=n(11),a=n(16),s=n(171),u=Object(r.getLogger)(e),c=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._conference=t,this._preferredSendMaxFrameHeight=2160,this._rtc=n,this._sourceSenderConstraints=new Map,this._conference.on(i._MEDIA_SESSION_STARTED,(function(e){return r._onMediaSessionStarted(e)})),this._conference.on(i._MEDIA_SESSION_ACTIVE_CHANGED,(function(){return r._configureConstraintsForLocalSources()})),this._rtc.on(o.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,(function(e){return r._onSenderConstraintsReceived(e)}))}return _createClass(e,[{key:"_configureConstraintsForLocalSources",value:function(){if(a.a.isSourceNameSignalingEnabled()){var e,t=_createForOfIteratorHelper(this._rtc.getLocalVideoTracks());try{for(t.s();!(e=t.n()).done;){var n=e.value.getSourceName();n&&this._propagateSendMaxFrameHeight(n)}}catch(r){t.e(r)}finally{t.f()}}else this._propagateSendMaxFrameHeight()}},{key:"_onMediaSessionStarted",value:function(e){var t=this;a.a.isSourceNameSignalingEnabled()?e.addListener(s.a.REMOTE_SOURCE_CONSTRAINTS_CHANGED,(function(e,n){e===t._conference.getActiveMediaSession()&&n.forEach((function(e){return t._onSenderConstraintsReceived(e)}))})):e.addListener(s.a.REMOTE_VIDEO_CONSTRAINTS_CHANGED,(function(e){return e===t._conference.getActiveMediaSession()&&t._configureConstraintsForLocalSources()}))}},{key:"_onSenderConstraintsReceived",value:function(e){var t,n;if(a.a.isSourceNameSignalingEnabled()){var r,i=e.maxHeight,o=e.sourceName,s=null!==(t=this._conference.getLocalVideoTracks())&&void 0!==t?t:[],c=_createForOfIteratorHelper(s);try{for(c.s();!(r=c.n()).done;)r.value.getSourceName()!==o||this._sourceSenderConstraints.has(o)&&this._sourceSenderConstraints.get(o)===i||(this._sourceSenderConstraints.set(o,i),u.debug("Sender constraints for source:".concat(o," changed to maxHeight:").concat(i)),this._propagateSendMaxFrameHeight(o))}catch(l){c.e(l)}finally{c.f()}}else(null===(n=this._senderVideoConstraints)||void 0===n?void 0:n.idealHeight)!==e.idealHeight&&(this._senderVideoConstraints=e,this._propagateSendMaxFrameHeight())}},{key:"_propagateSendMaxFrameHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(a.a.isSourceNameSignalingEnabled()&&!e)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var t=this._selectSendMaxFrameHeight(e),n=[];if(t>=0){var r,i=_createForOfIteratorHelper(this._conference.getMediaSessions());try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(o.setSenderVideoConstraint(t,e))}}catch(s){i.e(s)}finally{i.f()}}return Promise.all(n)}},{key:"_selectSendMaxFrameHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(a.a.isSourceNameSignalingEnabled()&&!t)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var n=this._conference.getActiveMediaSession(),r=n?n.isP2P?t?this._sourceSenderConstraints.get(t):n.getRemoteRecvMaxFrameHeight():t?this._sourceSenderConstraints.get(t):null===(e=this._senderVideoConstraints)||void 0===e?void 0:e.idealHeight:void 0;return this._preferredSendMaxFrameHeight>=0&&r>=0?Math.min(this._preferredSendMaxFrameHeight,r):r>=0?r:this._preferredSendMaxFrameHeight}},{key:"setPreferredSendMaxFrameHeight",value:function(e){if(this._preferredSendMaxFrameHeight=e,a.a.isSourceNameSignalingEnabled()){var t,n=[],r=_createForOfIteratorHelper(this._sourceSenderConstraints.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(this._propagateSendMaxFrameHeight(i))}}catch(o){r.e(o)}finally{r.f()}return Promise.allSettled(n)}return this._propagateSendMaxFrameHeight()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){var r=n(5),i=n(1),o=n(281),a=n(173),s=Object(r.getLogger)(e);t.a=function(){function e(t){_classCallCheck(this,e),this._sessions={},this._chatRoom=t,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(i.XMPPEvents.PRESENCE_RECEIVED,this.onPresence)}return _createClass(e,[{key:"getSession",value:function(e){return this._sessions[e]}},{key:"onPresence",value:function(e){var t=e.fromHiddenDomain,n=e.presence;a.a.isFromFocus(n)?this._handleFocusPresence(n):t&&this._handleJibriPresence(n)}},{key:"startRecording",value:function(e){var t=this,n=new o.a(Object.assign(Object.assign({},e),{connection:this._chatRoom.connection}));return n.start({appData:e.appData,broadcastId:e.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:e.streamId}).then((function(){return t.getSession(n.getID())||(t._addSession(n),t._emitSessionUpdate(n)),n})).catch((function(e){return t._emitSessionUpdate(n),Promise.reject(e)}))}},{key:"stopRecording",value:function(e){var t=this.getSession(e);return t?t.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error("Could not find session"))}},{key:"_addSession",value:function(e){this._sessions[e.getID()]=e}},{key:"_createSession",value:function(e,t,n){var r=new o.a({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:e,status:t});return this._addSession(r),r}},{key:"_emitSessionUpdate",value:function(e,t){this._chatRoom.eventEmitter.emit(i.XMPPEvents.RECORDER_STATE_CHANGED,e,t)}},{key:"_handleFocusPresence",value:function(e){var t=a.a.getFocusRecordingUpdate(e);if(t){var n=t.error,r=t.initiator,i=t.recordingMode,o=t.sessionID,u=t.status,c=this.getSession(o);c||"off"!==u?c&&c.getStatus()===u&&c.getError()===n?s.warn("Ignoring duplicate presence update: ",JSON.stringify(t)):(c||(c=this._createSession(o,u,i)),c.setStatus(u),n&&c.setError(n),this._emitSessionUpdate(c,r)):s.warn("Ignoring recording presence update","Received a new session with status off.")}}},{key:"_handleJibriPresence",value:function(e){var t=a.a.getHiddenDomainUpdate(e),n=t.liveStreamViewURL,r=t.mode,i=t.sessionID;if(i){var o=this.getSession(i);o||(o=this._createSession(i,"",r)),o.setLiveStreamViewURL(n),this._emitSessionUpdate(o)}else s.warn("Ignoring potential jibri presence due to no session id.")}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(5),i=n(2),o=n(4),a=n(75),s=n(15),u=n(10),c=Object(r.getLogger)(e),l=function(){function e(t){_classCallCheck(this,e),this._conference=t,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(a.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(i.USER_LEFT,this._clearUserData)}return _createClass(e,[{key:"_onRemoteAudioLevelReceived",value:function(e,t){var n=t.avgAudioLevels,r=this._numberOfRemoteAudioLevelsReceived[e]+1||0;if(this._numberOfRemoteAudioLevelsReceived[e]=r,!(-1!==this._reportedParticipants.indexOf(e)||e in this._audioProblemCandidates||n<=0||r<3)){var i=this._conference.getParticipantById(e);if(!(i&&i.getTracksByMediaType(o.a.AUDIO).length>0&&i.isAudioMuted())){var a=this._localAudioLevelCache[e];Array.isArray(a)&&!a.every((function(e){return 0===e}))||(this._audioProblemCandidates[e]={remoteAudioLevels:n,localAudioLevels:[]})}}}},{key:"_onLocalAudioLevelsReport",value:function(e,t){var n=this,r=t.avgAudioLevels;e===this._conference.getActivePeerConnection()&&(Object.keys(r).forEach((function(e){if(-1===n._reportedParticipants.indexOf(e)){var t=n._localAudioLevelCache[e];Array.isArray(t)?t.length>=2&&t.shift():n._localAudioLevelCache[e]=[],n._localAudioLevelCache[e].push(r[e])}})),Object.keys(this._audioProblemCandidates).forEach((function(e){var t=n._audioProblemCandidates[e],i=t.localAudioLevels,o=t.remoteAudioLevels;if(i.push(r[e]),2===i.length){if(i.every((function(e){return void 0===e||0===e}))){var a=JSON.stringify(i);u.a.sendAnalytics(Object(s.x)(e,a,o)),c.warn("A potential problem is detected with the audio output for participant ".concat(e,", local audio levels: ").concat(a,", remote audio levels: ").concat(o)),n._reportedParticipants.push(e),n._clearUserData(e)}delete n._audioProblemCandidates[e]}})))}},{key:"_clearUserData",value:function(e){delete this._localAudioLevelCache[e]}},{key:"dispose",value:function(){this._conference.off(a.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.off(i.USER_LEFT,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(5),i=n(78),o=n.n(i),a=n(2),s=n(4),u=n(22),c=n(75),l=n(15),d=n(6),f=n(10),h=Object(r.getLogger)(e),p=function(){function e(t){_classCallCheck(this,e),this.name=t,this.count=0,this.sum=0,this.samples=[]}return _createClass(e,[{key:"addNext",value:function(e){"number"!=typeof e?h.error("".concat(this.name," - invalid value for idx: ").concat(this.count),e):isNaN(e)||(this.sum+=e,this.samples.push(e),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(e){e[this.name+"_avg"]=this.calculate(),e[this.name+"_samples"]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),e}(),m=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.isP2P=n,this._n=r,this._sampleIdx=0,this._avgRTT=new p("rtt"),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=t,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(e,t){i.isP2P===e.isP2P&&i._calculateAvgStats(t)};var o=t._conference;o.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(e){return i._avgRemoteRTTMap.delete(e)},o.on(a.USER_LEFT,this._onUserLeft),this._onRemoteStatsUpdated=function(e,t){return i._processRemoteStats(e,t)},o.on(c.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated))}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e){if(d.a.supportsRTTStatistics()&&e.transport&&e.transport.length&&this._avgRTT.addNext(e.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(d.a.supportsRTTStatistics()){var t=this._avgRtpStatsReporter._conference,n={p2p:this.isP2P,conference_size:t.getParticipantCount()};if(e.transport&&e.transport.length&&Object.assign(n,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgRTT.appendReport(n),this.isP2P){var r=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(r)||(n.rtt_diff=this._avgRTT.calculate()-r)}else{var i=this._calculateAvgRemoteRTT(),o=this._avgRTT.calculate();this._avgEnd2EndRTT=o+i,isNaN(o)||isNaN(i)||(n.end2end_rtt_avg=this._avgEnd2EndRTT)}f.a.sendAnalytics(Object(l.K)(n))}this._resetAvgStats()}}else h.error("No stats")}},{key:"_calculateAvgRemoteRTT",value:function(){var e,t=0,n=0,r=_createForOfIteratorHelper(this._avgRemoteRTTMap.values());try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.calculate();isNaN(o)||(n+=o,t+=1,i.reset())}}catch(a){r.e(a)}finally{r.f()}return n/t}},{key:"_processRemoteStats",value:function(e,t){var n="number"==typeof t.jvbRTT,r=this._avgRemoteRTTMap.get(e);!r&&n&&(r=new p(e+"_stat_rtt"),this._avgRemoteRTTMap.set(e,r)),n?r.addNext(t.jvbRTT):r&&this._avgRemoteRTTMap.delete(e)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var e=this._avgRtpStatsReporter._conference;e.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(e.off(c.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated),e.off(a.USER_LEFT,this._onUserLeft))}}]),e}(),v=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._n=n,n>0?(h.info("Avg RTP stats will be calculated every ".concat(n," samples")),this._sampleIdx=0,this._conference=t,this._avgAudioBitrateUp=new p("bitrate_audio_upload"),this._avgAudioBitrateDown=new p("bitrate_audio_download"),this._avgVideoBitrateUp=new p("bitrate_video_upload"),this._avgVideoBitrateDown=new p("bitrate_video_download"),this._avgBandwidthUp=new p("bandwidth_upload"),this._avgBandwidthDown=new p("bandwidth_download"),this._avgPacketLossTotal=new p("packet_loss_total"),this._avgPacketLossUp=new p("packet_loss_upload"),this._avgPacketLossDown=new p("packet_loss_download"),this._avgRemoteFPS=new p("framerate_remote"),this._avgRemoteScreenFPS=new p("framerate_screen_remote"),this._avgLocalFPS=new p("framerate_local"),this._avgLocalScreenFPS=new p("framerate_screen_local"),this._avgRemoteCameraPixels=new p("pixels_remote"),this._avgRemoteScreenPixels=new p("pixels_screen_remote"),this._avgLocalCameraPixels=new p("pixels_local"),this._avgLocalScreenPixels=new p("pixels_screen_local"),this._avgCQ=new p("connection_quality"),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(e){r._calculateAvgStats(e),r._maybeSendTransportAnalyticsEvent(e)},t.on(c.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){h.debug("Resetting average stats calculation"),r._resetAvgStats(),r.jvbStatsMonitor._resetAvgStats(),r.p2pStatsMonitor._resetAvgStats()},t.on(a.P2P_STATUS,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(e,t){!0===t&&(h.info("Resetting JVB avg RTP stats"),r._resetAvgJvbStats())},t.on(a.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor=new m(this,!1,n),this.p2pStatsMonitor=new m(this,!0,n)):h.info("Avg RTP stats reports are disabled.")}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e){var t=this._conference.isP2PActive(),n=this._conference.getParticipantCount();if(t||!(n<2)){var r=e.bitrate,i=e.bandwidth,o=e.packetLoss,a=e.framerate,s=e.resolution;if(r)if(i)if(o)if(a)if(s){if(this._avgAudioBitrateUp.addNext(r.audio.upload),this._avgAudioBitrateDown.addNext(r.audio.download),this._avgVideoBitrateUp.addNext(r.video.upload),this._avgVideoBitrateDown.addNext(r.video.download),d.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(i.upload),this._avgBandwidthDown.addNext(i.download)),this._avgPacketLossUp.addNext(o.upload),this._avgPacketLossDown.addNext(o.download),this._avgPacketLossTotal.addNext(o.total),this._avgCQ.addNext(e.connectionQuality),a&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(a,!1,u.VideoType.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(a,!1,u.VideoType.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(a,!0,u.VideoType.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(a,!0,u.VideoType.DESKTOP))),s&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(s,!1,u.VideoType.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(s,!1,u.VideoType.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(s,!0,u.VideoType.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(s,!0,u.VideoType.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var c={p2p:t,conference_size:n};e.transport&&e.transport.length&&Object.assign(c,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgAudioBitrateUp.appendReport(c),this._avgAudioBitrateDown.appendReport(c),this._avgVideoBitrateUp.appendReport(c),this._avgVideoBitrateDown.appendReport(c),d.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(c),this._avgBandwidthDown.appendReport(c)),this._avgPacketLossUp.appendReport(c),this._avgPacketLossDown.appendReport(c),this._avgPacketLossTotal.appendReport(c),this._avgRemoteFPS.appendReport(c),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(c),this._avgLocalFPS.appendReport(c),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(c),this._avgRemoteCameraPixels.appendReport(c),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(c),this._avgLocalCameraPixels.appendReport(c),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(c),this._avgCQ.appendReport(c),f.a.sendAnalytics(Object(l.K)(c)),this._resetAvgStats()}}else h.error("No resolution");else h.error('No "framerate"');else h.error('No "packetloss"');else h.error('No "bandwidth"');else h.error('No "bitrate"')}}else h.error("No stats")}},{key:"_calculateAvgVideoPixels",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];if(t?u===o:u!==o){var c=t?null:this._conference.getParticipantById(u),l=e[u];if((t||c)&&l){var d=this._calculatePeerAvgVideoPixels(l,c,n);isNaN(d)||(r+=d,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoPixels",value:function(e,t,n){var r=Object.keys(e).map((function(e){return Number(e)})),i=null,o=this._conference.getActivePeerConnection();t?(i=t.getTracksByMediaType(s.a.VIDEO))&&(r=r.filter((function(e){return i.find((function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n}))}))):(i=this._conference.getLocalTracks(s.a.VIDEO),r=r.filter((function(e){return i.find((function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n}))})));var a,u=0,c=0,l=_createForOfIteratorHelper(r);try{for(l.s();!(a=l.n()).done;){var d=a.value,f=Number(e[d].height)*Number(e[d].width);!isNaN(f)&&f>0&&(u+=f,c+=1)}}catch(h){l.e(h)}finally{l.f()}return u/c}},{key:"_calculateAvgVideoFps",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];if(t?u===o:u!==o){var c=t?null:this._conference.getParticipantById(u),l=e[u];if((t||c)&&l){var d=this._calculatePeerAvgVideoFps(l,c,n);isNaN(d)||(r+=d,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoFps",value:function(e,t,n){var r=Object.keys(e).map((function(e){return Number(e)})),i=null,o=this._conference.getActivePeerConnection();t?(i=t.getTracksByMediaType(s.a.VIDEO))&&(r=r.filter((function(e){return i.find((function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n}))}))):(i=this._conference.getLocalTracks(s.a.VIDEO),r=r.filter((function(e){return i.find((function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n}))})));var a,u=0,c=0,l=_createForOfIteratorHelper(r);try{for(l.s();!(a=l.n()).done;){var d=a.value,f=Number(e[d]);!isNaN(f)&&f>0&&(u+=f,c+=1)}}catch(h){l.e(h)}finally{l.f()}return u/c}},{key:"_maybeSendTransportAnalyticsEvent",value:function(e){if(e&&e.transport&&e.transport.length){var t={p2p:e.transport[0].p2p,local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type};this._cachedTransportStats&&o()(t,this._cachedTransportStats)||(this._cachedTransportStats=t,f.a.sendAnalytics(Object(l.M)(t)))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(a.P2P_STATUS,this._onP2PStatusChanged),this._conference.off(c.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._conference.off(a.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(1),o=n(242),a=n.n(o),s=function(){function e(t){_classCallCheck(this,e),this.stats={users:{},dominantSpeakerId:null};var n=t.myUserId();this.stats.users[n]=new a.a(n,null,!0),this.conference=t,t.addEventListener(r.DOMINANT_SPEAKER_CHANGED,this._onDominantSpeaker.bind(this)),t.addEventListener(r.USER_JOINED,this._onUserJoin.bind(this)),t.addEventListener(r.USER_LEFT,this._onUserLeave.bind(this)),t.addEventListener(r.DISPLAY_NAME_CHANGED,this._onDisplayNameChange.bind(this)),t.addEventListener(r.FACE_LANDMARK_ADDED,this._onFaceLandmarkAdd.bind(this)),t.xmpp&&t.xmpp.addListener(i.XMPPEvents.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return _createClass(e,[{key:"_onDominantSpeaker",value:function(e){var t=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[e];t&&t.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=e}},{key:"_onUserJoin",value:function(e,t){t.isHidden()||this.stats.users[e]||(this.stats.users[e]=new a.a(e,t.getDisplayName()))}},{key:"_onUserLeave",value:function(e){var t=this.stats.users[e];t&&t.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(e,t){var n=this.stats.users[e];n&&n.setDisplayName(t)}},{key:"_onFaceLandmarkAdd",value:function(e,t){var n=this.stats.users[e];n&&t.faceExpression&&n.addFaceExpression(t.faceExpression,t.duration)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(e){for(var t in e){var n=void 0,r=this.conference.getParticipantById(t);r&&r.isHidden()||(this.stats.users[t]?(n=this.stats.users[t]).getDisplayName()||n.setDisplayName(e[t].displayName):(n=new a.a(t,e[t].displayName),this.stats.users[t]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=e[t].totalDominantSpeakerTime,n.setFaceExpressions(e[t].faceExpressions)}}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(10),i=n(5).getLogger(e);function o(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processVersions.bind(this))}o.prototype.processVersions=function(e,t,n){var o=this;if(this.conference.isFocus(n)){var a=[];e.children.forEach((function(e){var t=e.attributes.name,n=e.value;o.versions[t]!==n&&(o.versions[t]=n,i.info("Got ".concat(t," version: ").concat(n)),a.push({id:"component_version",component:t,version:n}))})),a.length>0&&r.a.sendLog(JSON.stringify(a))}else i.warn("Received versions not from the focus user: "+e,n)},o.prototype.getComponentVersion=function(e){return this.versions[e]}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(5),i=n(1),o=n(451),a=n(54),s=Object(r.getLogger)(e),u=function(){function e(t){_classCallCheck(this,e),this.chatRoom=t,this.eventEmitter=t.eventEmitter,s.debug("creating VideoSIPGW"),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),t.addPresenceListener("jibri-sip-call-state",this.handleJibriSIPState.bind(this))}return _createClass(e,[{key:"handleJibriSIPState",value:function(e){var t=e.attributes;if(t){s.debug("Handle video sip gw state : ",t);var n=t.state;if(n!==this.state)switch(n){case a.STATE_ON:case a.STATE_OFF:case a.STATE_PENDING:case a.STATE_RETRYING:case a.STATE_FAILED:var r=t.sipaddress;if(!r)return;var i=this.sessions[r];i?i.setState(n,t.failure_reason):s.warn("Video SIP GW session not found:",r)}}}},{key:"createVideoSIPGWSession",value:function(e,t){if(this.sessions[e])return s.warn("There was already a Video SIP GW session for address",e),new Error(a.ERROR_SESSION_EXISTS);var n=new o.a(e,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[e]=n,n}},{key:"sessionStateChanged",value:function(e){var t=e.address;if(e.newState===a.STATE_OFF||e.newState===a.STATE_FAILED){var n=this.sessions[t];if(!n)return void s.error("Missing Video SIP GW session with address:",t);n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t]}this.eventEmitter.emit(i.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,e)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(5),i=n(3),o=n(46),a=n(54),s=Object(r.getLogger)(e),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).sipAddress=e,o.displayName=r,o.chatRoom=i,o.state=void 0,o}return _createClass(n,[{key:"stop",value:function(){this.state!==a.STATE_OFF&&this.state!==a.STATE_FAILED?this._sendJibriIQ("stop"):s.warn("Video SIP GW session already stopped or failed!")}},{key:"start",value:function(){this.state!==a.STATE_ON&&this.state!==a.STATE_OFF&&this.state!==a.STATE_PENDING&&this.state!==a.STATE_RETRYING?this._sendJibriIQ("start"):s.warn("Video SIP GW session already started!")}},{key:"setState",value:function(e,t){if(e!==this.state){var n=this.state;this.state=e,this.eventEmitter.emit("STATE_CHANGED",{address:this.sipAddress,failureReason:t,oldState:n,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(e){this.addListener("STATE_CHANGED",e)}},{key:"removeStateListener",value:function(e){this.removeListener("STATE_CHANGED",e)}},{key:"_sendJibriIQ",value:function(e){var t=this,n={};n.baseUrl=window.location.origin,n.token=this.chatRoom.connection.emuc.xmpp.token;var r={xmlns:"http://jitsi.org/protocol/jibri",action:e,app_data:JSON.stringify(n),sipaddress:this.sipAddress};r.displayname=this.displayName;var o=Object(i.$iq)({to:this.chatRoom.focusMucJid,type:"set"}).c("jibri",r).up();s.debug(e+" video SIP GW session",o.nodeTree),this.chatRoom.connection.sendIQ(o,(function(){}),(function(n){s.error("Failed to ".concat(e," video SIP GW session, error: "),n),t.setState(a.STATE_FAILED)}))}}]),n}(o.a)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(10),o={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}},a={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}};function s(e,t){var n=Date.now(),r=e.localTracksDuration,i=r.audio,o=r.video,a=o.camera,s=o.desktop,u=t.getLocalTracks(),c=u.find((function(e){return"audio"===e.getType()})),l=u.find((function(e){return"video"===e.getType()})),d=Object.assign({},r);if(c&&!c.muted&&t?-1===i.startedTime&&(d.audio.startedTime=n):d.audio={startedTime:-1,value:i.value+(-1===i.startedTime?0:n-i.startedTime)},l&&!l.muted&&t){var f=l.videoType;-1===o[f].startedTime&&(d.video[f].startedTime=n)}else d.video={camera:{startedTime:-1,value:a.value+(-1===a.startedTime?0:n-a.startedTime)},desktop:{startedTime:-1,value:s.value+(-1===s.startedTime?0:n-s.startedTime)}};return Object.assign(Object.assign({},r),d)}var u=_createClass((function e(t){_classCallCheck(this,e),t.addEventListener(r.CONFERENCE_JOINED,(function(){a={localTracksDuration:Object.assign(Object.assign({},s(o,t)),{conference:{startedTime:Date.now(),value:0}})}})),t.addEventListener(r.TRACK_UPDATED,(function(){var e=a.localTracksDuration;-1!==e.conference.startedTime&&(a={localTracksDuration:Object.assign(Object.assign({},e),s(a,t))})})),t.addEventListener(r.TRACK_ADDED,(function(){var e=a.localTracksDuration;-1!==e.conference.startedTime&&(a={localTracksDuration:Object.assign(Object.assign({},e),s(a,t))})})),t.addEventListener(r.TRACK_REMOVED,(function(){var e=a.localTracksDuration;-1!==e.conference.startedTime&&(a={localTracksDuration:Object.assign(Object.assign({},e),s(a,t))})})),t.addEventListener(r.CONFERENCE_LEFT,(function(){var e=a.localTracksDuration,n=Object.assign(Object.assign({},s(a,t)),{conference:{startedTime:-1,value:Date.now()-e.conference.startedTime}});i.a.sendAnalytics(function(e){var t=e.audio,n=e.video,r=e.conference,i=n.camera,o=n.desktop;return{action:"local.tracks.durations",attributes:{audio:t.value,camera:i.value,conference:r.value,desktop:o.value}}}(n))}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(5),i=n(30),o=n(28),a=n(10),s=Object(r.getLogger)(e);function u(){return new Promise((function(e){o.a.enumerateDevices((function(t){var n,r=t.filter((function(e){return"audioinput"===e.kind})),u=[],l=_createForOfIteratorHelper(r);try{for(l.s();!(n=l.n()).done;){var d=n.value,f=o.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:d.deviceId}).then((function(e){var t=e[0],n=t.getOriginalStream();return a.a.startLocalStats(n,t.setAudioLevel.bind(t)),t.addEventListener(i.LOCAL_TRACK_STOPPED,(function(){a.a.stopLocalStats(n)})),t}));u.push(f)}}catch(h){l.e(h)}finally{l.f()}Promise.allSettled(u).then((function(t){var n,r=t.filter((function(e){return"fulfilled"===e.status})),o=t.filter((function(e){return"rejected"===e.status})),a=r.map((function(e){return e.value})),u=o.map((function(e){return e.value})),l=_createForOfIteratorHelper(u);try{for(l.s();!(n=l.n()).done;){var d=n.value;s.error("Failed to acquire audio device with error: ",d)}}catch(h){l.e(h)}finally{l.f()}var f,p=_createForOfIteratorHelper(a);try{var m=function(){var t=f.value;t.on(i.TRACK_AUDIO_LEVEL_CHANGED,(function(n){n>.008&&(c(a),e({deviceId:t.deviceId,deviceLabel:t.track.label}))}))};for(p.s();!(f=p.n()).done;)m()}catch(h){p.e(h)}finally{p.f()}setTimeout((function(){c(a),e({deviceId:"",deviceLabel:""})}),3e3)}))}))}))}function c(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;)t.value.stopStream()}catch(r){n.e(r)}finally{n.f()}}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(5),i=n(3),o=n(4),a=n(22),s=n(28),u=n(455),c=n(80),l=Object(r.getLogger)(e),d=function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.jitsiConnection,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["jitsiConnection"]);this._options=Object.assign({pcConfig:n&&n.xmpp.connection.jingle.p2pIceConfig},r),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return _createClass(e,[{key:"processMessage",value:function(e){var t=e.from;if(t)if(this._peerConnection&&this._peerConnection.getPeerJid()!==t)this._onFatalError(t,c.a.CONNECTION_ERROR,"rejected");else{var n=this._convertStringToXML(e.data.iq),r=n&&n.find("jingle"),i=r&&r.attr("action");i===c.a.INITIATE&&(this._peerConnection=this._createPeerConnection(t,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(r),i!==c.a.CONNECTION_ERROR&&i!==c.a.UNAVAILABLE&&i!==c.a.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(e,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(t)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(e){try{var t=(new DOMParser).parseFromString(e,"text/xml");return $(t)}catch(e){return l.error("Attempted to convert incorrectly formatted xml"),null}}},{key:"_createPeerConnection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Cannot create ProxyConnectionPC without a peer.");var n=Object.assign({pcConfig:this._options.pcConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:e},t);return new u.a(n)}},{key:"_onFatalError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";l.error("Received a proxy connection error",e,t,n);var r=Object(i.$iq)({to:e,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:t}).c("details").t(n).up();this._onSendMessage(e,r),this._peerConnection&&this._peerConnection.getPeerJid()===e&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(e){if(!this._options.onRemoteStream)return l.error("Remote track received without callback."),void e.dispose();var t,n=e.isVideoTrack();n&&(t=this._options.convertVideoToDesktop?a.VideoType.DESKTOP:a.VideoType.CAMERA);var r=e.getOriginalStream(),i=s.a.createLocalTracks([{deviceId:"proxy:"+this._peerConnection.getPeerJid(),mediaType:n?o.a.VIDEO:o.a.AUDIO,sourceType:"proxy",stream:r,track:r.getVideoTracks()[0],videoType:t}]);this._options.onRemoteStream(i[0])}},{key:"_onSendMessage",value:function(e,t){if(this._options.onSendMessage)try{var n=(new XMLSerializer).serializeToString(t.nodeTree||t);this._options.onSendMessage(e,{iq:n})}catch(e){l.error("Attempted to send an incorrectly formatted iq.")}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(5),i=n(11),o=n(1),a=n(28),s=n(189),u=n(238),c=n(52),l=n(80),d=Object(r.getLogger)(e),f=function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object.assign({pcConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},t),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return _createClass(e,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(e){switch(e.attr("action")){case l.a.ACCEPT:this._onSessionAccept(e);break;case l.a.INITIATE:this._onSessionInitiate(e);break;case l.a.TERMINATE:this._onSessionTerminate(e);break;case l.a.TRANSPORT_INFO:this._onTransportInfo(e)}}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(e),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(e))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var e=this,t={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},n=Object.assign({iceServers:c.a},this._options.pcConfig),r={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(t){switch(t){case o.XMPPEvents.CONNECTION_ICE_FAILED:case o.XMPPEvents.CONNECTION_FAILED:e._onError(l.a.CONNECTION_ERROR,t)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){},supportsRestartByTerminate:function(){return!1}};this._rtc=new a.a({myUserId:function(){return""}},{}),this._rtc.addListener(i.default.REMOTE_TRACK_ADDED,this._onRemoteStream);var d=new s.a(void 0,void 0,this._options.peerJid,t,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},n,!0,this._options.isInitiator),f=new u.a;return f.setChatRoom(r),d.initialize(r,this._rtc,f,{}),d}},{key:"_onError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._options.onError(this._options.peerJid,e,t)}},{key:"_onRemoteStream",value:function(e){this._tracks.push(e),this._options.onRemoteStream(e)}},{key:"_onSendMessage",value:function(e){this._options.onSendMessage(this._options.peerJid,e)}},{key:"_onSessionAccept",value:function(e){this._peerConnection?this._peerConnection.setAnswer(e):d.error("Received an answer when no peer connection exists.")}},{key:"_onSessionInitiate",value:function(e){var t=this;this._peerConnection?d.error("Received an offer when an offer was already sent."):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(e,(function(){}),(function(){return t._onError(t._options.peerJid,l.a.CONNECTION_ERROR,"session initiate error")})))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach((function(e){return e.dispose()})),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(i.default.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(e){this._peerConnection.addIceCandidates(e)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";t.a={error:{BUSY:"busy",ERROR:"error",RESOURCE_CONSTRAINT:"resource-constraint",UNEXPECTED_REQUEST:"unexpected-request",SERVICE_UNAVAILABLE:"service-unavailable"},mode:{FILE:"file",STREAM:"stream"},status:{OFF:"off",ON:"on",PENDING:"pending"}}},function(e,t,n){"use strict";var r=n(34),i=n.n(r),o=n(6),a=n(70),s=n(165),u=n.n(s),c=n(123),l=new i.a,d=!1,f=null;t.a={init:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=2;break}throw new Error("Precall Test already initialized");case 2:if(n=e.callStatsID,r=e.callStatsSecret,i=e.disableThirdPartyRequests,n&&r&&!i){t.next=5;break}throw new Error("Callstats is disabled");case 5:return t.next=7,function(e){if(!o.a.isReactNative())return new Promise((function(t){u.a.loadScript(e.callStatsCustomScriptUrl||c.a,!0,!0,void 0,t)}))}(e);case 7:return f=new window.callstats,t.abrupt("return",function(e){return new Promise((function(t,n){var r=e.callStatsID,i=e.callStatsSecret,o=e.statisticsId||e.statisticsDisplayName||a.a.callStatsUserName;f.initialize(r,i,o,(function(e,r){"success"===e?(f.on("preCallTestResults",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.emit.apply(l,["preCallTestResults"].concat(t))})),d=!0,t()):n({status:e,message:r})}),null,{disablePrecalltest:!0})}))}(e));case 9:case"end":return t.stop()}}),t)})))},execute:function(){return d?new Promise((function(e,t){l.on("preCallTestResults",(function(n,r){"success"===n?e(r):t({status:n,payload:r})})),f.makePrecallTest()})):Promise.reject("uninitialized")}}},function(e,t){e.exports={getTokenAuthUrl:function(e,t,n){return"string"!=typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(5),i=n(235),o=Object(r.getLogger)(e),a=function(){function e(){_classCallCheck(this,e),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return _createClass(e,[{key:"addMediaStream",value:function(e){e.getAudioTracks()||o.warn("Added MediaStream doesn't contain audio tracks."),this._streamsToMix.push(e)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=Object(i.a)(),!this._streamsToMix.length)return o.warn("No MediaStream's added to AudioMixer, nothing will happen."),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();var e,t=_createForOfIteratorHelper(this._streamsToMix);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=this._audioContext.createMediaStreamSource(n);r.connect(this._mixedMSD),this._streamMSSArray.push(r)}}catch(a){t.e(a)}finally{t.f()}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];var e,t=_createForOfIteratorHelper(this._streamMSSArray);try{for(t.s();!(e=t.n()).done;)e.value.disconnect()}catch(n){t.e(n)}finally{t.f()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){t.a=function(t){var n;(t=void 0!==(t=t||{})?t:{}).ready=new Promise((function(e,t){n=e}));var r,i={};for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);var o,a,s=[];o="object"==typeof window,a="function"==typeof importScripts,"object"==typeof e&&"object"==typeof e.versions&&e.versions.node;var u,c="";(o||a)&&(a?c=self.location.href:document.currentScript&&(c=document.currentScript.src),c=0!==(c="https://sdk.sariska.io/").indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",a&&(u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var l,d,f=t.print||console.log.bind(console),h=t.printErr||console.warn.bind(console);for(r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);i=null,t.arguments&&(s=t.arguments),t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(l=t.wasmBinary),t.noExitRuntime&&t.noExitRuntime,"object"!=typeof WebAssembly&&h("no native wasm support detected");var p,m,v,g=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),_=!1;function b(e){p=e,t.HEAP8=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=v=new Int32Array(e),t.HEAPU8=m=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var y=t.INITIAL_MEMORY||16777216;function E(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?t.dynCall_v(r):t.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n(t)}}(d=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:y/65536,maximum:32768}))&&(p=d.buffer),y=p.byteLength,b(p),v[24364]=5340496;var S=[],D=[],w=[],C=[],T=0,A=null,k=null;function O(e){throw t.onAbort&&t.onAbort(e),f(e+=""),h(e),_=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function R(e){return t=e,n="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(n):0===t.indexOf(n);var t,n}t.preloadedImages={},t.preloadedAudios={};var M,I="rnnoise.wasm";function P(){try{if(l)return new Uint8Array(l);if(u)return u(I);throw"both async and sync fetching of the wasm failed"}catch(e){O(e)}}function N(e){try{return d.grow(e-p.byteLength+65535>>>16),b(d.buffer),1}catch(e){}}R(I)||(M=I,I=t.locateFile?t.locateFile(M,c):c+M),D.push({func:function(){L()}});var x,F={a:function(e,t,n){m.copyWithin(e,t,t+n)},b:function(e){e>>>=0;var t=m.length;if(e>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),N(Math.min(2147483648,((n=Math.max(16777216,e,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},memory:d,table:g},L=(function(){var e={a:F};function n(e,n){var r=e.exports;t.asm=r,function(e){if(T--,t.monitorRunDependencies&&t.monitorRunDependencies(T),0==T&&(null!==A&&(clearInterval(A),A=null),k)){var n=k;k=null,n()}}()}function r(e){n(e.instance)}function i(t){return(l||!o&&!a||"function"!=typeof fetch?new Promise((function(e,t){e(P())})):fetch(I,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+I+"'";return e.arrayBuffer()})).catch((function(){return P()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){h("failed to asynchronously prepare wasm: "+e),O(e)}))}if(T++,t.monitorRunDependencies&&t.monitorRunDependencies(T),t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}!function(){if(l||"function"!=typeof WebAssembly.instantiateStreaming||R(I)||"function"!=typeof fetch)return i(r);fetch(I,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),i(r)}))}))}()}(),t.___wasm_call_ctors=function(){return(L=t.___wasm_call_ctors=t.asm.c).apply(null,arguments)});function j(e){function r(){x||(x=!0,t.calledRun=!0,_||(E(D),E(w),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),C.unshift(e);var e;E(C)}()))}e=e||s,T>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),S.unshift(e);var e;E(S)}(),T>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(t._rnnoise_init=function(){return(t._rnnoise_init=t.asm.d).apply(null,arguments)},t._rnnoise_create=function(){return(t._rnnoise_create=t.asm.e).apply(null,arguments)},t._malloc=function(){return(t._malloc=t.asm.f).apply(null,arguments)},t._rnnoise_destroy=function(){return(t._rnnoise_destroy=t.asm.g).apply(null,arguments)},t._free=function(){return(t._free=t.asm.h).apply(null,arguments)},t._rnnoise_process_frame=function(){return(t._rnnoise_process_frame=t.asm.i).apply(null,arguments)},k=function e(){x||j(),x||(k=e)},t.run=j,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return j(),t.ready}}).call(this,n(45))},function(e,t,n){"use strict";e.exports=function(e,t,n,a,u,c){if(!i(e)||!i(t)||n&&!i(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==a*u*4)throw new Error("Image data size does not match width/height.");c=Object.assign({},r,c);for(var l=a*u,d=new Uint32Array(e.buffer,e.byteOffset,l),p=new Uint32Array(t.buffer,t.byteOffset,l),m=!0,v=0;v<l;v++)if(d[v]!==p[v]){m=!1;break}if(m){if(n&&!c.diffMask)for(var g=0;g<l;g++)h(e,4*g,c.alpha,n);return 0}for(var _=35215*c.threshold*c.threshold,b=0,y=0;y<u;y++)for(var E=0;E<a;E++){var S=4*(y*a+E),D=s(e,t,S,S);Math.abs(D)>_?c.includeAA||!o(e,E,y,a,u,t)&&!o(t,E,y,a,u,e)?(n&&f.apply(void 0,[n,S].concat(_toConsumableArray(D<0&&c.diffColorAlt||c.diffColor))),b++):n&&!c.diffMask&&f.apply(void 0,[n,S].concat(_toConsumableArray(c.aaColor))):n&&(c.diffMask||h(e,S,c.alpha,n))}return b};var r={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function i(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function o(e,t,n,r,i,o){for(var u,c,l,d,f=Math.max(t-1,0),h=Math.max(n-1,0),p=Math.min(t+1,r-1),m=Math.min(n+1,i-1),v=4*(n*r+t),g=t===f||t===p||n===h||n===m?1:0,_=0,b=0,y=f;y<=p;y++)for(var E=h;E<=m;E++)if(y!==t||E!==n){var S=s(e,e,v,4*(E*r+y),!0);if(0===S){if(++g>2)return!1}else S<_?(_=S,u=y,c=E):S>b&&(b=S,l=y,d=E)}return 0!==_&&0!==b&&(a(e,u,c,r,i)&&a(o,u,c,r,i)||a(e,l,d,r,i)&&a(o,l,d,r,i))}function a(e,t,n,r,i){for(var o=Math.max(t-1,0),a=Math.max(n-1,0),s=Math.min(t+1,r-1),u=Math.min(n+1,i-1),c=4*(n*r+t),l=t===o||t===s||n===a||n===u?1:0,d=o;d<=s;d++)for(var f=a;f<=u;f++)if(d!==t||f!==n){var h=4*(f*r+d);if(e[c]===e[h]&&e[c+1]===e[h+1]&&e[c+2]===e[h+2]&&e[c+3]===e[h+3]&&l++,l>2)return!0}return!1}function s(e,t,n,r,i){var o=e[n+0],a=e[n+1],s=e[n+2],f=e[n+3],h=t[r+0],p=t[r+1],m=t[r+2],v=t[r+3];if(f===v&&o===h&&a===p&&s===m)return 0;f<255&&(o=d(o,f/=255),a=d(a,f),s=d(s,f)),v<255&&(h=d(h,v/=255),p=d(p,v),m=d(m,v));var g=u(o,a,s),_=u(h,p,m),b=g-_;if(i)return b;var y=c(o,a,s)-c(h,p,m),E=l(o,a,s)-l(h,p,m),S=.5053*b*b+.299*y*y+.1957*E*E;return g>_?-S:S}function u(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function c(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function l(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function d(e,t){return 255+(e-255)*t}function f(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function h(e,t,n,r){var i=d(u(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);f(r,t,i,i,i)}},function(e,t,n){(function(t,n){var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||t,function(e){var t,i,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,n){t=e,i=n}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var u,c,l,d=[],f="./this.program",h=function(e,t){throw t};c="object"==typeof window,l="function"==typeof importScripts,u="object"==typeof n&&"object"==typeof n.versions&&"string"==typeof n.versions.node;var p,m,v="";c||u||l?(c||l)&&(l?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",l&&(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}):(m=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):("object"==typeof(t=read(e,"binary"))||j("Assertion failed: "+void 0),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:void 0!==arguments&&(d=arguments),"function"==typeof quit&&(h=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var g,_,b,y=o.print||console.log.bind(console),E=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&(d=o.arguments),o.thisProgram&&(f=o.thisProgram),o.quit&&(h=o.quit),o.wasmBinary&&(g=o.wasmBinary),o.noExitRuntime&&(_=o.noExitRuntime),"object"!=typeof WebAssembly&&j("no native wasm support detected");var S,D,w,C,T=!1,A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&A)return A.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function O(e){S=e,o.HEAP8=D=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=C=new Int32Array(e),o.HEAPU8=w=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var R,M=[],I=[],P=[],N=[];I.push({func:function(){Z()}});var x=0,F=null,L=null;function j(e){o.onAbort&&o.onAbort(e),E(e+=""),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function B(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}function U(e){return B(e,"data:application/octet-stream;base64,")}function H(e){return B(e,"file://")}o.preloadedImages={},o.preloadedAudios={};var V,q="https://sdk.sariska.io/tflite.wasm";function G(e){try{if(e==q&&g)return new Uint8Array(g);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){j(e)}}function J(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?R.get(n)():R.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}function z(e){return C[ee()>>2]=e,e}function K(e){try{return b.grow(e-S.byteLength+65535>>>16),O(b.buffer),1}catch(e){}}U(q),V=u?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var W={};function $(){if(!$.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(var t in W)e[t]=W[t];var n=[];for(var t in e)n.push(t+"="+e[t]);$.strings=n}return $.strings}var Y,X={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=X.buffers[e];0===t||10===t?((1===e?y:E)(k(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return X.varargs+=4,C[X.varargs-4>>2]},getStr:function(e){return function(e,t){return e?k(w,e,void 0):""}(e)},get64:function(e,t){return e}},Q={a:function(){j()},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return z(28),-1;n=V()}return C[t>>2]=n/1e3|0,C[t+4>>2]=n%1e3*1e3*1e3|0,0},i:function(e,t){j("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(e,t){j("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,t,n){w.copyWithin(e,t,t+n)},m:function(e){e>>>=0;var t=w.length;if(e>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),K(Math.min(2147483648,((n=Math.max(16777216,e,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},o:function(e){for(var t=V();V()-t<e;);},p:function(e,t){var n=0;return $().forEach((function(r,i){var o=t+n;C[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)D[t++>>0]=e.charCodeAt(r);D[t>>0]=0}(r,o),n+=r.length+1})),0},g:function(e,t){var n=$();C[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),C[t>>2]=r,0},j:function(e){!function(e,t){_||(o.onExit&&o.onExit(e),T=!0),h(e,new te(e))}(e)},h:function(e){return 0},k:function(e,t,n,r,i){},c:function(e,t,n,r){for(var i=0,o=0;o<n;o++){for(var a=C[t+8*o>>2],s=C[t+(8*o+4)>>2],u=0;u<s;u++)X.printChar(e,w[a+u]);i+=s}return C[r>>2]=i,0},d:function(){return 6},f:function(){return 28},b:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return z(28),-1}},Z=(function(){var e={a:Q};function t(e,t){var n=e.exports;o.asm=n,O((b=o.asm.q).buffer),R=o.asm.D,function(e){if(x--,o.monitorRunDependencies&&o.monitorRunDependencies(x),0==x&&(null!==F&&(clearInterval(F),F=null),L)){var t=L;L=null,t()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(c||l)){if("function"==typeof fetch&&!H(q))return fetch(q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+q+"'";return e.arrayBuffer()})).catch((function(){return G(q)}));if(p)return new Promise((function(e,t){p(q,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return G(q)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),j(e)}))}if(x++,o.monitorRunDependencies&&o.monitorRunDependencies(x),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||U(q)||H(q)||"function"!=typeof fetch?r(n):fetch(q,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),o.___wasm_call_ctors=function(){return(Z=o.___wasm_call_ctors=o.asm.r).apply(null,arguments)}),ee=(o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o.___errno_location=function(){return(ee=o.___errno_location=o.asm.E).apply(null,arguments)});function te(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ne(e){function n(){Y||(Y=!0,o.calledRun=!0,T||(J(I),J(P),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),N.unshift(e);var e;J(N)}()))}e=e||d,x>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),M.unshift(e);var e;J(M)}(),x>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),n()}),1)):n()))}if(L=function e(){Y||ne(),Y||(L=e)},o.run=ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return _=!0,ne(),e.ready});e.exports=i}).call(this,"/index.js",n(45))},function(e,t,n){(function(t,n){var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||t,function(e){var t,i,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,n){t=e,i=n}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var u,c,l,d=[],f="./this.program",h=function(e,t){throw t};c="object"==typeof window,l="function"==typeof importScripts,u="object"==typeof n&&"object"==typeof n.versions&&"string"==typeof n.versions.node;var p,m,v="";c||u||l?(c||l)&&(l?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",l&&(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}):(m=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):("object"==typeof(t=read(e,"binary"))||j("Assertion failed: "+void 0),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:void 0!==arguments&&(d=arguments),"function"==typeof quit&&(h=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var g,_,b,y=o.print||console.log.bind(console),E=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&(d=o.arguments),o.thisProgram&&(f=o.thisProgram),o.quit&&(h=o.quit),o.wasmBinary&&(g=o.wasmBinary),o.noExitRuntime&&(_=o.noExitRuntime),"object"!=typeof WebAssembly&&j("no native wasm support detected");var S,D,w,C,T=!1,A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&A)return A.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function O(e){S=e,o.HEAP8=D=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=C=new Int32Array(e),o.HEAPU8=w=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var R,M=[],I=[],P=[],N=[];I.push({func:function(){Z()}});var x=0,F=null,L=null;function j(e){o.onAbort&&o.onAbort(e),E(e+=""),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function B(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}function U(e){return B(e,"data:application/octet-stream;base64,")}function H(e){return B(e,"file://")}o.preloadedImages={},o.preloadedAudios={};var V,q="https://sdk.sariska.io/tflite-simd.wasm";function G(e){try{if(e==q&&g)return new Uint8Array(g);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){j(e)}}function J(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?R.get(n)():R.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}function z(e){return C[ee()>>2]=e,e}function K(e){try{return b.grow(e-S.byteLength+65535>>>16),O(b.buffer),1}catch(e){}}U(q),V=u?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var W={};function $(){if(!$.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(var t in W)e[t]=W[t];var n=[];for(var t in e)n.push(t+"="+e[t]);$.strings=n}return $.strings}var Y,X={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=X.buffers[e];0===t||10===t?((1===e?y:E)(k(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return X.varargs+=4,C[X.varargs-4>>2]},getStr:function(e){return function(e,t){return e?k(w,e,void 0):""}(e)},get64:function(e,t){return e}},Q={a:function(){j()},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return z(28),-1;n=V()}return C[t>>2]=n/1e3|0,C[t+4>>2]=n%1e3*1e3*1e3|0,0},i:function(e,t){j("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(e,t){j("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,t,n){w.copyWithin(e,t,t+n)},m:function(e){e>>>=0;var t=w.length;if(e>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),K(Math.min(2147483648,((n=Math.max(16777216,e,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},o:function(e){for(var t=V();V()-t<e;);},p:function(e,t){var n=0;return $().forEach((function(r,i){var o=t+n;C[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)D[t++>>0]=e.charCodeAt(r);D[t>>0]=0}(r,o),n+=r.length+1})),0},g:function(e,t){var n=$();C[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),C[t>>2]=r,0},j:function(e){!function(e,t){_||(o.onExit&&o.onExit(e),T=!0),h(e,new te(e))}(e)},h:function(e){return 0},k:function(e,t,n,r,i){},c:function(e,t,n,r){for(var i=0,o=0;o<n;o++){for(var a=C[t+8*o>>2],s=C[t+(8*o+4)>>2],u=0;u<s;u++)X.printChar(e,w[a+u]);i+=s}return C[r>>2]=i,0},d:function(){return 6},f:function(){return 28},b:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return z(28),-1}},Z=(function(){var e={a:Q};function t(e,t){var n=e.exports;o.asm=n,O((b=o.asm.q).buffer),R=o.asm.D,function(e){if(x--,o.monitorRunDependencies&&o.monitorRunDependencies(x),0==x&&(null!==F&&(clearInterval(F),F=null),L)){var t=L;L=null,t()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(c||l)){if("function"==typeof fetch&&!H(q))return fetch(q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+q+"'";return e.arrayBuffer()})).catch((function(){return G(q)}));if(p)return new Promise((function(e,t){p(q,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return G(q)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),j(e)}))}if(x++,o.monitorRunDependencies&&o.monitorRunDependencies(x),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||U(q)||H(q)||"function"!=typeof fetch?r(n):fetch(q,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),o.___wasm_call_ctors=function(){return(Z=o.___wasm_call_ctors=o.asm.r).apply(null,arguments)}),ee=(o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o.___errno_location=function(){return(ee=o.___errno_location=o.asm.E).apply(null,arguments)});function te(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ne(e){function n(){Y||(Y=!0,o.calledRun=!0,T||(J(I),J(P),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),N.unshift(e);var e;J(N)}()))}e=e||d,x>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),M.unshift(e);var e;J(M)}(),x>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),n()}),1)):n()))}if(L=function e(){Y||ne(),Y||(L=e)},o.run=ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return _=!0,ne(),e.ready});e.exports=i}).call(this,"/index.js",n(45))},function(e,t,n){"use strict";function r(e){var t=e.isOnline,n=e.networkType,r=e.details,i={isOnline:t};return n&&(i.networkType=n),r&&(i.details=r),{action:"network.info",attributes:i}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=_createClass((function e(t,n,r,i){_classCallCheck(this,e),this.blob=t,this.name=n,this.startTime=r,this.wordArray=i})),i=_createClass((function e(t){_classCallCheck(this,e),this.track=t,this.recorder=null,this.data=null,this.name=null,this.startTime=null}));function o(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date}function a(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop()}function s(){if(MediaRecorder.isTypeSupported("audio/webm"))return"audio/webm";if(MediaRecorder.isTypeSupported("audio/ogg"))return"audio/ogg";throw new Error("unable to create a MediaRecorder with the right mimetype!")}function u(e){this.recorders=[],this.fileType=s(),this.isRecording=!1,this.jitsiConference=e}u.determineCorrectFileType=s,u.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=this.instantiateTrackRecorder(e);this.recorders.push(t),this.updateNames(),this.isRecording&&o(t)}},u.prototype.instantiateTrackRecorder=function(e){var t=new i(e),n=t.track.getOriginalStream(),r=new MediaStream;return n.getAudioTracks().forEach((function(e){return r.addTrack(e)})),t.recorder=new MediaRecorder(r,{mimeType:this.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t},u.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)if(n[t].track.getParticipantId()===e.getParticipantId()){var r=n[t];this.isRecording?a(r):n.splice(t,1)}this.updateNames()}},u.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach((function(t){if(t.track.isLocal())t.name="the transcriber";else{var n=t.track.getParticipantId(),r=e.getParticipantById(n).getDisplayName();"undefined"!==r&&(t.name=r)}}))},u.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach((function(e){return o(e)})),console.log("Started the recording of the audio. There are currently ".concat(this.recorders.length," recorders active."))},u.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach((function(e){return a(e)})),console.log("stopped recording")},u.prototype.download=function(){var e=this;this.recorders.forEach((function(t){var n=new Blob(t.data,{type:e.fileType}),r=URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=r,i.download="test."+e.fileType.split("/")[1],i.click(),window.URL.revokeObjectURL(r)}))},u.prototype.getRecordingResults=function(){var e=this;if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is still recording!");this.updateNames();var t=[];return this.recorders.forEach((function(n){return t.push(new r(new Blob(n.data,{type:e.fileType}),n.name,n.startTime))})),t},u.prototype.getFileType=function(){return this.fileType};var c=u,l=function(){function e(t,n,r){_classCallCheck(this,e),this.word=t,this.begin=n,this.end=r}return _createClass(e,[{key:"getWord",value:function(){return this.word}},{key:"getBeginTime",value:function(){return this.begin}},{key:"getEndTime",value:function(){return this.end}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).url=function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes("https://"))return t;console.log(e)}}(),e}return _createClass(n,[{key:"sendRequest",value:function(e,t){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+e);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: "+n.status)},n.open("POST",this.url),n.setRequestHeader("Content-Type",c.determineCorrectFileType()),n.send(e),console.log("send "+e)}},{key:"formatResponse",value:function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach((function(e){return e.filler||n.push(new l(e.word,e.start,e.end))})),n}},{key:"verify",value:function(e){if(console.log("response from server:"+e.toString()),"string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){return console.log(e),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"])}}]),n}(function(){function e(){throw _classCallCheck(this,e),new Error("TranscriptionService is abstract and cannot be created")}return _createClass(e,[{key:"send",value:function(e,t){var n=this;this.sendRequest(e.blob,(function(r){n.verify(r)?e.wordArray=n.formatResponse(r):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[]),t(e)}))}},{key:"sendRequest",value:function(e,t){throw new Error("TranscriptionService.sendRequest is abstract")}},{key:"formatResponse",value:function(e){throw new Error("TranscriptionService.format is abstract")}},{key:"verify",value:function(e){throw new Error("TranscriptionService.verify is abstract")}}]),e}());function f(){this.audioRecorder=new c,this.transcriptionService=new d,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state="before",this.lineLength=0}function h(e,t){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+t.wordArray.length),t.wordArray.length>0){var n=t.startTime.getUTCMilliseconds()-e.startTime.getUTCMilliseconds();n<0&&(n=0);var r="[";t.wordArray.forEach((function(e){e.begin+=n,e.end+=n,r+=e.word+","})),r+="]",console.log(r),t.wordArray.name=t.name}e.results.push(t.wordArray),e.counter--,console.log("current counter: "+e.counter),e.maybeMerge()}function p(e){for(var t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0}f.prototype.start=function(){if("before"!==this.state)throw new Error('The transcription can only start when it\'s in the "before" state. It\'s currently in the "'.concat(this.state,'" state'));this.state="recording",this.audioRecorder.start(),this.startTime=new Date},f.prototype.stop=function(e){var t=this;if("recording"!==this.state)throw new Error('The transcription can only stop when it\'s in the "recording" state. It\'s currently in the "'.concat(this.state,'" state'));console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var n=h.bind(null,this);this.audioRecorder.getRecordingResults().forEach((function(e){t.transcriptionService.send(e,n),t.counter++})),this.state="transcribing",this.callback=e},f.prototype.maybeMerge=function(){"transcribing"===this.state&&0===this.counter&&this.merge()},f.prototype.merge=function(){var e=this;console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription="";var t=this.results,n=[],r=function(){var n=t[0];t.forEach((function(e){e[0].begin<n[0].begin&&(n=e)}));var r=n.shift(),i=function(){var i=!1,o=n[0].begin;if(t.forEach((function(e){e[0].begin<o&&(i=!0)})),i)return 1;r=n.shift(),e.updateTranscription(r,null)};for(e.updateTranscription(r,n.name);n.length>0&&!i(););};for(p(t),t.forEach((function(e){return function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);for(var n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}}(n,e)}));p(t);)r();this.state="finished",this.callback&&this.callback(this.transcription)},f.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+="\n".concat(t,":"),this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\n    ",this.lineLength=4),this.transcription+=" "+e.word,this.lineLength+=e.word.length+1},f.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},f.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},f.prototype.getTranscription=function(){if("finished"!==this.state)throw new Error('The transcription can only be retrieved when it\'s in the "finished" state. It\'s currently in the "'.concat(this.state,'" state'));return this.transcription},f.prototype.getState=function(){return this.state},f.prototype.reset=function(){this.state="before",this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(93),i=n.n(r),o=n(279),a=n.n(o),s=function(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach((function(e){e.sources&&e.sources.length&&(e.ssrcs=[],e.sources.forEach((function(t){Object.keys(t).forEach((function(n){"id"!==n&&e.ssrcs.push({id:t.id,attribute:n,value:t[n]})}))})),delete e.sources),e.ssrcGroups&&e.ssrcGroups.length&&e.ssrcGroups.forEach((function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))}))})),a.a.write(e,t)},u=function(e){var t=a.a.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach((function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources=[],e.ssrcs.forEach((function(t){var n=e.sources.findIndex((function(e){return e.id===t.id}));if(n>-1)e.sources[n][t.attribute]=t.value;else{var r={id:t.id};r[t.attribute]=t.value,e.sources.push(r)}})),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))}))})),t},c=["audio","video","data"],l=function(e){return e.find((function(e){return"SIM"===e.semantics}))},d=function(e){return e.find((function(e){return"FID"===e.semantics}))};function f(e,t,n,r){if(e&&t){var i=function(e){return r.find((function(t){return t.id.toString()===e}))};t.ssrcs.forEach((function(t){e.sources.push(i(t));var r=n[parseInt(t,10)].find((function(e){return"FID"===e.semantics}));if(r){var o=r.ssrcs.find((function(e){return e!==t}));e.sources.push(i(o)),e.ssrcGroups.push(r)}})),e.ssrcGroups.push(t)}}function h(e,t,n,r){if(e&&t){if(e.sources=[],e.ssrcGroups=[],!n[t.id])return e.sources.push(t),void(e.msid=t.msid);var i=l(n[t.id]),o=d(n[t.id]);if(i)f(e,i,n,r);else if(o){var a=o.ssrcs.find((function(e){return e!==t})),s=l(n[a]);s?f(e,s,n,r):(o.ssrcs.forEach((function(t){e.sources.push(function(e){return r.find((function(t){return t.id.toString()===e}))}(t))})),e.ssrcGroups.push(o))}e.msid=e.sources[0].msid}}function p(e,t,n){if(!n.find((function(t){return!!t.sources&&t.sources.some((function(t){return t.id===e.id}))}))){if(!t[e.id])return!1;var r=l(t[e.id]),i=d(t[e.id]);return r?n.some((function(e){return e.sources&&e.sources.some((function(e){return e.id.toString()===r.ssrcs[0]}))})):!(!i||e.id.toString()===i.ssrcs[0])&&p({id:i.ssrcs[0]},t,n)}return!0}var m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toPlanB",value:function(e){if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=u(e.sdp);if(!t.media||!t.media.length)return console.warn("The description has no media."),e;if(t.media.every((function(e){return-1!==c.indexOf(e.mid)})))return console.warn("The description does not look like unified plan sdp"),e;var n={},r=t.media;t.media=[],r.forEach((function(e){var t=e.type;if("application"===t)return e.mid="data",void(n[e.mid]=e);if(void 0===n[t]){var r=i()(e);r.sources&&Array.isArray(r.sources)&&r.sources.forEach((function(t){e.msid?t.msid=e.msid:delete t.msid})),r.ssrcGroups&&e.msid||(r.ssrcGroups=[]),delete r.msid,r.mid=t,n[t]=r}else if(e.msid){var o=i()(e);o.sources&&Array.isArray(o.sources)&&(o.sources.forEach((function(t){t.msid=e.msid})),n[t].sources=(n[t].sources||[]).concat(o.sources)),void 0!==o.ssrcGroups&&Array.isArray(o.ssrcGroups)&&(n[t].ssrcGroups=(n[t].ssrcGroups||[]).concat(o.ssrcGroups))}})),t.media=Object.values(n);var o=[];Object.values(n).forEach((function(e){"inactive"!==e.direction&&o.push(e.mid)})),t.groups.forEach((function(e){"BUNDLE"===e.type&&(e.mids=o.join(" "))})),t.msidSemantic={semantic:"WMS",token:"*"};var a=s(t);return new RTCSessionDescription({type:e.type,sdp:a})}},{key:"toUnifiedPlan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=u(e.sdp);if(!n.media||!n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||n.media.every((function(e){return-1===c.indexOf(e.mid)})))return console.warn("The description does not look like plan-b"),e;var r=t?u(t.sdp):null,o=function(e,t){if(!e||!t||0===e.media.length||0===t.media.length)return!1;var n=e.media[0],r=t.media[0];return n.iceUfrag!==r.iceUfrag||n.icePwd!==r.icePwd}(n,r),a=n.media[0].iceUfrag,l=n.media[0].icePwd,d=n.media[0].fingerprint,f={};n.media.forEach((function(e){var t=e.type;if("application"!==t){var n=function(e){var t={};return e&&Array.isArray(e)?(e.forEach((function(e){e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e)}))})),t):t}(e.ssrcGroups);if(e.sources)e.sources.forEach((function(t,o){if(t.msid){if(!r||!r.media){if(p(t,n,Object.values(f)))return;var a=i()(e);return a.mid=Object.keys(f).length.toString(),a.direction=o||"sendonly"===e.direction?"sendonly":"sendrecv",a.bundleOnly=void 0,h(a,t,n,e.sources),void(f[a.mid]=a)}if(!p(t,n,r.media)){var s=i()(e);s.mid=r.media.length.toString(),s.direction="sendonly",h(s,t,n,e.sources),r.media.push(s)}}}));else if(!r){var o=i()(e);o.mid=Object.keys(f).length.toString(),f[e.mid]=o}}else{if(!r||!r.media){var a=i()(e);return a.mid=Object.keys(f).length.toString(),void(f[e.mid]=a)}var s=r.media.findIndex((function(e){return e.type===t}));s&&(r.media[s]=e,r.media[s].mid=s)}})),n.media=r?r.media:Object.values(f);var m=[];n.media.forEach((function(e){m.push(e.mid),o&&(e.iceUfrag=a,e.icePwd=l,e.fingerprint=d)})),n.groups.forEach((function(e){"BUNDLE"===e.type&&(e.mids=m.join(" "))})),n.msidSemantic={semantic:"WMS",token:"*"},n.origin.sessionVersion++;var v=s(n);return new RTCSessionDescription({type:e.type,sdp:v})}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(394),i=n(57),o=n(10),a=n(52),s=n(15),u=n(92),c=n(167),l=n.n(c),d=["__proto__","constructor","prototype"],f=n(174);function h(e,t,n){var r,u=this.parseJwt(e);this.name=t,this.user=u.context.user,(r=n?Object.assign({},f.c):Object.assign({},f.b)).serviceUrl="".concat(r.serviceUrl,"?room=").concat(t),this.options=r,this.xmpp=new a.e(r,e),this.token=e,this.isDev=n,this.addEventListener(i.CONNECTION_FAILED,(function(e,t,n,r){o.a.sendAnalyticsAndLog(Object(s.B)(e,t,r))})),this.addEventListener(i.CONNECTION_DISCONNECTED,(function(e){e&&o.a.sendAnalytics(s.m,{message:e}),o.a.sendLog(JSON.stringify({id:s.m,msg:e}))}))}h.prototype.parseJwt=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}},h.prototype.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u.b.getItem("xmpp_username_override"),n=u.b.getItem("xmpp_password_override");t&&t.length>0&&(e.id=t),n&&n.length>0&&(e.password=n),this.xmpp.connect(e.id,e.password)},h.prototype.attach=function(e){this.xmpp.attach(e)},h.prototype.disconnect=function(){var e;return(e=this.xmpp).disconnect.apply(e,arguments)},h.prototype.getJid=function(){return this.xmpp.getJid()},h.prototype.setToken=function(e){this.token=e},h.prototype.initJitsiConference=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=function(e){var t=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=location.search?location.search:location.hash,n={},r=t&&t.substr(1).split("&")||[];if(location.hash&&1===r.length){var i=r[0];if(i.startsWith("/")&&1===i.split("&").length)return n}return r.forEach((function(t){var r=t.split("="),i=r[0];if(i&&!d.includes(i.split(".")[0])){var o;try{if(o=r[1],!e){var a=decodeURIComponent(o).replace(/\\&/,"&");o="undefined"===a?void 0:l.a.parse(a)}}catch(e){return void console.log("Failed to parse URL parameter value: "+String(o))}n[i]=o}})),n}();return Object.keys(t).forEach((function(n){var r=n.replace("config.","");switch(r){case"analytics.disabled":e.analytics.disabled=t[n];break;case"startWithAudioMuted":e.startAudioMuted=t[n];break;case"startWithVideoMuted":e.startVideoMuted=t[n];break;case"p2p.enabled":e.p2p.enabled=t[n];break;default:e[r]=t[n]}})),console.log("conferenceConfig",e),e}(e=Object.assign(Object.assign({},f.a),e));var t=this.name;return this.isDev&&(e=Object.assign(Object.assign({},e),{hiddenDomain:"recorder.dev.sariska.io"})),e.iAmRecorder&&this.addFeature("http://jitsi.org/protocol/jibri"),new r.a({name:t,config:e,connection:this,user:this.user})},h.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},h.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},h.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},h.prototype.addFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(e,t,!0)},h.prototype.removeFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(e,t,!0)},h.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a}));var r=n(329)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i,o,a=n(0),s=n(103),u=n(59),c=n(40),l=n(41),d=n(61),f=n(219),h=n(275),p=Object(u.a)(),m={},v={};function g(e,t){m[e]=m[e]||[],m[e].push(t),function(e){if(!v[e])switch(v[e]=!0,e){case"console":"console"in p&&l.a.forEach((function(e){e in p.console&&Object(d.e)(p.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];_("console",{args:n,level:e}),t&&t.apply(p.console,n)}}))}));break;case"dom":!function(){if("document"in p){var e=_.bind(null,"dom"),t=E(e,!0);p.document.addEventListener("click",t,!1),p.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=p[t]&&p[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(d.e)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=E(e);a.handler=s,t.call(this,n,s,i)}a.refCount+=1}catch(e){}return t.call(this,n,r,i)}})),Object(d.e)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in p){var e=XMLHttpRequest.prototype;Object(d.e)(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=t[1],o=r.__sentry_xhr__={method:Object(c.l)(t[0])?t[0].toUpperCase():t[0],url:t[1]};Object(c.l)(i)&&"POST"===o.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var a=function(){if(4===r.readyState){try{o.status_code=r.status}catch(e){}_("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Object(d.e)(r,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a(),e.apply(r,t)}})):r.addEventListener("readystatechange",a),e.apply(r,t)}})),Object(d.e)(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),_("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}}();break;case"fetch":Object(h.d)()&&Object(d.e)(p,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:b(t),url:y(t)},startTimestamp:Date.now()};return _("fetch",Object(a.a)({},r)),e.apply(p,t).then((function(e){return _("fetch",Object(a.a)(Object(a.a)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw _("fetch",Object(a.a)(Object(a.a)({},r),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if(Object(h.c)()){var e=p.onpopstate;p.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=p.location.href,o=r;if(r=i,_("history",{from:o,to:i}),e)try{return e.apply(this,t)}catch(e){}},Object(d.e)(p.history,"pushState",t),Object(d.e)(p.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,_("history",{from:o,to:a})}return e.apply(this,t)}}}();break;case"error":S=p.onerror,p.onerror=function(e,t,n,r,i){return _("error",{column:r,error:i,line:n,msg:e,url:t}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":D=p.onunhandledrejection,p.onunhandledrejection=function(e){return _("unhandledrejection",e),!D||D.apply(this,arguments)};break;default:s.a&&l.c.warn("unknown instrumentation type:",e)}}(e)}function _(e,t){var n,r;if(e&&m[e])try{for(var i=Object(a.f)(m[e]||[]),o=i.next();!o.done;o=i.next()){var u=o.value;try{u(t)}catch(t){s.a&&l.c.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(f.b)(u)+"\nError:",t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function b(e){return void 0===e&&(e=[]),"Request"in p&&Object(c.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function y(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in p&&Object(c.g)(e[0],Request)?e[0].url:String(e[0])}function E(e,t){return void 0===t&&(t=!1),function(n){if(n&&o!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===i||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(o,n))&&(e({event:n,name:r,global:t}),o=n),clearTimeout(i),i=p.setTimeout((function(){i=void 0}),1e3)}}}var S=null,D=null},function(e,t,n){e.exports=n(218)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=History.prototype.pushState,o=History.prototype.replaceState,a=n(199),s=n(13);s.inIframe()&&s.appendInlineStyle(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),History.prototype.pushState=function(){var e,t,n=a.get("cb__memoryHistoryState")||{},o=n.stateListKeys||[],s=n.pointerIndex||0,u=arguments[0]||{};if(!u.key){for(t=r.getRandom();o.indexOf(t)>=0;)t=r.getRandom();u.key=t}arguments[0]=u,o.push(u.key),e=s,s=o.length-1,a.set("cb__memoryHistoryState",{stateListKeys:o,prevPointerIndex:e,pointerIndex:s}),i.apply(this,arguments),window.dispatchEvent(new CustomEvent("locationchange",{detail:{}}))},History.prototype.replaceState=function(){var e,t=a.get("cb__memoryHistoryState")||{},n=t.stateListKeys||[],r=t.pointerIndex||0,i=arguments[0],s=n.length-1;n[s]=i.key,e=r,r=s,a.set("cb__memoryHistoryState",{stateListKeys:n,prevPointerIndex:e,pointerIndex:r}),o.apply(this,arguments),window.dispatchEvent(new CustomEvent("locationchange",{detail:{}}))}},function(e,t){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};n.Diff=function(e,t){return[e,t]},n.prototype.diff_main=function(e,t,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new n.Diff(0,e)]:[];void 0===r&&(r=!0);var a=r,s=this.diff_commonPrefix(e,t),u=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var c=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var l=this.diff_compute_(e,t,a,o);return u&&l.unshift(new n.Diff(0,u)),c&&l.push(new n.Diff(0,c)),this.diff_cleanupMerge(l),l},n.prototype.diff_compute_=function(e,t,r,i){var o;if(!e)return[new n.Diff(1,t)];if(!t)return[new n.Diff(-1,e)];var a=e.length>t.length?e:t,s=e.length>t.length?t:e,u=a.indexOf(s);if(-1!=u)return o=[new n.Diff(1,a.substring(0,u)),new n.Diff(0,s),new n.Diff(1,a.substring(u+s.length))],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==s.length)return[new n.Diff(-1,e),new n.Diff(1,t)];var c=this.diff_halfMatch_(e,t);if(c){var l=c[0],d=c[1],f=c[2],h=c[3],p=c[4],m=this.diff_main(l,f,r,i),v=this.diff_main(d,h,r,i);return m.concat([new n.Diff(0,p)],v)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},n.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var o=i.lineArray,a=this.diff_main(e,t,!1,r);this.diff_charsToLines_(a,o),this.diff_cleanupSemantic(a),a.push(new n.Diff(0,""));for(var s=0,u=0,c=0,l="",d="";s<a.length;){switch(a[s][0]){case 1:c++,d+=a[s][1];break;case-1:u++,l+=a[s][1];break;case 0:if(u>=1&&c>=1){a.splice(s-u-c,u+c),s=s-u-c;for(var f=this.diff_main(l,d,!1,r),h=f.length-1;h>=0;h--)a.splice(s,0,f[h]);s+=f.length}c=0,u=0,l="",d=""}s++}return a.pop(),a},n.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),s=a,u=2*a,c=new Array(u),l=new Array(u),d=0;d<u;d++)c[d]=-1,l[d]=-1;c[s+1]=0,l[s+1]=0;for(var f=i-o,h=f%2!=0,p=0,m=0,v=0,g=0,_=0;_<a&&!((new Date).getTime()>r);_++){for(var b=-_+p;b<=_-m;b+=2){for(var y=s+b,E=(T=b==-_||b!=_&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1)-b;T<i&&E<o&&e.charAt(T)==t.charAt(E);)T++,E++;if(c[y]=T,T>i)m+=2;else if(E>o)p+=2;else if(h&&(w=s+f-b)>=0&&w<u&&-1!=l[w]&&T>=(D=i-l[w]))return this.diff_bisectSplit_(e,t,T,E,r)}for(var S=-_+v;S<=_-g;S+=2){for(var D,w=s+S,C=(D=S==-_||S!=_&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-S;D<i&&C<o&&e.charAt(i-D-1)==t.charAt(o-C-1);)D++,C++;if(l[w]=D,D>i)g+=2;else if(C>o)v+=2;else if(!h){var T;if((y=s+f-S)>=0&&y<u&&-1!=c[y]&&(E=s+(T=c[y])-y,T>=(D=i-D)))return this.diff_bisectSplit_(e,t,T,E,r)}}}return[new n.Diff(-1,e),new n.Diff(1,t)]},n.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),c=this.diff_main(o,a,!1,i),l=this.diff_main(s,u,!1,i);return c.concat(l)},n.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,a=-1,s=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",i))&&(a=e.length-1);var u=e.substring(i,a+1);(r.hasOwnProperty?r.hasOwnProperty(u):void 0!==r[u])?t+=String.fromCharCode(r[u]):(s==o&&(u=e.substring(i),a=e.length),t+=String.fromCharCode(s),r[u]=s,n[s++]=u),i=a+1}return t}n[0]="";var o=4e4,a=i(e);return o=65535,{chars1:a,chars2:i(t),lineArray:n}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),u=t.indexOf(s);if(-1==u)return o;a+=u,0!=u&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,a,s,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,l="";-1!=(c=t.indexOf(u,c+1));){var d=i.diff_commonPrefix(e.substring(n),t.substring(c)),f=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));l.length<f+d&&(l=t.substring(c-f,c)+t.substring(c,c+d),r=e.substring(0,n-f),o=e.substring(n+d),a=t.substring(0,c-f),s=t.substring(c+d))}return 2*l.length>=e.length?[r,o,a,s,l]:null}var a,s,u,c,l,d=o(n,r,Math.ceil(n.length/4)),f=o(n,r,Math.ceil(n.length/2));return d||f?(a=f?d&&d[4].length>f[4].length?d:f:d,e.length>t.length?(s=a[0],u=a[1],c=a[2],l=a[3]):(c=a[0],l=a[1],s=a[2],u=a[3]),[s,u,c,l,a[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,o=null,a=0,s=0,u=0,c=0,l=0;a<e.length;)0==e[a][0]?(r[i++]=a,s=c,u=l,c=0,l=0,o=e[a][1]):(1==e[a][0]?c+=e[a][1].length:l+=e[a][1].length,o&&o.length<=Math.max(s,u)&&o.length<=Math.max(c,l)&&(e.splice(r[i-1],0,new n.Diff(-1,o)),e[r[i-1]+1][0]=1,i--,a=--i>0?r[i-1]:-1,s=0,u=0,c=0,l=0,o=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(-1==e[a-1][0]&&1==e[a][0]){var d=e[a-1][1],f=e[a][1],h=this.diff_commonOverlap_(d,f),p=this.diff_commonOverlap_(f,d);h>=p?(h>=d.length/2||h>=f.length/2)&&(e.splice(a,0,new n.Diff(0,f.substring(0,h))),e[a-1][1]=d.substring(0,d.length-h),e[a+1][1]=f.substring(h),a++):(p>=d.length/2||p>=f.length/2)&&(e.splice(a,0,new n.Diff(0,d.substring(0,p))),e[a-1][0]=1,e[a-1][1]=f.substring(0,f.length-p),e[a+1][0]=-1,e[a+1][1]=d.substring(p),a++),a++}a++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),o=r.match(n.nonAlphaNumericRegex_),a=i.match(n.nonAlphaNumericRegex_),s=o&&r.match(n.whitespaceRegex_),u=a&&i.match(n.whitespaceRegex_),c=s&&r.match(n.linebreakRegex_),l=u&&i.match(n.linebreakRegex_),d=c&&e.match(n.blanklineEndRegex_),f=l&&t.match(n.blanklineStartRegex_);return d||f?5:c||l?4:o&&!s&&u?3:s||u?2:o||a?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],a=e[r+1][1],s=this.diff_commonSuffix(i,o);if(s){var u=o.substring(o.length-s);i=i.substring(0,i.length-s),o=u+o.substring(0,o.length-s),a=u+a}for(var c=i,l=o,d=a,f=t(i,o)+t(o,a);o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var h=t(i,o)+t(o,a);h>=f&&(f=h,c=i,l=o,d=a)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=l,d?e[r+1][1]=d:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,o=null,a=0,s=!1,u=!1,c=!1,l=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(c||l)?(r[i++]=a,s=c,u=l,o=e[a][1]):(i=0,o=null),c=l=!1):(-1==e[a][0]?l=!0:c=!0,o&&(s&&u&&c&&l||o.length<this.Diff_EditCost/2&&s+u+c+l==3)&&(e.splice(r[i-1],0,new n.Diff(-1,o)),e[r[i-1]+1][0]=1,i--,o=null,s&&u?(c=l=!0,i=0):(a=--i>0?r[i-1]:-1,c=l=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push(new n.Diff(0,""));for(var t,r=0,i=0,o=0,a="",s="";r<e.length;)switch(e[r][0]){case 1:o++,s+=e[r][1],r++;break;case-1:i++,a+=e[r][1],r++;break;case 0:i+o>1?(0!==i&&0!==o&&(0!==(t=this.diff_commonPrefix(s,a))&&(r-i-o>0&&0==e[r-i-o-1][0]?e[r-i-o-1][1]+=s.substring(0,t):(e.splice(0,0,new n.Diff(0,s.substring(0,t))),r++),s=s.substring(t),a=a.substring(t)),0!==(t=this.diff_commonSuffix(s,a))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),a=a.substring(0,a.length-t))),r-=i+o,e.splice(r,i+o),a.length&&(e.splice(r,0,new n.Diff(-1,a)),r++),s.length&&(e.splice(r,0,new n.Diff(1,s)),r++),r++):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,a="",s=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),u=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),u=!0)),r++;u&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,r=0,i=0,o=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)o=r,a=i;return e.length!=n&&-1===e[n][0]?a:a+(t-o)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,a=0;a<e.length;a++){var s=e[a][0],u=e[a][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(s){case 1:t[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case-1:t[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[a]="<span>"+u+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],a=e[i][1];switch(o){case 1:n+=a.length;break;case-1:r+=a.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+Math.max(n,r)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,o=0,a=t.split(/\t/g),s=0;s<a.length;s++){var u=a[s].substring(1);switch(a[s].charAt(0)){case"+":try{r[i++]=new n.Diff(1,decodeURI(u))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var c=parseInt(u,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+u);var l=e.substring(o,o+=c);"="==a[s].charAt(0)?r[i++]=new n.Diff(0,l):r[i++]=new n.Diff(-1,l);break;default:if(a[s])throw new Error("Invalid diff operation in diff_fromDelta: "+a[s])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return r},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=e.lastIndexOf(t,n+t.length))&&(a=Math.min(o(0,s),a)));var u,c,l=1<<t.length-1;s=-1;for(var d,f=t.length+e.length,h=0;h<t.length;h++){for(u=0,c=f;u<c;)o(h,n+c)<=a?u=c:f=c,c=Math.floor((f-u)/2+u);f=c;var p=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<h)-1;for(var g=m;g>=p;g--){var _=r[e.charAt(g-1)];if(v[g]=0===h?(v[g+1]<<1|1)&_:(v[g+1]<<1|1)&_|(d[g+1]|d[g])<<1|1|d[g+1],v[g]&l){var b=o(h,g-1);if(b<=a){if(a=b,!((s=g-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(h+1,n)>a)break;d=v}return s},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new n.Diff(0,o));var a=t.substring(e.start2+e.length1,e.start2+e.length1+i);a&&e.diffs.push(new n.Diff(0,a)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},n.prototype.patch_make=function(e,t,r){var i,o;if("string"==typeof e&&"string"==typeof t&&void 0===r)i=e,(o=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===t&&void 0===r)o=e,i=this.diff_text1(o);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===r)i=e,o=t;else{if("string"!=typeof e||"string"!=typeof t||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=e,o=r}if(0===o.length)return[];for(var a=[],s=new n.patch_obj,u=0,c=0,l=0,d=i,f=i,h=0;h<o.length;h++){var p=o[h][0],m=o[h][1];switch(u||0===p||(s.start1=c,s.start2=l),p){case 1:s.diffs[u++]=o[h],s.length2+=m.length,f=f.substring(0,l)+m+f.substring(l);break;case-1:s.length1+=m.length,s.diffs[u++]=o[h],f=f.substring(0,l)+f.substring(l+m.length);break;case 0:m.length<=2*this.Patch_Margin&&u&&o.length!=h+1?(s.diffs[u++]=o[h],s.length1+=m.length,s.length2+=m.length):m.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(s,d),a.push(s),s=new n.patch_obj,u=0,d=f,c=l)}1!==p&&(c+=m.length),-1!==p&&(l+=m.length)}return u&&(this.patch_addContext_(s,d),a.push(s)),a},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=new n.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=new n.Diff(i.diffs[a][0],i.diffs[a][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[r]=o}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,i=[],o=0;o<e.length;o++){var a,s,u=e[o].start2+r,c=this.diff_text1(e[o].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(t,c.substring(0,this.Match_MaxBits),u))&&(-1==(l=this.match_main(t,c.substring(c.length-this.Match_MaxBits),u+c.length-this.Match_MaxBits))||a>=l)&&(a=-1):a=this.match_main(t,c,u),-1==a)i[o]=!1,r-=e[o].length2-e[o].length1;else if(i[o]=!0,r=a-u,c==(s=-1==l?t.substring(a,a+c.length):t.substring(a,l+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+c.length);else{var d=this.diff_main(c,s,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(d)/c.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,h=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];0!==m[0]&&(f=this.diff_xIndex(d,h)),1===m[0]?t=t.substring(0,a+f)+m[1]+t.substring(a+f):-1===m[0]&&(t=t.substring(0,a+f)+t.substring(a+this.diff_xIndex(d,h+m[1].length))),-1!==m[0]&&(h+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],a=o.diffs;if(0==a.length||0!=a[0][0])a.unshift(new n.Diff(0,r)),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>a[0][1].length){var s=t-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(a=(o=e[e.length-1]).diffs).length||0!=a[a.length-1][0]?(a.push(new n.Diff(0,r)),o.length1+=t,o.length2+=t):t>a[a.length-1][1].length&&(s=t-a[a.length-1][1].length,a[a.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s),r},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var i=e[r];e.splice(r--,1);for(var o=i.start1,a=i.start2,s="";0!==i.diffs.length;){var u=new n.patch_obj,c=!0;for(u.start1=o-s.length,u.start2=a-s.length,""!==s&&(u.length1=u.length2=s.length,u.diffs.push(new n.Diff(0,s)));0!==i.diffs.length&&u.length1<t-this.Patch_Margin;){var l=i.diffs[0][0],d=i.diffs[0][1];1===l?(u.length2+=d.length,a+=d.length,u.diffs.push(i.diffs.shift()),c=!1):-1===l&&1==u.diffs.length&&0==u.diffs[0][0]&&d.length>2*t?(u.length1+=d.length,o+=d.length,c=!1,u.diffs.push(new n.Diff(l,d)),i.diffs.shift()):(d=d.substring(0,t-u.length1-this.Patch_Margin),u.length1+=d.length,o+=d.length,0===l?(u.length2+=d.length,a+=d.length):c=!1,u.diffs.push(new n.Diff(l,d)),d==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(d.length))}s=(s=this.diff_text2(u.diffs)).substring(s.length-this.Patch_Margin);var f=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==f&&(u.length1+=f.length,u.length2+=f.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=f:u.diffs.push(new n.Diff(0,f))),c||e.splice(++r,0,u)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var a=r[i].match(o);if(!a)throw new Error("Invalid patch string: "+r[i]);var s=new n.patch_obj;for(t.push(s),s.start1=parseInt(a[1],10),""===a[2]?(s.start1--,s.length1=1):"0"==a[2]?s.length1=0:(s.start1--,s.length1=parseInt(a[2],10)),s.start2=parseInt(a[3],10),""===a[4]?(s.start2--,s.length2=1):"0"==a[4]?s.length2=0:(s.start2--,s.length2=parseInt(a[4],10)),i++;i<r.length;){var u=r[i].charAt(0);try{var c=decodeURI(r[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==u)s.diffs.push(new n.Diff(-1,c));else if("+"==u)s.diffs.push(new n.Diff(1,c));else if(" "==u)s.diffs.push(new n.Diff(0,c));else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+c)}i++}}return t},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o={exports:{}};!function(e){"undefined"!=typeof window&&function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=r&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,n,s,u,c,l,d,f,h;if(!(t=e.match(a)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],u=e.slice(t[0].length),c=s?atob(u):decodeURIComponent(u),l=new ArrayBuffer(c.length),d=new Uint8Array(l),f=0;f<c.length;f+=1)d[f]=c.charCodeAt(f);return r?new Blob([i?d:l],{type:n}):((h=new o).append(l),h.getBlob(n))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,r){var i=this;setTimeout((function(){r&&n.toDataURL&&s?e(s(i.toDataURL(t,r))):e(i.mozGetAsFile("blob",t))}))}:n.toDataURL&&s&&(n.msToBlob?n.toBlob=function(e,t,r){var i=this;setTimeout((function(){(t&&"image/png"!==t||r)&&n.toDataURL&&s?e(s(i.toDataURL(t,r))):e(i.msToBlob(t))}))}:n.toBlob=function(e,t,n){var r=this;setTimeout((function(){e(s(r.toDataURL(t,n)))}))})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)}(o);var a=o.exports,s={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},u="undefined"!=typeof window&&void 0!==window.document?window:{},c=function(e){return e>0&&e<1/0},l=Array.prototype.slice,d=/^image\/.+$/;function f(e){return d.test(e)}var h=String.fromCharCode,p=u.btoa,m=/\.\d*(?:0|9){12}\d*$/;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return m.test(e)?Math.round(e*t)/t:e}function g(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=c(r),a=c(n);if(o&&a){var s=n*t;("contain"===i||"none"===i)&&s>r||"cover"===i&&s<r?n=r/t:r=n*t}else o?n=r/t:a&&(r=n*t);return{width:r,height:n}}var _=u.ArrayBuffer,b=u.FileReader,y=u.URL||u.webkitURL,E=/\.\w+$/,S=u.Compressor;return function(){function e(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=n,this.image=new Image,this.options=t(t({},s),r),this.aborted=!1,this.result=null,this.init()}var r,o,d;return r=e,d=[{key:"noConflict",value:function(){return window.Compressor=S,e}},{key:"setDefaults",value:function(e){i(s,e)}}],(o=[{key:"init",value:function(){var e=this,t=this.file,n=this.options;if(r=t,"undefined"!=typeof Blob&&(r instanceof Blob||"[object Blob]"===Object.prototype.toString.call(r))){var r,o=t.type;if(f(o))if(y&&b)if(_||(n.checkOrientation=!1),y&&!n.checkOrientation)this.load({url:y.createObjectURL(t)});else{var a=new b,s=n.checkOrientation&&"image/jpeg"===o;this.reader=a,a.onload=function(n){var r=n.target.result,a={};if(s){var u=function(e){var t,n=new DataView(e);try{var r,i,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s+=1}if(i){var u=i+10;if("Exif"===function(e,t,n){var r,i="";for(n+=t,r=t;r<n;r+=1)i+=h(e.getUint8(r));return i}(n,i+4,4)){var c=n.getUint16(u);if(((r=18761===c)||19789===c)&&42===n.getUint16(u+2,r)){var l=n.getUint32(u+4,r);l>=8&&(o=u+l)}}}if(o){var d,f,p=n.getUint16(o,r);for(f=0;f<p;f+=1)if(d=o+12*f+2,274===n.getUint16(d,r)){d+=8,t=n.getUint16(d,r),n.setUint16(d,1,r);break}}}catch(e){t=1}return t}(r);u>1||!y?(a.url=function(e,t){for(var n,r=[],i=new Uint8Array(e);i.length>0;)r.push(h.apply(null,(n=i.subarray(0,8192),Array.from?Array.from(n):l.call(n)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(p(r.join("")))}(r,o),u>1&&i(a,function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(u))):a.url=y.createObjectURL(t)}else a.url=r;e.load(a)},a.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},a.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},a.onloadend=function(){e.reader=null},s?a.readAsArrayBuffer(t):a.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var n=this,r=this.file,i=this.image;i.onload=function(){n.draw(t(t({},e),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){n.fail(new Error("Aborted to load the image."))},i.onerror=function(){n.fail(new Error("Failed to load the image."))},u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=r.name,i.src=e.url}},{key:"draw",value:function(e){var t=this,n=e.naturalWidth,r=e.naturalHeight,i=e.rotate,o=void 0===i?0:i,s=e.scaleX,u=void 0===s?1:s,l=e.scaleY,d=void 0===l?1:l,h=this.file,p=this.image,m=this.options,_=document.createElement("canvas"),b=_.getContext("2d"),y=Math.abs(o)%180==90,E=("contain"===m.resize||"cover"===m.resize)&&c(m.width)&&c(m.height),S=Math.max(m.maxWidth,0)||1/0,D=Math.max(m.maxHeight,0)||1/0,w=Math.max(m.minWidth,0)||0,C=Math.max(m.minHeight,0)||0,T=n/r,A=m.width,k=m.height;if(y){var O=[D,S];S=O[0],D=O[1];var R=[C,w];w=R[0],C=R[1];var M=[k,A];A=M[0],k=M[1]}E&&(T=A/k);var I=g({aspectRatio:T,width:S,height:D},"contain");S=I.width,D=I.height;var P=g({aspectRatio:T,width:w,height:C},"cover");if(w=P.width,C=P.height,E){var N=g({aspectRatio:T,width:A,height:k},m.resize);A=N.width,k=N.height}else{var x=g({aspectRatio:T,width:A,height:k}),F=x.width;A=void 0===F?n:F;var L=x.height;k=void 0===L?r:L}var j=-(A=Math.floor(v(Math.min(Math.max(A,w),S))))/2,B=-(k=Math.floor(v(Math.min(Math.max(k,C),D))))/2,U=A,H=k,V=[];if(E){var q,G,J,z,K=g({aspectRatio:T,width:n,height:r},{contain:"cover",cover:"contain"}[m.resize]);J=K.width,z=K.height,q=(n-J)/2,G=(r-z)/2,V.push(q,G,J,z)}if(V.push(j,B,U,H),y){var W=[k,A];A=W[0],k=W[1]}_.width=A,_.height=k,f(m.mimeType)||(m.mimeType=h.type);var $="transparent";if(h.size>m.convertSize&&m.convertTypes.indexOf(m.mimeType)>=0&&(m.mimeType="image/jpeg"),"image/jpeg"===m.mimeType&&($="#fff"),b.fillStyle=$,b.fillRect(0,0,A,k),m.beforeDraw&&m.beforeDraw.call(this,b,_),!this.aborted&&(b.save(),b.translate(A/2,k/2),b.rotate(o*Math.PI/180),b.scale(u,d),b.drawImage.apply(b,[p].concat(V)),b.restore(),m.drew&&m.drew.call(this,b,_),!this.aborted)){var Y=function(e){t.aborted||t.done({naturalWidth:n,naturalHeight:r,result:e})};_.toBlob?_.toBlob(Y,m.mimeType,m.quality):Y(a(_.toDataURL(m.mimeType,m.quality)))}}},{key:"done",value:function(e){var t,n,r=e.naturalWidth,i=e.naturalHeight,o=e.result,a=this.file,s=this.image,u=this.options;if(y&&!u.checkOrientation&&y.revokeObjectURL(s.src),o)if(u.strict&&o.size>a.size&&u.mimeType===a.type&&!(u.width>r||u.height>i||u.minWidth>r||u.minHeight>i||u.maxWidth<r||u.maxHeight<i))o=a;else{var c=new Date;o.lastModified=c.getTime(),o.lastModifiedDate=c,o.name=a.name,o.name&&o.type!==a.type&&(o.name=o.name.replace(E,("jpeg"===(n=f(t=o.type)?t.substr(6):"")&&(n="jpg"),".".concat(n))))}else o=a;this.result=o,u.success&&u.success.call(this,o)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&n(r.prototype,o),d&&n(r,d),e}()}()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(272),s=n(108),u=n(475),c=n(8),l=n(476),d=n(31),f=n(13),h=n(215),p=n(130),m=f.getPort();t.initWindow=function(e){return o.of(e)},t.initDocument=function(){return o.of(document)},t.initNavigator=function(){return o.of(navigator)},t.initOptions=function(){return new o.BehaviorSubject(u.DEFAULT_OPTIONS)},t.initService=function(){return new o.BehaviorSubject(h.default)},t.initLoader=function(){return new o.BehaviorSubject({})},t.initSocketStream=function(e,t,n,u,v){return new o.Observable((function(e){!function(){r(this,void 0,void 0,(function(){var r,o,c,g,_,b;return i(this,(function(i){switch(i.label){case 0:return o=u.getValue().getByKey("sessionParams"),[4,f.getToken()];case 1:return(c=i.sent())?(g={token:c},(_=new a.Socket(s.MESSAGING_SERVICE_WEBSOCKET,{params:g,encode:l.encode,decode:l.decode})).connect(),_.conn.binaryType="arraybuffer",_.onClose((function(t){e.next([d.IncomingSocketNames.Disconnected]),p.removeL("isSessionActive"),_.disconnect()})),_.onError((function(t){e.next([d.IncomingSocketNames.Error,t]),n.next({error:!0})})),o.session_id||(o.session_id=Math.random().toString(36).slice(3),h.default.setByKey("sessionParams",o)),(b=_.channel("sariska:"+o.session_id,{})).join().receive("ok",(function(t){e.next([d.IncomingSocketNames.SariskaChannelConnected]),p.setL("isSessionActive",!0)})).receive("error",(function(t){e.next([d.IncomingSocketNames.Error,t]),n.next({error:!0})})).receive("timeout",(function(t){e.next([d.IncomingSocketNames.Error,t]),n.next({timeout:!0})})),b.on(d.ChannelMesssageEvents.UserJoined,(function(e){r=e.user,n.next({room:e.room,user:r});var t=Date.now();h.default.setByKey("socketCreationTime",t),b.push("new_message",{event_name:"socket_creation_time",inserted_at:t.toString(),user:{id:r.id}})})),b.on(d.ChannelMesssageEvents.PrivateMessage,(function(t){var n=[t.event_name,t];if(!t.frame_url)return e.next(n);m&&m.postMessage(n)})),b.on(d.ChannelMesssageEvents.WidgetAction,(function(t){var n=[t.event_name,t];e.next(n),m&&m.postMessage(n)})),b.on(d.ChannelMesssageEvents.PresenceState,(function(e){var t=[d.ChannelMesssageEvents.PresenceState,{state:e,user:r}];m&&m.postMessage(t)})),b.on(d.ChannelMesssageEvents.PresenceDiff,(function(e){var t=[d.ChannelMesssageEvents.PresenceDiff,{joines:e.joins,leaves:e.leaves,user:r}];m&&m.postMessage(t)})),t.next(b),v.next(_),[2]):(e.next([d.IncomingSocketNames.Error,"Not authorized"]),[2,n.next({error:!0})])}}))}))}()})).pipe(c.share())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13).inIframe();t.DEFAULT_OPTIONS={widget:!0,proxy:!1,port:8081,ghostMode:{media:{volumechange:!0,play:!0,pause:!0,seeked:!0},keyboard:{keyup:!0,keypress:!0,keydown:!0},draganddrop:{dragstart:!0,drag:!0,dragend:!0,dragenter:!0,dragover:!0,dragleave:!0,drop:!0},touch:{touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0},forms:{input:!0,submit:!0,change:!0,focus:!0,blur:!0},mouse:{mouseover:!0,mouseup:!0,mousedown:!0,clicks:!0,mouseout:!0,mousemove:!0},browser:{locationchange:!0,reload:!0,navigation:!0,connectport:!0,message:!0,load:!0,onmessage:!0},select:!0,selectionchange:!0,scroll:!0,location:!0,newuseradded:!0},logLevel:"info",logPrefix:"",logConnections:!1,logFileChanges:!0,logSnippet:!0,rewriteRules:[],browser:"default",cors:!1,xip:!1,hostnameSuffix:!1,reloadOnRestart:!1,notify:!r,scrollProportionally:!0,scrollThrottle:0,scrollRestoreTechnique:"window.name",scrollElements:[],scrollElementMapping:[],reloadDelay:0,reloadDebounce:500,reloadThrottle:0,plugins:[],codeSync:!0,tagNames:{less:"link",scss:"link",css:"link",jpg:"img",jpeg:"img",png:"img",svg:"img",gif:"img",js:"script"},msg:"",reason:"",injectChanges:!0}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(55),o=n(477),a=n(13),s=n(31),u=n(108),c=o.Message,l=o.Payload,d=o.StartContainer,f=o.EndContainer,h=o.TextSelection,p=o.EventData,m=o.Raw,v=o.Position,g=o.Coordinates,_=o.FormSelection,b=o.diffData,y=o.diff,E=o.User,S=o.Room,D=o.Css,w=o.Page;function C(e,t,n){for(var r=0;r<t[n+"Length"]();r++){var i=t[n](r),o=e.payload[n],a=i.user();o[a]={metas:[]};for(var s=0;s<i.metasLength();s++)o[a].metas[s]={name:i.metas(s).name(),online_at:i.metas(s).onlineAt(),phx_ref:i.metas(s).phxRef(),email:i.metas(s).email(),avatar:i.metas(s).avatar(),color:i.metas(s).color()}}}t.encode=function(e,t){var n,r,o,s,u,C={};n=e.payload,r=new i.flatbuffers.Builder(1024);var T=n.page||{},A=n.event_data,k=n.text_selection,O=n.coordinates,R=n.css,M=n.start_container||{},I=n.end_container||{},P=n.user||{},N=n.room||{},x=n.position,F=n.form_selection,L=n.diff_data;Object.keys(T).length&&(w.startPage(r),a.checkFalsy(T.offset)||w.addOffset(r,T.offset),a.checkFalsy(T.size)||w.addSize(r,T.size),C.page=w.endPage(r));var j=Object.keys(N||{});if(j.length){var B={};j.forEach((function(e){"string"==typeof N[e]&&(B[e]=r.createString(N[e]))})),S.startRoom(r),j.forEach((function(e){"string"==typeof N[e]?S[a.getMethod("add_"+e)](r,B[e]):a.checkFalsy(N[e])||S[a.getMethod("add_"+e)](r,N[e])})),C.room=S.endRoom(r)}var U=Object.keys(P||{});if(U.length){var H={};U.forEach((function(e){"string"==typeof P[e]&&(H[e]=r.createString(P[e]))})),E.startUser(r),U.forEach((function(e){"string"==typeof P[e]?E[a.getMethod("add_"+e)](r,H[e]):a.checkFalsy(P[e])||E[a.getMethod("add_"+e)](r,P[e])})),C.user=E.endUser(r)}var V=Object.keys(F||{});if(V.length){var q={};V.forEach((function(e){"string"==typeof F[e]&&(q[e]=r.createString(F[e]))})),_.startFormSelection(r),V.forEach((function(e){"string"==typeof F[e]?_[a.getMethod("add_"+e)](r,q[e]):a.checkFalsy(F[e])||_[a.getMethod("add_"+e)](r,F[e])})),C.form_selection=_.endFormSelection(r)}var G=Object.keys(R||{});if(G.length){var J={};G.forEach((function(e){"string"==typeof R[e]&&(J[e]=r.createString(R[e]))})),D.startCss(r),G.forEach((function(e){"string"==typeof R[e]?D[a.getMethod("add_"+e)](r,J[e]):a.checkFalsy(R[e])||D[a.getMethod("add_"+e)](r,R[e])})),C.css=D.endCss(r)}if(L&&L.length){L.map((function(e){return e.diffs=e.diffs.map((function(e){return{x:e[0],y:r.createString(e[1])}})),e}));var z=L.map((function(e){var t=e.diffs.map((function(e){return y.startdiff(r),y.addX(r,e.x),y.addY(r,e.y),y.enddiff(r)}));b.startDiffsVector(r,t.length);var n=b.createDiffsVector(r,t);return b.startdiffData(r),b.addLength1(r,e.length1),b.addLength2(r,e.length2),b.addStart1(r,e.start1),b.addStart2(r,e.start2),b.addDiffs(r,n),b.enddiffData(r)}));l.createDiffDataVector(r,z.length),u=l.createDiffDataVector(r,z)}var K=Object.keys(O||{});if(K.length&&(g.startCoordinates(r),K.forEach((function(e){!a.checkFalsy(O[e])&&g[a.getMethod("add_"+e)](r,O[e])})),C.coordinates=g.endCoordinates(r)),x){m.startRaw(r),a.checkFalsy(x.raw.x)||m.addX(r,x.raw.x),a.checkFalsy(x.raw.y)||m.addY(r,x.raw.y);var W=m.endRaw(r);v.startPosition(r),a.checkFalsy(x.proportional)||v.addProportional(r,x.proportional),v.addRaw(r,W),C.position=v.endPosition(r)}if(Object.keys(M).length){var $=void 0;"string"==typeof M.tagname&&($=r.createString(M.tagname)),d.startStartContainer(r),a.checkFalsy(M.index)||d.addIndex(r,M.index),"string"==typeof M.tagname&&d.addTagname(r,$),C.start_container=d.endStartContainer(r)}if(Object.keys(I).length){var Y=void 0;"string"==typeof I.tagname&&(Y=r.createString(I.tagname)),f.startEndContainer(r),a.checkFalsy(I.index)||f.addIndex(r,I.index),"string"==typeof I.tagname&&f.addTagname(r,Y),C.end_container=f.endEndContainer(r)}var X=Object.keys(A||{});if(X.length){var Q={};X.forEach((function(e){"string"==typeof A[e]&&(Q[e]=r.createString(A[e]))})),p.startEventData(r),X.forEach((function(e){"string"==typeof A[e]?p[a.getMethod("add_"+e)](r,Q[e]):a.checkFalsy(A[e])||p[a.getMethod("add_"+e)](r,A[e])})),C.event_data=p.endEventData(r)}var Z=Object.keys(k||{});Z.length&&(h.startTextSelection(r),Z.forEach((function(e){!a.checkFalsy(k[e])&&h[a.getMethod("add_"+e)](r,k[e])})),C.text_selection=h.endTextSelection(r));var ee=Object.keys(n||{});if(ee.length){var te={};ee.forEach((function(e){"string"==typeof n[e]&&(te[e]=r.createString(n[e]))})),l.startPayload(r),ee.forEach((function(e){"string"==typeof n[e]?l[a.getMethod("add_"+e)](r,te[e]):a.checkFalsy(C[e])?a.checkFalsy(n[e])||l[a.getMethod("add_"+e)](r,n[e]):l[a.getMethod("add_"+e)](r,C[e])}))}0===ee.length&&l.startPayload(r),u&&l.addDiffData(r,u),o=l.endPayload(r),e.join_ref&&(s=r.createString(e.join_ref));var ne=r.createString(e.ref),re=r.createString(e.topic),ie=r.createString(e.event);c.startMessage(r),s&&c.addJoinRef(r,s),c.addRef(r,ne),c.addTopic(r,re),c.addEvent(r,ie),c.addPayload(r,o);var oe=c.endMessage(r);return c.finishMessageBuffer(r,oe),t(r.asUint8Array())},t.decode=function(e,t){var n=new Uint8Array(e),o=new i.flatbuffers.ByteBuffer(n),a=c.getRootAsMessage(o),l=a.payload(),d=a.event(),f={join_ref:a.joinRef(),ref:a.ref(),topic:a.topic(),event:a.event(),status:a.status(),payload:{id:l.id(),is_delivered:l.isDelivered(),created_by:l.createdBy(),created_by_name:l.createdByName(),type:l.type(),index:l.index(),is_toolbox:l.isToolbox(),tagname:l.tagname(),pathname:l.pathname(),host:l.host(),frame_url:l.frameUrl(),response:l.response(),status:l.status(),event_name:l.eventName(),inserted_at:l.insertedAt(),content:l.content(),seek_time:l.seekTime(),select_all:l.selectAll(),muted:l.muted(),volume:l.volume(),value:l.value(),is_blank:l.isBlank(),is_collapsed:l.isCollapsed(),is_default:l.isDefault(),content_type:l.contentType(),diff_data:[],event_data:{},joins:{},leaves:{},state:{}}},h=l.room(),p=l.user(),m=l.css(),v=l.page(),g=l.eventData(),_=l.mouseout(),b=l.navigation(),y=l.startContainer(),E=l.endContainer(),S=l.position(),D=l.textSelection(),w=l.formSelection(),T=l.coordinates(),A=l.diffDataLength();switch(A>0&&(f.payload.diff_data=function(e,t){for(var n=[],r=0;r<t;r++){for(var i=e.diffData(r),o=[],a=0;a<i.diffsLength();a++){var s=i.diffs(a);o.push([s.x(),s.y()])}n.push({length1:i.length1(),length2:i.length2(),start1:i.start1(),start2:i.start2(),diffs:o})}return n}(l,A)),v&&(f.payload.page={count:v.count()}),p&&(f.payload.user={id:p.id(),name:p.name(),email:p.email(),avatar:p.avatar()}),h&&(f.payload.room={id:h.id(),inserted_at:h.insertedAt(),status:h.status(),session_id:h.sessionId(),created_by:h.createdBy()}),m&&(f.payload.css={color:m.color(),backgroundColor:m.backgroundColor(),cursor:m.cursor()}),T&&(f.payload.coordinates={x:T.x(),y:T.y()}),w&&(f.payload.form_selection={start:w.start(),end:w.end(),direction:w.direction()}),D&&(f.payload.text_selection={range_start_offset:D.rangeStartOffset(),range_end_offset:D.rangeEndOffset(),start_node_offset:D.startNodeOffset(),end_node_offset:D.endNodeOffset()}),g&&u.KEYBOARD_EVENTS_DICT.forEach((function(e){var t=g[e]();-1!==t&&null!==t&&(f.payload.event_data[e]=t)})),b&&(f.payload.navigation=b),_&&(f.payload.mouseout=_),y&&(f.payload.start_container={index:y.index(),tagname:y.tagname()}),E&&(f.payload.end_container={index:E.index(),tagname:E.tagname()}),S&&(f.payload.position={proportional:S.proportional(),raw:{x:S.raw().x(),y:S.raw().y()}}),d){case s.ChannelMesssageEvents.PresenceState:return C(f,l,"state"),t(r({},f,{payload:r({},f.payload.state)}));case s.ChannelMesssageEvents.PresenceDiff:return C(f,l,"joins"),C(f,l,"leaves"),t(r({},f,{payload:{joins:f.payload.joins,leaves:f.payload.leaves}}))}return t(f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(286);t.Coordinates=r.Coordinates;var i=n(287);t.Css=i.Css;var o=n(288);t.EndContainer=o.EndContainer;var a=n(289);t.EventData=a.EventData;var s=n(290);t.FormSelection=s.FormSelection;var u=n(478);t.Message=u.Message;var c=n(293);t.Meta=c.Meta;var l=n(292);t.Metas=l.Metas;var d=n(294);t.Page=d.Page;var f=n(291);t.Payload=f.Payload;var h=n(295);t.Position=h.Position;var p=n(296);t.Raw=p.Raw;var m=n(297);t.Response=m.Response;var v=n(298);t.Room=v.Room;var g=n(299);t.StartContainer=g.StartContainer;var _=n(300);t.TextSelection=_.TextSelection;var b=n(301);t.User=b.User;var y=n(303);t.diff=y.diff;var E=n(302);t.diffData=E.diffData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(291),o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMessage=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMessage=function(t,n){return t.setPosition(t.position()+r.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.bufferHasIdentifier=function(e){return e.__has_identifier("COLL")},e.prototype.ref=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.joinRef=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.topic=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.event=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.payload=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?(e||new i.Payload).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.status=function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null},e.startMessage=function(e){e.startObject(6)},e.addRef=function(e,t){e.addFieldOffset(0,t,0)},e.addJoinRef=function(e,t){e.addFieldOffset(1,t,0)},e.addTopic=function(e,t){e.addFieldOffset(2,t,0)},e.addEvent=function(e,t){e.addFieldOffset(3,t,0)},e.addPayload=function(e,t){e.addFieldOffset(4,t,0)},e.addStatus=function(e,t){e.addFieldOffset(5,t,0)},e.endMessage=function(e){return e.endObject()},e.finishMessageBuffer=function(e,t){e.finish(t,"COLL")},e.finishSizePrefixedMessageBuffer=function(e,t){e.finish(t,"COLL",!0)},e}();t.Message=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(64),o=n(14);t.incomingScrollHandler=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","scroll"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return[i.EffectNames.BrowserSetScroll,t]})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),o=n(23),a=n(8),s=n(306),u=n(307),c=n(308),l=[{selector:"background",styleNames:["backgroundImage"]},{selector:"border",styleNames:["borderImage","webkitBorderImage","MozBorderImage"]}],d={link:"href",img:"src",script:"src"};t.reload=function(e,t){return function(r,i){var o=r.path;if(i.liveCSS&&o.match(/\.css$/i))return v(o,e,t);if(i.liveImg&&o.match(/\.(jpe?g|png|gif)$/i))return n(o,e);for(var a=function(e,t,n){var r=t.tagNames[e];return{attr:d[r],tagName:r,elems:n.getElementsByTagName(r)}}(r.ext,i,e),s=function(e,t,n){if("*"===t[0])return e;for(var r=[],i=new RegExp("(^|/)"+t),o=0,a=e.length;o<a;o+=1)i.test(e[o][n])&&r.push(e[o]);return r}(a.elems,r.basename,a.attr),u=0,c=s.length;u<c;u+=1)h(s[u],a,i,e,t)};function n(e,t){var n=b(Date.now());return o.merge(o.from([].slice.call(t.images)).pipe(a.filter((function(t){return i.pathsMatch(e,i.pathFromUrl(t.src))})),a.map((function(e){var t={target:e,prop:"src",value:m(e.src,n),pathname:i.getLocation(e.src).pathname};return s.propSet(t)}))),o.from(l).pipe(a.mergeMap((function(r){var i=r.selector,s=r.styleNames;return o.from(t.querySelectorAll("[style*="+i+"]")).pipe(a.mergeMap((function(t){return f(t.style,s,e,n)})))}))))}function f(e,t,n,r){return o.from(t).pipe(a.filter((function(t){return"string"==typeof e[t]})),a.map((function(t){var o,a=e[t],s=a.replace(new RegExp("\\burl\\s*\\(([^)]*)\\)"),(function(e,t){var a=t;return'"'===t[0]&&'"'===t[t.length-1]&&(a=t.slice(1,-1)),o=i.getLocation(a).pathname,i.pathsMatch(n,i.pathFromUrl(a))?"url("+m(a,r)+")":e}));return[e,t,a,s,o]})),a.filter((function(e){e[0],e[1];var t=e[2];return e[3]!==t})),a.map((function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4];return u.styleSet({style:t,styleName:n,value:r,newValue:i,pathName:o})})))}function h(e,t,o,a,s){var u=t.attr,c=e[u],l=(new Date).getTime(),d="browsersync-legacy",f=d+"="+l,h=i.getLocation(c),p=i.updateSearch(h.search,d,f);switch(t.tagName){case"link":v(c,a,s);break;case"img":n(c,a);break;default:!1===o.timestamps?e[u]=h.href:e[u]=h.href.split("?")[0]+p,setTimeout((function(){r?(r.style.display="none",r.style.display="block"):(r=a.createElement("DIV"),a.body.appendChild(r))}),200)}return{elem:e,timeStamp:l}}function p(e,t,n){var r;if(e.__LiveReload_pendingRemoval)return o.EMPTY;e.__LiveReload_pendingRemoval=!0,"STYLE"===e.tagName?((r=t.createElement("link")).rel="stylesheet",r.media=e.media,r.disabled=e.disabled):r=e.cloneNode(!1);var s=e.href,u=m(_(e));r.href=u;var l,d=i.getLocation(u).pathname,f=d.split("/").slice(-1)[0],h=e.parentNode;return h.lastChild===e?h.appendChild(r):h.insertBefore(r,e.nextSibling),l=/AppleWebKit/.test(n.userAgent)?5:200,o.Observable.create((function(e){r.onload=function(){e.next(!0),e.complete()}})).pipe(a.mergeMap((function(){return o.timer(l).pipe(a.tap((function(){e&&!e.parentNode||(e.parentNode.removeChild(e),r.onreadystatechange=null)})),a.mapTo(c.linkReplace({target:r,nextHref:u,prevHref:s,pathname:d,basename:f})))})))}function m(e,t){var n,r,o;void 0===t&&(t=b(Date.now())),e=(n=i.splitUrl(e)).url,r=n.hash;var a=(o=n.params).replace(/(\?|&)browsersync=(\d+)/,(function(e,n){return""+n+t}));return a===o&&(a=0===o.length?"?"+t:o+"&"+t),e+a+r}function v(e,t,n){var r=i.array(t.getElementsByTagName("link")).filter((function(e){return e.rel.match(/^stylesheet$/i)&&!e.__LiveReload_pendingRemoval})),s=i.array(t.getElementsByTagName("style")).filter((function(e){return Boolean(e.sheet)})).reduce((function(e,t){return e.concat(g(t,t.sheet))}),[]),u=r.reduce((function(e,t){return e.concat(g(t,t.sheet))}),[]),c=r.concat(s,u),l=i.pickBestMatch(e,c,(function(e){return i.pathFromUrl(_(e))}));if(l)return l.object&&l.object.rule?function(e,t){var n=e.rule,r=e.index,i=e.link,s=n.parentStyleSheet,u=m(n.href),c=n.media.length?[].join.call(n.media,", "):"",l='@import url("'+u+'") '+c+";";n.__LiveReload_newHref=u;var d=t.createElement("link");return d.rel="stylesheet",d.href=u,d.__LiveReload_pendingRemoval=!0,i.parentNode&&i.parentNode.insertBefore(d,i),o.timer(200).pipe(a.tap((function(){d.parentNode&&d.parentNode.removeChild(d),n.__LiveReload_newHref===u&&(s.insertRule(l,r),s.deleteRule(r+1),(n=s.cssRules[r]).__LiveReload_newHref=u)})),a.mergeMap((function(){return o.timer(200).pipe(a.tap((function(){if(n.__LiveReload_newHref===u)return s.insertRule(l,r),s.deleteRule(r+1)})))})))}(l.object,t):p(l.object,t,n);if(r.length){var d=e.split("."),f=d[0];if(d.slice(1),"*"===f)return o.from(r.map((function(e){return p(e,t,n)}))).pipe(a.mergeAll())}return o.EMPTY}function g(e,t){var n=[];return function e(t,i){if(i&&i.length)for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case CSSRule.CHARSET_RULE:break;case CSSRule.IMPORT_RULE:n.push({link:t,rule:a,index:o,href:a.href}),e(t,r(a.styleSheet))}}}(e,r(t)),n;function r(e){var t;try{t=null!=e?e.cssRules:void 0}catch(e){}return t}}function _(e){return e.href||e.getAttribute("data-href")}function b(e){return"browsersync="+e}}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i={trace:"\ud83d\udd0d",debug:"\ud83d\udc1b",info:"\u2728",warn:"\u26a0\ufe0f",error:"\ud83d\udea8",fatal:"\ud83d\udc80"},o={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},a={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"},s=function(){function e(e,t){this.name=e,this.opts=t,this._name=e||"",this._colors=r({},a,t.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch(e){this.logLevel="info"}this._logLevel=o[this.logLevel]}return e.prototype.trace=function(){for(var e=["trace"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype.debug=function(){for(var e=["debug"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype.info=function(){for(var e=["info"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype.warn=function(){for(var e=["warn"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype.error=function(){for(var e=["error"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype.fatal=function(){for(var e=["fatal"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},e.prototype._print=function(e){if(!(o[e]<this._logLevel)){var t=i[e],n=this._name||"unknown",r="error"===e||e.fatal?this._colors.red:"warn"===e?this._colors.yellow:this._colors.green,a=[],s=[null],c=t+" %c%s";s.push(u(this._colors.magenta),n);for(var l=1,d=arguments.length;l<d;l++){var f=arguments[l];"string"==typeof f?1===l?(c+=" %c%s",s.push(u(r)),s.push(f)):/ms$/.test(f)?(c+=" %c%s",s.push(u(this._colors.brightBlack)),s.push(f)):(c+=" %c%s",s.push(u(this._colors.white)),s.push(f)):"number"==typeof f?(c+=" %c%d",s.push(u(this._colors.magenta)),s.push(f)):a.push(f)}s[0]=c,a.forEach((function(e){s.push(e)}))}},e}();function u(e){return"color: "+e+";"}t.Nanologger=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(14);function a(e,t,n){return t&&e.scrollTo?e.scrollTo(0,e.scrollHeight*n.position.proportional):e.scrollTo(0,n.position.raw.y)}t.setScrollEffect=function(e,t){var n=e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("scrollProportionally")))),s=i.partition(n,(function(e){return"document"===e[0].tagname})),u=s[0],c=s[1],l=i.partition(c,(function(e){return e[0].mapping_index>-1})),d=l[0],f=l[1];return i.merge(u.pipe(r.tap((function(e){var t=e[0],n=e[1],r=o.getDocumentScrollSpace(document);return n?window.scrollTo(0,r.y*t.position.proportional):window.scrollTo(0,t.position.raw.y)}))),f.pipe(r.tap((function(e){var t=e[0],n=e[1],r=document.getElementsByTagName(t.tagname);if(r&&r.length){var i=r[t.index];if(i)return a(i,n,t)}}))),d.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("scrollElementMapping"))),r.map((function(e){var t=e[0],n=e[1],r=t[0];return[t,n.filter((function(e,t){return t!==r.mapping_index}))]})),r.tap((function(e){var t=e[0],n=e[1],r=t[0],i=t[1];n.map((function(e){return document.querySelector(e)})).forEach((function(e){a(e,i,r)}))})))).pipe(r.ignoreElements())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(126),o=n(14);n(13).inIframe(),t.incomingHandler$=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","clicks"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(200),o=n(14);t.incomingKeyupHandler=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","keyboard","keyup"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateKeyboardEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(200),o=n(14);t.incomingKeydownHandler=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","keyboard","keydown"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateKeyboardEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(200),o=n(14);t.incomingKeypressHandler=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","keyboard","keypress"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateKeyboardEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(109);t.incomingBrowserNotify=function(e){return e.pipe(r.map((function(e){return i.overlayInfo(e.message,e.timeout)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(126);t.incomingDocumentMousemove=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","mousemove"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(126);t.incomingDocumentMouseout=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","mouseout"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(126);t.incomingDocumentMouseover=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","mouseover"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(126);t.incomingDocumentMousedown=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","mousedown"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(126);t.incomingDocumentMouseup=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","mouse","mouseup"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateMouseEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(494),i=n(501);t.async=new i.AsyncScheduler(r.AsyncAction)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(495).Action);t.AsyncAction=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(496).Subscription);t.Action=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(497),i=n(498),o=n(499),a=n(500),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(o.isFunction(s))try{s.call(this)}catch(e){t=e instanceof a.UnsubscriptionError?u(e.errors):[e]}if(r.isArray(c)){l=-1;for(var d=c.length;++l<d;){var f=c[l];if(i.isObject(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof a.UnsubscriptionError?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(502),a=function(e){function t(n,r){void 0===r&&(r=o.Scheduler.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler);t.AsyncScheduler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();t.Scheduler=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(8),o=n(13),a=n(305),s=n(317);t.incomingFileReload=function(e,t){return e.pipe(i.withLatestFrom(t.option$),i.filter((function(e){return e[0],e[1].codeSync})),i.mergeMap((function(e){var t=e[0],n=e[1];return t.url||!n.injectChanges?s.reloadBrowserSafe():t.basename&&t.ext&&o.isBlacklisted(t)?r.EMPTY:r.of(a.fileReload(t))})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(130);t.incomingDisconnect=function(e,t){return e.pipe(r.withLatestFrom(t.usersList$,t.service$),r.tap((function(e){e[0];var n=e[1],r=e[2];i.removeL("cb__mouseColor"),n.forEach((function(e){return e.element&&e.element.remove()})),r.removeAll(),t.usersList$.next([]),console.log("session disconnected")})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(8),o=n(109);t.incomingConnect=function(e){return e.pipe(i.switchMap((function(e){return window.dispatchEvent(new CustomEvent("locationchange",{detail:{}})),console.log("ConnectedConnectedConnectedConnected"),r.of(o.overlayInfo("Connected"))})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(108);t.incomingBrowserNavigation=function(e){return e.pipe(r.map((function(e){e.navigation===i.BACK?history.back():history.forward()})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(109);t.incomingError=function(e,t){return e.pipe(r.delay(1e3),r.map((function(e){return i.overlayInfo("Something went wrong, try after sometime.",1e3,"red")})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(314);t.incomingInputsChange=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","forms","change"))),r.filter((function(e){return!0===e[1]})),r.map((function(e){var t=e[0];return i.simulateChangeEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(245);t.incomingInputsFocus=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","forms","focus"))),r.filter((function(e){return!0===e[1]})),r.map((function(e){var t=e[0];return i.simulateFocusEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(245);t.incomingInputsBlur=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","forms","blur"))),r.filter((function(e){return!0===e[1]})),r.map((function(e){var t=e[0];return i.simulateFocusEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(313);t.incomingInputsInput=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","forms","input"))),r.filter((function(e){return!0===e[1]})),r.map((function(e){var t=e[0];return i.simulateInputEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(304);t.incomingOptionsSet=function(e){return e.pipe(r.map((function(e){return i.setOptions(e.options)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(315),o=n(14);t.incomingSelectionChange=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","selectionchange"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateSelectionEvent(t)})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(515),a=n(31);t.emitWithPathname=function(e){return function(t,n){return t.pipe(i.withLatestFrom(n.sariskaChannel$,n.sessionInfo$),i.tap((function(t){var n=t[0],i=t[1],s=t[2];i.push(a.ChannelMesssageEvents.PrivateMessage,r({},n,{event_name:e,user:n.user||{id:s.user&&s.user.id}}),o.TIMEOUT)})),i.ignoreElements())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_PRESIGNED_URL="https://api.sariska.io/api/v1/misc/get-presigned",t.GENERATE_TOKEN_URL="https://api.sariska.io/api/v1/misc/generate-token",t.MESSAGING_SERVICE_WEBSOCKET="wss://api.sariska.io/api/v1/messaging/websocket/serializer",t.MEDIA_SERVICE_WEBSOCKET="wss://api.sariska.io/api/v1/media/websocket",t.ACTIVE="ACTIVE",t.EMPTY="EMPTY",t.KEYBOARD_EVENTS_DICT=["inputType","data","code","char","key","location","ctrlKey","shiftKey","altKey","metaKey","repeat","locale","detail","bubbles","cancelable","keyCode","charCode","which","buttons","button","clientX","clientY"],t.INPUT_TYPES=[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement],t.pageSize=20,t.TIMEOUT=1e4,t.BACK="back",t.FORWARD="forward",t.RELAOD="reload",t.SECRET_SALT="R43TWE",t.PRIMARY_BUTTON="PRIMARY_BUTTON",t.PRIMARY_BUTTON_WITH_WIDGET="PRIMARY_BUTTON_WITH_WIDGET",t.INPUT_WITH_OVERLAY="INPUT_WITH_OVERLAY",t.HEADER_WITH_CHAT_WIDGET="HEADER_WITH_CHAT_WIDGET",t.RESOLUTION="80x80",t.FRAMERATE=30,t.PRIMARY_BUTTON_WITH_INPUT="PRIMARY_BUTTON_WITH_INPUT",t.PRIMARY_BUTTON_WITH_WIDGET_OPEN="PRIMARY_BUTTON_WITH_WIDGET_OPEN",t.PRIMARY_BUTTON_WITH_WIDGET_CLOSE="PRIMARY_BUTTON_WITH_WIDGET_CLOSE",t.INVITE_PEOPLE="INVITE_PEOPLE",t.AUDIO="AUDIO",t.IS_REOCRDING="IS_REOCRDING",t.IS_MEDIA="isMedia",t.IS_CHAT="isChat",t.SYNC_WITH_CURRENT_URL="syncUrl",t.CANCEL_POPUP="CANCEL_POPUP",t.JOIN_SESSION="JOIN_SESSION",t.VOLUME_TOGGLE="muteAll",t.VIDEO_TOGGLE="videoEnabled",t.WIDGET_TOGGLE="videoWidget",t.MIC_TOGGLE="audioEnabled",t.CALL_END="CALL_END",t.WIDGET_ACTION="WIDGET_ACTION",t.timeout=2e3,t.CB__TOOLBOX_CONTAINER="cb--toolbox-container",t.CB__CUSTOM_MOUSE_CLASS="cb__customMouse",t.INIT_CHAT="INIT_CHAT",t.AFTER_CLOSE_SESSION_PUBLISHER="AFTER_CLOSE_SESSION_PUBLISHER",t.AFTER_CLOSE_SESSION_SUBSCRIBER="AFTER_CLOSE_SESSION_SUBSCRIBER",t.CLOSE_SESSION="close_session",t.REPORT_PROBLEM="REPORT_PROBLEM",t.ERROR="ERROR",t.DUPLICATE_SESSION_TOAST_TEXT="You have started duplicate session, Please mute mic and volume for better experience",t.GOOGLE_API_FEEDBACK_URL="https://docs.google.com/forms/u/0/d/e/1FAIpQLSdwCSJinbN0OMHTxRksOq9f6ZelI-FyGypFXn_8jV8MR09LgQ/formResponse",t.EMOJI_RANGES_REGEX=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDrag=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","drag"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDragend=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","dragend"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDragover=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","dragover"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDragleave=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","dragleave"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDragstart=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","dragstart"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDrop=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","drop"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(177);t.incomingTouchstart=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","touch","touchstart"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateTouchEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(177);t.incomingTouchmove=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","touch","touchmove"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateTouchEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(177);t.incomingTouchend=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","touch","touchend"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateTouchEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(177);t.incomingTouchcancel=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","touch","touchcancel"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateTouchEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(178),o=n(14);t.incomingPlay=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","media","play"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateMediaEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(178),o=n(14);t.incomingPause=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","media","pause"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateMediaEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(178),o=n(14);t.incomingVolumechange=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","media","volumechange"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateMediaEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(178),o=n(14);t.incomingSeeked=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","media","seeked"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateMediaEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.incomingRemoteLocation=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","browser","locationchange")),t.usersList$,t.sessionInfo$),r.filter((function(e){return!0===e[1]})),r.map((function(e){e[0],e[1],e[2]})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(14),o=n(115);t.incomingDragenter=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","draganddrop","dragenter"))),r.filter((function(e){var t=e[0],n=e[1],r=i.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return o.simulateDragAndDropEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(311);t.incomingBrowserLocation=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","location"))),r.filter((function(e){return!0===e[1]})),r.map((function(e){var t=e[0];return i.browserSetLocation(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(8),o=n(109),a=n(130),s=n(13);t.incomingSessionClose=function(e,t){return e.pipe(i.withLatestFrom(t.usersList$,t.sessionInfo$),i.switchMap((function(e){var n=e[0],i=e[1],u=e[2],c=n.user.id===u.room.created_by;if(!c&&n.user.id===u.user.id)return a.removeL("cb__mouseColor"),i.forEach((function(e){return e.element&&e.element.remove()})),t.usersList$.next([]),s.getPort().postMessage(["broadcast_local",{key:"close_session"}]),r.EMPTY;if(!c&&n.user.id!==u.user.id){var l=s.getMouseId(n.user.id),d=document.getElementById(l);return d&&d.remove(),s.getPort().postMessage(["broadcast_local",{key:"close_session"}]),r.EMPTY}return c&&n.user.id===u.user.id?(a.removeL("cb__mouseColor"),i.forEach((function(e){return e.element&&e.element.remove()})),t.usersList$.next([]),s.getPort().postMessage(["broadcast_local",{key:"close_session"}]),r.EMPTY):c&&n.user.id!==u.user.id?(a.removeL("cb__mouseColor"),i.forEach((function(e){return e.element&&e.element.remove()})),t.usersList$.next([]),s.getPort().postMessage(["broadcast_local",{key:"close_session"}]),r.of(o.overlayInfo(n.user.name+" has closed the session.",2e3,"green",!0))):r.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(316),o=n(14);t.incomingSelect=function(e,t){return e.pipe(r.withLatestFrom(t.option$.pipe(r.pluck("ghostMode","select"))),r.filter((function(e){var t=e[0],n=e[1],r=o.getPathname();return n&&t.pathname===r&&t.host===location.hostname})),r.map((function(e){var t=e[0];return i.simulateSelectEvent(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i={display:"none",fontFamily:"sans-serif",position:"fixed",fontSize:"14px",zIndex:9999,fontWeight:600,right:0,top:0,textOverflow:"ellipsis",borderBottomLeftRadius:"5px",backgroundColor:"rgb(0, 135, 90)",margin:0,color:"white",textAlign:"center",pointerEvents:"none",borderRadius:"3px",padding:"16px"};t.initNotify=function(e){var t,n=i;if(e.notify.styles)if("[object Array]"===Object.prototype.toString.call(e.notify.styles))n=e.notify.styles.join(";");else for(var o in e.notify.styles)e.notify.styles.hasOwnProperty(o)&&(n[o]=e.notify.styles[o]);if((t=document.createElement("DIV")).id="__bs_notify__","string"==typeof n)t.style.cssText=n;else for(var a in n)t.style&&(t.style[a]=n[a]);return new r.BehaviorSubject(t)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(14),s=n(64),u=n(109),c=n(310),l=n(309);t.PREFIX="tgtrgtrgtrgrtg",t.SUFFIX="45y45y45y45y45y",t.regex=new RegExp(t.PREFIX+"(.+?)"+t.SUFFIX,"g"),t.initWindowName=function(e){var n=function(){try{return function(e){for(var n,r;n=t.regex.exec(e);)r=n[1];if(r)return JSON.parse(r)}(e.name)}catch(e){return{}}}();if(e.name=e.name.replace(t.regex,""),n&&n.bs&&n.bs.hardReload&&n.bs.scroll){var r=n.bs.scroll,o=r.x,a=r.y;return i.of(l.setScroll(o,a),u.consoleDebug("[ScrollRestore] x = "+o+" y = "+a))}return i.EMPTY},t.scrollRestoreHandlers$=new i.BehaviorSubject(((r={})[s.EffectNames.PreBrowserReload]=function(e,n){return e.pipe(o.withLatestFrom(n.window$,n.document$),o.map((function(e){var n=e[1],r=e[2];return[n.name,t.PREFIX,JSON.stringify({bs:{hardReload:!0,scroll:a.getBrowserScrollPosition(n,r)}}),t.SUFFIX].join("")})),o.map((function(e){return c.setWindowName(e)})))},r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(538),o=n(539),a=n(540),s=n(541),u=n(542),c=n(543),l=n(544),d=n(545),f=n(546),h=n(547),p=n(548),m=n(549),v=n(550),g=n(551),_=n(552),b=n(553),y=n(554),E=n(555),S=n(556),D=n(557),w=n(558),C=n(559),T=n(560),A=n(561),k=n(562),O=n(563),R=n(564),M=n(565),I=n(566),P=n(567),N=n(568),x=n(569),F=n(570),L=n(571);t.initListeners=function(e,t,n,j,B,U,H,V){return r.merge(d.getFormInputFocusStream(t,n,j,B,U),f.getFormInputStream(t,n,j,B,U),l.getFormInputBlurStream(t,n,j,B),c.getFormInputChangeStream(t,n,j,B,U),p.getMouseoutStream(t,n,j,B,U),h.getMousemoveStream(t,n,j,B),m.getMouseoverStream(t,n,j,B,U),v.getMouseupStream(t,n,j,B),g.getMousedownStream(t,n,j,B),u.getScrollStream(e,t,n,j,B),s.getClickStream(t,n,j,B,U),i.getKeyboardKeyupStream(t,n,j,B,U),a.getKeyboardKeydownStream(t,n,j,B,U),o.getKeyboardKeypressStream(t,n,j,B),_.getSelectionStream(t,n,j,B,U,e),b.getDragStream(t,n,j,B),y.getDropStream(t,n,j,B),E.getDragstartStream(t,n,j,B),S.getDragendStream(t,n,j,B),D.getDragoverStream(t,n,j,B),w.getDragleaveStream(t,n,j,B),C.getDragenterStream(t,n,j,B),T.getTouchstartStream(t,n,j,B,U),A.getTouchmoveStream(t,n,j,B),k.getTouchendStream(t,n,j,B,U),O.getTouchcancelStream(t,n,j,B),R.getBrowserNavStream(t,n,j,B,U,e),M.getMediaSeekedStream(t,n,j,B),I.getMediaPauseStream(t,n,j,B),P.getMediaPlayStream(t,n,j,B),N.getMediaVolumechange(t,n,j,B),x.getBrowserOnConnectportStream(t,n,j,B),F.getBrowserLocationChangeStream(t,n,j,B,U,e,H,V),L.getSelectStream(t,n,j,B))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getKeyboardKeyupStream=function(e,t,n,d,f){var h=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.KeyboardKeyup}))));return d.pipe(i.pluck("ghostMode","keyboard","keyup"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"keyup").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(h,f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0];e[2].setByKey("ctrl+a",!1);var n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Keyup)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getKeyboardKeypressStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.KeyboardKeypress}))));return d.pipe(i.pluck("ghostMode","keyboard","keypress"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"keypress").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Keypress)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getKeyboardKeydownStream=function(e,t,n,d,f){var h=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.KeyboardKeydown}))));return d.pipe(i.pluck("ghostMode","keyboard","keydown"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"keydown").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(h,f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0];e[2].setByKey("ctrl+a",c.isControlA(t));var n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Keydown)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=u.inIframe();t.getClickStream=function(e,t,n,l,d){var f=u.createTimedBooleanSwitch((c?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Click}))));return l.pipe(i.pluck("ghostMode","mouse","clicks"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"click").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f,d),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(t){var n,i=t[0],c=t[2];if("LABEL"===i.target.tagName){var l=i.target.getAttribute("for");if(l&&e.getElementById(l))return o.EMPTY}if(u.stopRemoteEventEcho(i.target,c,"lastClickTS")||u.stopLocalEventEcho(i,c))return o.EMPTY;if(Array.isArray(i.path)&&i.path)for(var d=0;d<i.path.length;d++)if("A"===(i.path[d].tagName||i.path[d].nodeName)){n=i.path[d];break}u.setCheckboxOrRadioLabelClick(i,c);var f=s.getElementData(i.target||i.srcElement);if(i.target.closest("video")||i.target.closest("audio"))return o.EMPTY;var h=s.getKeyboardEventProps(i),p=i.type,m=i.target.getAttributeNames(),v=m.map((function(e){return i.target.getAttribute(e)}));return u.outgoing(r({},f,{value:n?u.getLocation(n.href).pathname+"?"+JSON.stringify(r({},u.parseQuery(n.href),{completeUrl:n.href})):n&&n.href,type:p,content_type:i.target.textContent,content:JSON.stringify({attributesKeys:m,attributesValues:v,textContent:i.target.textContent}),is_blank:n&&"_blank"===n.target,is_default:!!n}),h,a.OutgoingSocketEvents.Click)}))):o.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(13),a=n(31),s=n(14),u=n(13),c=u.inIframe();t.getScrollStream=function(e,t,n,l,d){var f=o.createTimedBooleanSwitch((c?l:n).pipe(r.filter((function(e){return e[0]===a.IncomingSocketNames.Scroll})))),h=d.pipe(r.pluck("scrollElementMapping"),r.map((function(e){return e.map((function(e){return t.querySelector(e)}))})));return d.pipe(r.pluck("ghostMode","scroll"),r.switchMap((function(n){return n?o.getDocumentObservable(t,"scroll").pipe(r.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),r.withLatestFrom(f,h),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(n){var r,o=n[0],c=(n[1],n[2]),l=o.type,d=o.target;if(d===t)return r=s.getScrollPosition(e,t),isNaN(r.proportional)?i.EMPTY:u.outgoing({position:r,tagname:"document",index:0},{},a.OutgoingSocketEvents.Scroll);var f=t.getElementsByTagName(d.tagName),h=Array.prototype.indexOf.call(f||[],d);return s.skipToolbox(d)?i.EMPTY:(r=s.getScrollPositionForElement(d),isNaN(r.proportional)?i.EMPTY:u.outgoing({position:r,type:l,tagname:d.tagName,index:h,mapping_index:c.indexOf(d)},{},a.OutgoingSocketEvents.Scroll))}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=u.inIframe();t.getFormInputChangeStream=function(e,t,n,l,d){var f=u.createTimedBooleanSwitch((c?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.InputChange}))));return l.pipe(i.pluck("ghostMode","forms","change"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"change").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f,d),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2];if(u.stopRemoteEventEcho(t.target,n,"lastClickTS"))return o.EMPTY;var i=t.type,c=s.getElementData(t.target||t.srcElement),l=s.getKeyboardEventProps(t);return u.outgoing(r({},c,{type:i}),l,a.OutgoingSocketEvents.InputChange)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getFormInputBlurStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.InputBlur}))));return d.pipe(i.pluck("ghostMode","forms","blur"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"blur").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getElementData(t.target||t.srcElement),o=s.getKeyboardEventProps(t);return c.outgoing(r({},i,{type:n}),o,a.OutgoingSocketEvents.InputBlur)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getFormInputFocusStream=function(e,t,n,d,f){var h=u.createTimedBooleanSwitch((l?n:t).pipe(o.filter((function(e){return e[0]===a.IncomingSocketNames.InputFocus}))));return d.pipe(o.pluck("ghostMode","forms","focus"),o.switchMap((function(t){return t?u.getDocumentObservable(e,"focus").pipe(o.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),o.withLatestFrom(h,f),o.filter((function(e){var t=e[1];return Boolean(t)})),o.map((function(e){var t=e[0],n=(e[2],t.type),i=t.target||t.srcElement,o=s.getElementData(i),u=s.getKeyboardEventProps(t);return c.outgoing(r({},o,{type:n}),u,a.OutgoingSocketEvents.InputFocus)}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=u.inIframe();t.getFormInputStream=function(e,t,n,l,d){var f=u.createTimedBooleanSwitch((c?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.InputInput}))));return l.pipe(i.pluck("ghostMode","forms","input"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"input").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f,d),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2];if(u.stopRemoteEventEcho(t.target,n,"lastClickTS"))return o.EMPTY;var i=t.target||t.srcElement,c=s.getElementData(i),l=s.getKeyboardEventProps(t),d=u.getDiff(i,n);return u.outgoing(r({},c,d,{type:t.type}),l,a.OutgoingSocketEvents.InputInput)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=u.isMobile(),d=a.inIframe();t.getMousemoveStream=function(e,t,n,f){var h=a.createTimedBooleanSwitch((d?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.DocumentMousemove}))));return f.pipe(i.pluck("ghostMode","mouse","mousemove"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"mousemove").pipe(i.filter((function(e){return e.isTrusted&&!l})),i.withLatestFrom(h),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=t.target||t.srcElement,o=u.getMousePosition(t),a=u.getKeyboardEventProps(t),l=u.getElementData(i),d=u.skipToolbox(i);if(Array.isArray(t.path)&&t.path)for(var f=0;f<t.path.length;f++)if("A"===(t.path[f].tagName||t.path[f].nodeName)&&window.location.href.indexOf("ogs.google.com")<0){t.path[f].target="_self";break}return c.outgoing(r({},l,{type:n,is_toolbox:d,coordinates:o}),a,s.OutgoingSocketEvents.Mousemove)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=a.inIframe(),d=u.isMobile();t.getMouseoutStream=function(e,t,n,f,h){var p=a.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.DocumentMouseout}))));return f.pipe(i.pluck("ghostMode","mouse","mouseout"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"mouseout").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)&&!d})),i.withLatestFrom(p,h),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2],i=t.type,o=!1,a=t.target||t.srcElement,l=u.getMousePosition(t),d=u.getKeyboardEventProps(t),f=u.getElementData(a);(t.clientY<=0||t.clientX<=0||t.clientX>=window.innerWidth||t.clientY>=window.innerHeight)&&(n.setByKey("cb__innerDocTouch",!1),o=!0);var h=u.isCustomMouse(t.target||t.srcElement),p=r({},f,{mouseout:o,type:i});return h||(u.getStyle(a,"cursor"),u.getStyle(a,"background-color"),u.getStyle(a,"color"),p.css={},p.coordinates=l),c.outgoing(p,d,s.OutgoingSocketEvents.Mouseout)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=u.isMobile(),d=a.inIframe();t.getMouseoverStream=function(e,t,n,f,h){var p=a.createTimedBooleanSwitch((d?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.DocumentMouseover}))));return f.pipe(i.pluck("ghostMode","mouse","mouseover"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"mouseover").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)&&!l})),i.withLatestFrom(p,h),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2],i=t.type,o=t.target||t.srcElement,a=u.getMousePosition(t),l=u.getKeyboardEventProps(t),d=u.getElementData(o),f=u.isCustomMouse(o),h=r({},d,{type:i});if(Array.isArray(t.path)&&t.path)for(var p=0;p<t.path.length;p++)if("A"===(t.path[p].tagName||t.path[p].nodeName)&&window.location.href.indexOf("ogs.google.com")<0){t.path[p].target="_self";break}return f||(u.getStyle(o,"cursor"),u.getStyle(o,"background-color"),u.getStyle(o,"color"),h.css={},h.coordinates=a),n.setByKey("cb__innerDocTouch",!0),c.outgoing(h,l,s.OutgoingSocketEvents.Mouseover)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=u.isMobile(),d=a.inIframe();t.getMouseupStream=function(e,t,n,f){var h=a.createTimedBooleanSwitch((d?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.DocumentMouseup}))));return f.pipe(i.pluck("ghostMode","mouse","mouseup"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"mouseup").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)&&!l})),i.withLatestFrom(h),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=u.getMousePosition(t),o=u.getKeyboardEventProps(t),a=u.getElementData(t.target||t.srcElement);return c.outgoing(r({},a,{type:n,coordinates:i}),o,s.OutgoingSocketEvents.Mouseup)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(13),s=n(31),u=n(14),c=n(14),l=n(13),d=u.isMobile(),f=a.inIframe();t.getMousedownStream=function(e,t,n,h){var p=a.createTimedBooleanSwitch((f?n:t).pipe(o.filter((function(e){return e[0]===s.IncomingSocketNames.DocumentMousedown}))));return h.pipe(o.pluck("ghostMode","mouse","mousedown"),o.switchMap((function(t){return t?a.getDocumentObservable(e,"mousedown").pipe(o.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)&&!d})),o.withLatestFrom(p),o.filter((function(e){var t=e[1];return Boolean(t)})),o.map((function(e){var t=e[0],n=t.type,i=c.getMousePosition(t),o=u.getKeyboardEventProps(t),a=u.getElementData(t.target||t.srcElement);return l.outgoing(r({},a,{type:n,coordinates:i}),o,s.OutgoingSocketEvents.Mousedown)}))):i.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(13),a=n(31),s=n(14),u=n(13),c=o.inIframe();t.getSelectionStream=function(e,t,n,l,d,f){var h=o.createTimedBooleanSwitch((c?n:t).pipe(r.filter((function(e){return e[0]===a.IncomingSocketNames.SelectionChange}))));return l.pipe(r.pluck("ghostMode","selectionchange"),r.switchMap((function(t){return t?o.getDocumentObservable(e,"selectionchange").pipe(r.filter((function(e){return e.isTrusted})),r.withLatestFrom(h,d),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(t){var n=t[0],r=t[2],o=n.type,c=f.getSelection(),l=e.activeElement;if(l!==e.body&&!l.hasAttribute("contenteditable"))return i.EMPTY;if(c.rangeCount<1&&c.isCollapsed)return u.outgoing({type:o,is_collapsed:!0},{},a.OutgoingSocketEvents.SelectionChange);if(r.getByKey("ctrl+a"))return u.outgoing({type:o,select_all:!0},{},a.OutgoingSocketEvents.SelectionChange);var d,h,p,m,v=c.getRangeAt(0),g=v.startContainer,_=v.endContainer;"#text"===v.startContainer.nodeName&&(d=s.childElementIndex(v.startContainer.parentNode.childNodes,v.startContainer),g=v.startContainer.parentNode),"#text"===v.endContainer.nodeName&&(h=s.childElementIndex(v.endContainer.parentNode.childNodes,v.endContainer),_=v.endContainer.parentNode),p=s.getElementData(g),m=s.getElementData(_);var b=v.startOffset,y=v.endOffset;return u.outgoing({is_collapsed:c.isCollapsed,start_container:p,end_container:m,type:o,text_selection:{range_start_offset:b,range_end_offset:y,start_node_offset:d,end_node_offset:h}},{},a.OutgoingSocketEvents.SelectionChange)}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Drag}))));return d.pipe(i.pluck("ghostMode","draganddrop","drag"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"drag").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=s.getKeyboardEventProps(t),i=s.getElementData(t.target||t.srcElement),o=t.type;return c.outgoing(r({},i,{type:o}),n,a.OutgoingSocketEvents.Drag)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDropStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Drop}))));return d.pipe(i.pluck("ghostMode","draganddrop","drop"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"drop").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Drop)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragstartStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Dragstart}))));return d.pipe(i.pluck("ghostMode","draganddrop","dragstart"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"dragstart").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Dragstart)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragendStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(o.filter((function(e){return e[0]===a.IncomingSocketNames.Dragend}))));return d.pipe(o.pluck("ghostMode","draganddrop","dragend"),o.switchMap((function(t){return t?u.getDocumentObservable(e,"dragend").pipe(o.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),o.withLatestFrom(f),o.filter((function(e){var t=e[1];return Boolean(t)})),o.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Dragend)}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragoverStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Dragover}))));return d.pipe(i.pluck("ghostMode","draganddrop","dragover"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"dragover").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Dragover)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragleaveStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Dragleave}))));return d.pipe(i.pluck("ghostMode","draganddrop","dragleave"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"dragleave").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Dragleave)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getDragenterStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(o.filter((function(e){return e[0]===a.IncomingSocketNames.Dragenter}))));return d.pipe(o.pluck("ghostMode","draganddrop","dragenter"),o.switchMap((function(t){return t?u.getDocumentObservable(e,"dragenter").pipe(o.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),o.withLatestFrom(f),o.filter((function(e){var t=e[1];return Boolean(t)})),o.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},o,{type:n}),i,a.OutgoingSocketEvents.Dragenter)}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=a.inIframe();t.getTouchstartStream=function(e,t,n,d,f){var h=a.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.Touchstart}))));return d.pipe(i.pluck("ghostMode","touch","touchstart"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"touchstart").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(h,f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2],i=t.type,o=u.getMousePositionTouch(t),a=u.getKeyboardEventProps(t),l=u.getElementData(t.target||t.srcElement);return n.setByKey("cb__innerDocTouch",!0),c.outgoing(r({},l,{type:i,coordinates:o}),a,s.OutgoingSocketEvents.Touchstart)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=a.inIframe();t.getTouchmoveStream=function(e,t,n,d){var f=a.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.Touchmove}))));return d.pipe(i.pluck("ghostMode","touch","touchmove"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"touchmove").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=u.getMousePositionTouch(t),o=u.getKeyboardEventProps(t),a=u.getElementData(t.target||t.srcElement);return c.outgoing(r({},a,{type:n,coordinates:i}),o,s.OutgoingSocketEvents.Touchmove)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(13),s=n(31),u=n(14),c=n(13),l=a.inIframe();t.getTouchendStream=function(e,t,n,d,f){var h=a.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===s.IncomingSocketNames.Touchend}))));return d.pipe(i.pluck("ghostMode","touch","touchend"),i.switchMap((function(t){return t?a.getDocumentObservable(e,"touchend").pipe(i.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(h,f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=e[2],i=t.type,o=u.getKeyboardEventProps(t),a=u.getElementData(t.target||t.srcElement);return n.setByKey("cb__innerDocTouch",!1),c.outgoing(r({},a,{type:i}),o,s.OutgoingSocketEvents.Touchend)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(8),a=n(13),s=n(31),u=n(14),c=n(14),l=n(13),d=a.inIframe();t.getTouchcancelStream=function(e,t,n,f){var h=a.createTimedBooleanSwitch((d?n:t).pipe(o.filter((function(e){return e[0]===s.IncomingSocketNames.Touchcancel}))));return f.pipe(o.pluck("ghostMode","touch","touchcancel"),o.switchMap((function(t){return t?a.getDocumentObservable(e,"touchcancel").pipe(o.filter((function(e){return e.isTrusted&&!u.skipToolbox(e.target||e.srcElement)})),o.withLatestFrom(h),o.filter((function(e){var t=e[1];return Boolean(t)})),o.map((function(e){var t=e[0],n=t.type,i=c.getMousePositionTouch(t),o=u.getKeyboardEventProps(t),a=u.getElementData(t.target||t.srcElement);return l.outgoing(r({},a,{type:n,coordinates:i}),o,s.OutgoingSocketEvents.Touchcancel)}))):i.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(31),a=n(14),s=n(13),u=n(199),c=n(13),l=n(108),d=s.inIframe();t.getBrowserNavStream=function(e,t,n,f,h,p){var m=s.createTimedBooleanSwitch((d?n:t).pipe(r.filter((function(e){return e[0]===o.IncomingSocketNames.BrowserNavigation}))));return f.pipe(r.pluck("ghostMode","browser","navigation"),r.switchMap((function(e){return e?s.getWindowObservable(p,"popstate").pipe(r.filter((function(e){return e.isTrusted})),r.withLatestFrom(m,h),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(e){var t=e[0];if(!e[2].getByKey("cb__innerDocTouch")){p.dispatchEvent(new CustomEvent("locationchange",{detail:p.location.href}));var n,r,i=t.type,s=a.getKeyboardEventProps(t),d=u.get("cb__memoryHistoryState")||{},f=d.stateListKeys||[],h=d.pointerIndex||0;return r=h,null===t.state?(n=l.BACK,c.outgoing({type:i,navigation:n},s,o.OutgoingSocketEvents.BrowserNavigation)):(t.state&&(h=f.findIndex((function(e){return e===t.state.key}))),n=h<r?l.BACK:l.FORWARD,c.outgoing({type:i,navigation:n},s,o.OutgoingSocketEvents.BrowserNavigation))}}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getMediaSeekedStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Seeked}))));return d.pipe(i.pluck("ghostMode","media","seeked"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"seeked").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=t.target||t.srcElement,o=s.getElementData(i);return c.outgoing(r({},o,{type:n,seek_time:i.currentTime}),{},a.OutgoingSocketEvents.Seeked)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getMediaPauseStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Pause}))));return d.pipe(i.pluck("ghostMode","media","pause"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"pause").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},i,{type:n}),{},a.OutgoingSocketEvents.Pause)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getMediaPlayStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Play}))));return d.pipe(i.pluck("ghostMode","media","play"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"play").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getElementData(t.target||t.srcElement);return c.outgoing(r({},i,{type:n}),{},a.OutgoingSocketEvents.Play)}))):o.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getMediaVolumechange=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Volumechange}))));return d.pipe(i.pluck("ghostMode","media","volumechange"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"volumechange").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=t.target||t.srcElement,o=s.getElementData(i);return c.outgoing(r({},o,{type:n,volume:i.volume,muted:i.muted}),{},a.OutgoingSocketEvents.Volumechange)}))):o.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(31),a=n(13),s=a.inIframe(),u=a.getPort();t.getBrowserOnConnectportStream=function(e,t,n,c){var l=a.createTimedBooleanSwitch((s?n:t).pipe(r.filter((function(e){return e[0]===o.IncomingSocketNames.BrowserOnConnectport}))));return c.pipe(r.pluck("ghostMode","browser","connectport"),r.switchMap((function(e){return e?i.fromEventPattern((function(e){u&&u.onMessage.addListener(e)}),(function(e){u&&u.onMessage.removeListener(e)})).pipe(r.withLatestFrom(l),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(e){var t=e[0];return n.next(t[0]),t[0]}))):i.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(23),o=n(31),a=n(13),s=n(14),u=n(130),c=a.inIframe();t.getBrowserLocationChangeStream=function(e,t,n,l,d,f,h,p){var m=a.createTimedBooleanSwitch((c?n:t).pipe(r.filter((function(e){return e[0]===o.IncomingSocketNames.LocationChange}))));return l.pipe(r.pluck("ghostMode","browser","locationchange"),r.switchMap((function(e){return e?a.getWindowObservable(f,"locationchange").pipe(r.withLatestFrom(m,p),r.filter((function(e){var t=e[1];return Boolean(t)})),r.map((function(e){var t=e[0],n=e[2];n&&n.push(o.ChannelMesssageEvents.UpdatePresenceMetadata,{email:location.hostname,avatar:s.pathNameHashOrLocation(),color:u.getL("userColor")});var r=h.getValue();if(r.user.id===r.room.created_by)return a.outgoing({pathname:t.detail},{},o.OutgoingSocketEvents.Locationchange)}))):i.EMPTY})))}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(23),a=n(31),s=n(14),u=n(13),c=n(13),l=u.inIframe();t.getSelectStream=function(e,t,n,d){var f=u.createTimedBooleanSwitch((l?n:t).pipe(i.filter((function(e){return e[0]===a.IncomingSocketNames.Select}))));return d.pipe(i.pluck("ghostMode","select"),i.switchMap((function(t){return t?u.getDocumentObservable(e,"select").pipe(i.filter((function(e){return e.isTrusted&&!s.skipToolbox(e.target||e.srcElement)})),i.withLatestFrom(f),i.filter((function(e){var t=e[1];return Boolean(t)})),i.map((function(e){var t=e[0],n=t.type,i=s.getKeyboardEventProps(t),o=t.target||t.srcElement,u=s.getElementData(o),l={start:o.selectionStart,end:o.selectionEnd,direction:o.selectionDirection};return c.outgoing(r({},u,{type:n,form_selection:l}),i,a.OutgoingSocketEvents.Select)}))):o.EMPTY})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(717),i=n(8),o=n(13),a=n(108),s=o.inIframe();t.initWidget=function(e,t,n){return e.pipe(i.pluck("widget"),i.distinctUntilChanged(),i.map((function(e){s?n():(window.chrome&&window.chrome.runtime&&window.chrome.runtime.id,function(){var e=document.createElement("div");e.id=a.CB__TOOLBOX_CONTAINER,document.body&&document.body.appendChild(e);var i=e.attachShadow({mode:"open"}),o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href","https://sdk.sariska.io/main.609f68047f283f223ce5.css"),o.setAttribute("id","cb__stylesheet"),r.default.renderSync({socket$:t.socket$,sariskaChannel$:t.sariskaChannel$,initApp:n,usersList$:t.usersList$,service$:t.service$,session$:t.sessionInfo$}).appendTo(i),i.appendChild(o)}())})))}},function(e,t,n){},function(e,t,n){"use strict";var r=n(318),i=n(246),o=i.bb_,a=i.bc_,s=i.bd_,u=i.be_,c=i.bf_,l=i.bg_,d=n(320),f=n(322),h=n(582);function p(e){this.bh_=new r,this.bi_=e,this.bj_=!1}function m(e,t,n){var r;t||(t=new a),r=n?n.J_:new p(t),this.bk_=1,this.bl_=0,this.bm_=null,this.bn_=n,this.data={},this.J_=r,this.l_=t,this.global=e||{},this.bo_=[t],this.bp_=!1,this.bq_=void 0,this.b_=null,this.g_=null,this.i_=null,this.ax_=null}var v=m.prototype={aQ_:!0,X_:"object"==typeof document&&document,bc:function(e,t,n){var r=new u(e,t,n);return this.br_(r,0,!0)},ay_:function(e,t,n){var r=new u(e,t,n,!0);this.br_(r,0)},br_:function(e,t,n){return this.l_.bs_(e),!0===n&&(this.bo_.push(e),this.l_=e),0===t?this:e},element:function(e,t,n,r,i,a,s){var u=new o(e,t,n,r,i,a,s);return this.br_(u,i)},aN_:function(e,t,n,r,i){return this.element(e,h(t),n,r.h_,0,0,i)},n:function(e,t){var n=e.bt_();return this.node(n),n.aB_=t,this},node:function(e){return this.l_.bs_(e),this},text:function(e,t){var n=typeof e;if("string"!=n){if(null==e)return;if("object"===n&&e.toHTML)return this.h(e.toHTML(),t);e=e.toString()}return this.l_.bs_(new s(e,t)),this},html:function(e,t){if(null!=e){var n=l(e,t);this.node(n)}return this},beginElement:function(e,t,n,r,i,a,s){var u=new o(e,t,n,r,i,a,s);return this.br_(u,i,!0),this},aL_:function(e,t,n,r,i){return this.beginElement(e,h(t),n,r.h_,0,0,i)},bf:function(e,t,n){var r=new c(e,t,n);return this.br_(r,null,!0),this},ef:function(){this.endElement()},endElement:function(){var e=this.bo_;e.pop(),this.l_=e[e.length-1]},end:function(){this.l_=void 0;var e=--this.bk_,t=this.bn_;return 0===e?t?t.bu_():this.bv_():e-this.bl_==0&&this.bw_(),this},bu_:function(){var e=--this.bk_;if(0===e){var t=this.bn_;t?t.bu_():this.bv_()}else e-this.bl_==0&&this.bw_()},bv_:function(){var e=this.J_;e.bj_=!0,e.bh_.emit("finish",this.aR_())},bw_:function(){var e=this._last,t=0;!function n(){if(t!==e.length){var r=e[t++];r(n),r.length||n()}}()},error:function(e){try{this.emit("error",e)}finally{this.end()}return this},beginAsync:function(e){if(this.bp_)throw Error("Tried to render async while in sync mode. Note: Client side await is not currently supported in re-renders (Issue: #942).");var t=this.J_;e&&e.last&&this.bl_++,this.bk_++;var n=this.l_.bx_(),r=new m(this.global,n,this);return t.bh_.emit("beginAsync",{out:r,parentOut:this}),r},createOut:function(){return new m(this.global)},flush:function(){var e=this.J_.bh_;e.listenerCount("update")&&e.emit("update",new d(this))},B_:function(){return this.J_.bi_},aR_:function(){return this.by_||(this.by_=new d(this))},on:function(e,t){var n=this.J_;return"finish"===e&&n.bj_?t(this.aR_()):"last"===e?this.onLast(t):n.bh_.on(e,t),this},once:function(e,t){var n=this.J_;return"finish"===e&&n.bj_?t(this.aR_()):"last"===e?this.onLast(t):n.bh_.once(e,t),this},emit:function(e,t){var n=this.J_.bh_;switch(arguments.length){case 1:n.emit(e);break;case 2:n.emit(e,t);break;default:n.emit.apply(n,arguments)}return this},removeListener:function(){var e=this.J_.bh_;return e.removeListener.apply(e,arguments),this},sync:function(){this.bp_=!0},isSync:function(){return this.bp_},onLast:function(e){var t=this._last;return void 0===t?this._last=[e]:t.push(e),this},A_:function(e){var t=this.bq_;if(!t){var n=this.B_();e||(e=this.X_),this.bq_=t=n.bz_(e,null),f(t,n,e,this.b_)}return t},toString:function(e){for(var t=this.A_(e),n="",r=t.firstChild;r;){var i=r.nextSibling;if(1!=r.nodeType){var o=t.ownerDocument.createElement("div");o.appendChild(r.cloneNode()),n+=o.innerHTML}else n+=r.outerHTML;r=i}return n},then:function(e,t){var n=this,r=new Promise((function(e,t){n.on("error",t).on("finish",(function(t){e(t)}))}));return Promise.resolve(r).then(e,t)},catch:function(e){return this.then(void 0,e)},isVDOM:!0,c:function(e,t,n){this.g_=e,this.i_=t,this.ax_=n}};v.e=v.element,v.be=v.beginElement,v.ee=v.aM_=v.endElement,v.t=v.text,v.h=v.w=v.write=v.html,e.exports=m},function(e,t,n){"use strict";var r=n(144),i=n(127),o=n(179);function a(e){o(this,e),this.bD_=null,this.bE_=null}function s(e){this.bA_(null),this.y_=e}s.prototype={bC_:11,bF_:!0,bt_:function(){return new a(this)},bz_:function(e){return(e.ownerDocument||e).createDocumentFragment()}},i(s,r),a.prototype=s.prototype,e.exports=s},function(e,t,n){"use strict";var r=n(145),i=n(95),o=r.ae_,a=n(144),s=n(127),u=/^xmlns(:|$)/,c=Object.prototype.hasOwnProperty,l="http://www.w3.org/1999/xlink",d="http://www.w3.org/1999/xhtml",f={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},h=Object.defineProperty,p=Object.freeze({});function m(e,t){return!0===t?"":"object"==e&&t instanceof RegExp?t.source:t+""}function v(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n])}function g(e,t,n,r){null===t?e.setAttribute(n,r):e.setAttributeNS(t,n,r)}function _(e,t,n){null===t?e.removeAttribute(n):e.removeAttributeNS(t,n)}function b(e){this.bG_=e.bG_,this.bD_=null,this.bE_=null,this.bB_=e.bB_,this.bH_=e.bH_,this.aC_=e.aC_,this.bI_=e.bI_,this._I_=e._I_,this.bJ_=e.bJ_,this.bK_=e.bK_}function y(e,t,n,r,i,o,a){var s;this.bA_(i,r),a&&(s=a.i),this.bB_=n,this._I_=o||0,this.bH_=t||p,this.aC_=a||p,this.bI_=e,this.bJ_=null,this.bK_=s,this.n_=!1,this.m_=!1}y.prototype={bC_:1,bt_:function(){return new b(this)},e:function(e,t,n,r,i,o,a){var s=this.bs_(new y(e,t,n,r,i,o,a));return 0===i?this.bL_():s},n:function(e,t){return(e=e.bt_()).aB_=t,this.bs_(e),this.bL_()},bz_:function(e,t){var n=this.bI_,r=this.bH_,i=f[n]||t||d,a=this._I_,s=(e.ownerDocument||e).createElementNS(i,n);if(2&a)v(s,r);else{for(var u in r){var c=r[u];if(!1!==c&&null!=c){var h=typeof c;"string"!==h&&(c=m(h,c)),"xlink:href"==u?g(s,l,"href",c):s.setAttribute(u,c)}}"textarea"===n&&(s.defaultValue=s.value=this.q_)}return o.set(s,this),s},bM_:function(e){var t=this.bH_[e];return null!=t&&!1!==t}},s(y,a);var E=b.prototype=y.prototype;["checked","selected","disabled"].forEach((function(e){h(E,e,{get:function(){var t=this.bH_[e];return!1!==t&&null!=t}})})),h(E,"q_",{get:function(){var e=this.bJ_;return null==e&&(e=this.bH_.value),null!=e&&!1!==e?e+"":"checkbox"===this.bH_.type||"radio"===this.bH_.type?"on":""}}),y.bN_=function(e){return e},y.bO_=function(e,t,n){var r=e.attributes,o=r.length,a=null,s=null;if(o){a={};for(var c=0;c<o;c++){var f=r[c],h=f.name;u.test(h)||("data-marko"===h?s=i.am_(e):f.namespaceURI===l?a["xlink:href"]=f.value:a[h]=f.value)}}var p=e.nodeName;e.namespaceURI===d&&(p=p.toLowerCase());var m=new y(p,a,null,n,0,0,s);return"textarea"===m.bI_?m.bJ_=e.value:t&&t(e,m,n),m},y.bP_=function(e,t,n){var r=y.bN_,i=t._I_,a=n._I_;o.set(e,n);var s,u=n.bH_,c=n.aC_;if(2&a)return v(e,u);var d,f,h=t.bH_;if(h){if(h===u)return;h=r(h,c)}if(1&a&&1&i)return h.class!==(d=u.class)&&(e.className=d),h.id!==(d=u.id)&&(e.id=d),void(h.style!==(d=u.style)&&(e.style.cssText=d));for(s in u=r(u,c,!0))if(d=u[s],f=null,"xlink:href"===s&&(f=l,s="href"),null==d||!1===d)_(e,f,s);else if(h[s]!==d){var p=typeof d;"string"!==p&&(d=m(p,d)),g(e,f,s,d)}if(null===n.bB_||4&i)for(s in h)s in u||("xlink:href"===s?e.removeAttributeNS("xlink:href","href"):e.removeAttribute(s))},e.exports=y},function(e,t,n){"use strict";var r=n(144),i=n(127);function o(e,t){this.bA_(-1,t),this.bV_=e}o.prototype={bU_:!0,bC_:3,bz_:function(e){return(e.ownerDocument||e).createTextNode(this.bV_)},bt_:function(){return new o(this.bV_)}},i(o,r),e.exports=o},function(e,t,n){"use strict";var r=n(144),i=n(127);function o(e,t,n,r){this.bA_(null,n),this.bB_=t,this.h_=e,this.n_=r}o.prototype={bC_:2},i(o,r),e.exports=o},function(e,t,n){"use strict";var r=n(145),i=r.ag_,o=r.ae_,a=n(144),s=n(127),u=n(247).ao_;function c(e,t,n){this.bA_(null,t),this.bB_=e,this.n_=n}c.prototype={bC_:12,bz_:function(){var e=u();return i.set(e,this.bB_),o.set(e,this),e}},s(c,a),e.exports=c},function(e,t,n){"use strict";var r=function(e){var t=document.createElement("template");return(r=t.content?function(e){return t.innerHTML=e,t.content}:function(e){return t.innerHTML=e,t})(e)};e.exports=function(e){return r(e).firstChild}},function(e,t,n){"use strict";function r(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function i(){}i.prototype={option:function(e,t){r(e,t,"selected")},button:function(e,t){r(e,t,"disabled")},input:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!=t.q_&&(e.value=t.q_),e.hasAttribute("value")&&!t.bM_("value")&&e.removeAttribute("value")},textarea:function(e,t){if(!t.bW_){var n=t.q_;e.value!=n&&(e.value=n);var r=e.firstChild;if(r){var i=r.nodeValue;if(i==n||!n&&i==e.placeholder)return;r.nodeValue=n}}},select:function(e,t){if(!t.bM_("multiple")){var n=0;!function e(t,n,r){for(var i=t._r_;i;)"option"===i.bI_?n(i,++r):r=e(i,n,r),i=i.bT_;return r}(t,(function(e,t){e.bM_("selected")&&(n=t)}),-1),e.selectedIndex!==n&&(e.selectedIndex=n)}}},e.exports=new i},function(e,t,n){"use strict";var r=n(273),i=n(225);e.exports=function(e){if(null!=e){var t={};for(var n in e){var o=e[n];"renderBody"!==n&&("class"===n?o=r(o):"style"===n&&(o=i(o)),t[n]=o)}return t}return e}},function(e,t,n){"use strict";var r=Object.create(null),i=Object.create(null);function o(e,t){return t.toUpperCase()}t.aJ_=function(e){var t=r[e];return t||(t=r[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase())!==e&&(i[t]=e),t},t.aK_=function(e){var t=i[e];return t||(t=i[e]=e.replace(/-([a-z])/g,o))!==e&&(r[t]=e),t}},function(e,t,n){"use strict";var r=n(249),i=n(324).az_,o=n(179);function a(e,t,n,r){try{e(t,n),r&&n.end()}catch(e){var o=n.end;n.end=function(){},i((function(){n.end=o,n.error(e)}))}return n}e.exports=function(e,t){var n=t&&(t.renderer||t.render||t),i=e.createOut||t.createOut||r;return o(e,{createOut:i,renderToString:function(e,t){var r=e||{},o=n||this._,s=r.$global,u=i(s);return u.global.template=this,s&&(r.$global=void 0),t?(u.on("finish",(function(){t(null,u.toString(),u)})).once("error",t),a(o,r,u,!0)):(u.sync(),o(r,u),u.toString())},renderSync:function(e){var t=e||{},r=n||this._,o=t.$global,a=i(o);return a.sync(),a.global.template=this,o&&(t.$global=void 0),r(t,a),a.aR_()},render:function(e,t){var r,s,u,c,l=n||this._,d=this.aU_,f=!0;return e?(u=e,(c=e.$global)&&(u.$global=void 0)):u={},t&&t.aQ_?(s=t,f=!1,o(t.global,c)):"function"==typeof t?(s=i(c),r=t):s=i(c,t,void 0,d),r&&s.on("finish",(function(){r(null,s.aR_())})).once("error",r),(c=s.global).template=c.template||this,a(l,u,s,f)}})}},function(e,t,n){"use strict";(function(e){var t=n(7);!function(e){void 0===e.$&&(e.$=t.a)}(e||window||void 0)}).call(this,n(49))},function(e,t,n){var r=n(325);function i(e,t){this.logStorage=e,this.stringifyObjects=!(!t||!t.stringifyObjects)&&t.stringifyObjects,this.storeInterval=t&&t.storeInterval?t.storeInterval:3e4,this.maxEntryLength=t&&t.maxEntryLength?t.maxEntryLength:1e4,Object.keys(r.levels).forEach(function(e){this[r.levels[e]]=function(){this._log.apply(this,arguments)}.bind(this,e)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}i.prototype.stringify=function(e){try{return JSON.stringify(e)}catch(e){return"[object with circular refs?]"}},i.prototype.formatLogMessage=function(e){for(var t="",n=1,i=arguments.length;n<i;n++){var o=arguments[n];!this.stringifyObjects&&e!==r.levels.ERROR||"object"!=typeof o||(o=this.stringify(o)),t+=o,n!==i-1&&(t+=" ")}return t.length?t:null},i.prototype._log=function(){var e=arguments[1],t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue[this.queue.length-1];(n&&n.text)===t?n.count+=1:(this.queue.push({text:t,timestamp:e,count:1}),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},i.prototype.start=function(){this._reschedulePublishInterval()},i.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},i.prototype.flush=function(){this._flush(!1,!0)},i.prototype._flush=function(e,t){this.totalLen>0&&(this.logStorage.isReady()||e)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(e){this.logStorage.storeLogs(e)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),t&&this._reschedulePublishInterval()},i.prototype.stop=function(){this._flush(!1,!1)},e.exports=i},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r,i;this||window,void 0===(i="function"==typeof(r=function(){var e=/^(interactive|loaded|complete)$/,t=window.location?window.location.href:null,n=t&&t.replace(/#.*$/,"").replace(/\?.*$/,"")||null,r=document.getElementsByTagName("script"),i="readyState"in(r[0]||document.createElement("script")),o=!window.opera||"[object Opera]"!==window.opera.toString(),a="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var s=!1,u=!1;function c(){if(0===r.length)return null;var t,l,d,f,h,p=[],m=c.skipStackDepth||1;for(t=0;t<r.length;t++)o&&i?e.test(r[t].readyState)&&p.push(r[t]):p.push(r[t]);if(l=new Error,s&&(d=l.stack),!d&&u)try{throw l}catch(e){d=e.stack}if(d&&!(h=function(e,t){var n,i=null;if(t=t||r,"string"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){i=t[n];break}return i}(f=function e(t,n){var r,i=null,o="number"==typeof n;return n=o?Math.round(n):0,"string"==typeof t&&t&&(o?r=t.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(r=t.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1]||(r=t.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),r&&r[1]&&(i=n>0?e(t.slice(t.indexOf(r[0])+r[0].length),n-1):r[1])),i}(d,m),p))&&n&&f===n&&(h=function(e){var t,n,i=null;for(t=0,n=(e=e||r).length;t<n;t++)if(!e[t].hasAttribute("src")){if(i){i=null;break}i=e[t]}return i}(p)),h||1===p.length&&(h=p[0]),h||a&&(h=document.currentScript),!h&&o&&i)for(t=p.length;t--;)if("interactive"===p[t].readyState){h=p[t];break}return h||(h=p[p.length-1]||null),h}(function(){try{var e=new Error;throw s="string"==typeof e.stack&&!!e.stack,e}catch(e){u="string"==typeof e.stack&&!!e.stack}})(),c.skipStackDepth=1;var l=c;return l.near=c,l.far=function(){return null},l.origin=function(){return null},l})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_JID",(function(){return r}));var r="local"},function(e,t,n){!function(e){"use strict";e.Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.Strophe.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.Strophe.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,r){for(var i=0;i<this._identities.length;i++)if(this._identities[i].category==e&&this._identities[i].type==t&&this._identities[i].name==n&&this._identities[i].lang==r)return!1;return this._identities.push({category:e,type:t,name:n,lang:r}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,r){return!(n&&!r||(this._items.push({jid:e,name:t,node:n,call_back:r}),0))},info:function(t,n,r,i,o){var a={xmlns:e.Strophe.NS.DISCO_INFO};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,r,i,o)},items:function(t,n,r,i,o){var a={xmlns:e.Strophe.NS.DISCO_ITEMS};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,r,i,o)},_buildIQResult:function(t,n){var r=t.getAttribute("id"),i=t.getAttribute("from"),o=e.$iq({type:"result",id:r});return null!==i&&o.attrs({to:i}),o.c("query",n)},_onDiscoInfo:function(t){var n,r=t.getElementsByTagName("query")[0].getAttribute("node"),i={xmlns:e.Strophe.NS.DISCO_INFO};r&&(i.node=r);var o=this._buildIQResult(t,i);for(n=0;n<this._identities.length;n++)i={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(i.name=this._identities[n].name),this._identities[n].lang&&(i["xml:lang"]=this._identities[n].lang),o.c("identity",i).up();for(n=0;n<this._features.length;n++)o.c("feature",{var:this._features[n]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var n,r,i={xmlns:e.Strophe.NS.DISCO_ITEMS},o=t.getElementsByTagName("query")[0].getAttribute("node");if(o){for(i.node=o,n=[],r=0;r<this._items.length;r++)if(this._items[r].node==o){n=this._items[r].call_back(t);break}}else n=this._items;var a=this._buildIQResult(t,i);for(r=0;r<n.length;r++){var s={jid:n[r].jid};n[r].name&&(s.name=n[r].name),n[r].node&&(s.node=n[r].node),a.c("item",s).up()}return this._connection.send(a.tree()),!0}})}(n(3))},function(e,t,n){!function(e){"use strict";e.Strophe.addConnectionPlugin("streamManagement",{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(e){this._acknowledgedStanzaListeners.push(e)},enable:function(t){if(!this._isSupported)throw new Error("The server doesn't support urn:xmpp:sm:3 namespace");if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("enable() can only be called in the CONNECTED state");this._c.send(e.$build("enable",{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error("No resume token");if(this._connectionStatus!==e.Strophe.Status.DISCONNECTED)throw new Error("resume() can only be called in the DISCONNECTED state");this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("requestAcknowledgement() can only be called in the CONNECTED state");this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&e.Strophe.debug("SM stored resume state, handler count: "+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(e){return this._isSupported=e.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this._connectionStatus=t,this.getResumeToken()||t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED)if(t===e.Strophe.Status.BINDREQUIRED){for(var n in this._c.jid=this._storedJid,this._resumeState)this._c[n]=this._resumeState[n];this._c.send(e.$build("resume",{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===e.Strophe.Status.ERROR&&(this.logging&&e.Strophe.debug("SM cleared resume token on error"),this._resumeToken=void 0);else this.logging&&e.Strophe.debug("SM reset state"),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===e.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,"a"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,"enabled"),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,"failed"),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,"resumed")},xmlOutput:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(e){return this._isStreamManagementEnabled=!0,this._resumeToken="true"===e.getAttribute("resume")&&e.getAttribute("id"),this._c.resume(),!0},_handleResumeFailed:function(t){var n=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(e.Strophe.Status.ERROR,n,t),this._c._doDisconnect(),!0},_handleResumed:function(t){var n=parseInt(t.getAttribute("h"));if(this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&e.Strophe.debug("SM Sending unacknowledged stanzas",this._unacknowledgedStanzas);var r,i=_createForOfIteratorHelper(this._unacknowledgedStanzas);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._c.send(o)}}catch(a){i.e(a)}finally{i.f()}}else this.logging&&e.Strophe.debug("SM No unacknowledged stanzas",this._unacknowledgedStanzas);return this._c._changeConnectStatus(e.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,n){var r=t-n;r<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+n),r>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+r+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+n);for(var i=0;i<r;i++)for(var o=this._unacknowledgedStanzas.shift(),a=0;a<this._acknowledgedStanzaListeners.length;a++)this._acknowledgedStanzaListeners[a](o);this.logging&&this._unacknowledgedStanzas.length>0&&e.Strophe.warn("SM Unacknowledged stanzas",this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(e){var t=parseInt(e.getAttribute("h"));return this._handleAcknowledgedStanzas(t,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){var n=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout((function(){n._connectionStatus===e.Strophe.Status.CONNECTED&&n.requestAcknowledgement()}),1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw e.Strophe.error(t),new Error(t)}})}(n(3))},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(326),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var u=o[t][s];if(u.reg.test(a))return i(u,r,a)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length&&(e[n[0]]=r(n[1])),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},function(e,t,n){var r=n(326),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||u,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))})),e.media.forEach((function(e){o.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(49),n(45))},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(328),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var u=o[t][s];if(u.reg.test(a))return i(u,r,a)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},function(e,t,n){var r=n(328),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||u,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))})),e.media.forEach((function(e){o.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},function(e,t,n){var r=n(43),i=n(598),o=i.parseSsrcs,a=i.writeSsrcs;function s(e,t,n){return e.ssrcs.filter((function(e){return e.id===t})).filter((function(e){return e.attribute===n})).map((function(e){return e.value}))[0]}function u(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=3),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function c(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach((function(e){"video"===e.type&&t(e)}))}function l(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp}u.prototype.clearSsrcCache=function(){this.ssrcCache=[]},u.prototype.setSsrcCache=function(e){this.ssrcCache=e},u.prototype._parseSimLayers=function(e){var t=e.ssrcGroups&&e.ssrcGroups.find((function(e){return"SIM"===e.semantics}));return t?t.ssrcs.split(" ").map((function(e){return parseInt(e)})):[e.ssrcs[0].id]},u.prototype._buildNewToOldSsrcMap=function(e,t){for(var n={},r=0;r<e.length;++r){var i=e[r],o=t[r]||null;n[i]=o}return n},u.prototype._fillInSourceDataFromCache=function(e){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(e);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=s(e,t[0],"msid"),r=s(e,t[0],"cname"),i=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",i);var o=this.ssrcCache.filter((function(e){return-1===Object.values(i).indexOf(e)}));return console.log("SdpSimulcast built ssrcs to add: ",o),e.ssrcs.forEach((function(e){i[e.id]&&(e.id=i[e.id])})),o.forEach((function(t){e.ssrcs.push({id:t,attribute:"msid",value:n}),e.ssrcs.push({id:t,attribute:"cname",value:r})})),e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),e},u.prototype._generateSourceData=function(e,t){var n=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:i}),e.ssrcs.push({id:t,attribute:"msid",value:r})},r=s(e,t,"msid"),i=s(e,t,"cname");this.options.usesUnifiedPlan&&!r&&(r=e.msid,e.ssrcs.forEach((function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})})));for(var o=[],a=0;a<this.options.numOfLayers-1;++a){var u=Math.floor(4294967295*Math.random())+0;n(e,u),o.push(u)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e},u.prototype._restoreSimulcast=function(e){var t,n=e.ssrcs&&e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length||0,r=e.ssrcGroups&&e.ssrcGroups.length||0;if(0===n||n>2)return e;if(2==n&&0===r)return e;if(1===n)t=e.ssrcs[0].id;else{var i=e.ssrcGroups.filter((function(e){return"FID"===e.semantics}))[0];if(!i)return e;t=parseInt(i.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),e=this._fillInSourceDataFromCache(e)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),e=this._generateSourceData(e,t)),this.ssrcCache=this._parseSimLayers(e),e},u.prototype.mungeRemoteDescription=function(e,t){if(!l(e))return e;var n=r.parse(e.sdp),i=this;return c(n,(function(e){i.options.explodeRemoteSimulcast?function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=o(e),n=[],r=e.ssrcGroups.length;r--;)if("SIM"===e.ssrcGroups[r].semantics){for(var i=e.ssrcGroups[r].ssrcs.split(" "),s=0;s<i.length;s++){var u=i[s];n.push(u);var c=t[u].msid.split(" ");t[u].msid=[c[0],"/",s," ",c[1],"/",s].join(""),t[u].cname=[t[u].cname,"/",s].join(""),e.ssrcGroups.forEach((function(e){if("SIM"!==e.semantics){var r=e.ssrcs.split(" ");-1!==r.indexOf(u)&&r.forEach((function(e){t[e].msid=t[u].msid,t[e].cname=t[u].cname,e!==u&&n.push(e)}))}}))}e.ssrcs=a(t,n),e.ssrcGroups.splice(r,1)}}(e):function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=o(e);e.ssrcGroups.forEach((function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var r=n.ssrcs.split(" "),i=1;i<r.length;i++){var o=r[i];delete t[o],e.ssrcGroups.forEach((function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(o)&&(n.forEach((function(e){delete t[e]})),e.nuke=!0)}}))}}})),e.ssrcs=a(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info("Halt: There are no SSRC groups in the remote description.")}(e),!i.options.usesUnifiedPlan&&t?function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some((function(e){return"x-google-flag:conference"===e.value}))||e.invalid.push({value:"x-google-flag:conference"}))}(e):function(e){e&&void 0!==e.xGoogleFlag&&(e.xGoogleFlag=void 0)}(e)})),new RTCSessionDescription({type:e.type,sdp:r.write(n)})},u.prototype.mungeLocalDescription=function(e){if(!l(e))return e;var t=r.parse(e.sdp),n=this;return c(t,(function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&n._restoreSimulcast(e)})),new RTCSessionDescription({type:e.type,sdp:r.write(t)})},e.exports=u},function(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var r=0;r<t.length;r++){var i=t[r],o=e[i];Object.keys(o).forEach((function(e){n.push({id:i,attribute:e,value:o[e]})}))}Object.keys(e).forEach((function(r){if(r=parseInt(r),!(t.indexOf(r)>=0)){var i=e[r];Object.keys(i).forEach((function(e){n.push({id:r,attribute:e,value:i[e]})}))}}))}return n},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value})),t}},function(e,t,n){"use strict";function r(e,t){if(!o)return!1;var n=e.buffer,r=h.get(n);if(null==r){if((r=i.validate(n))&&t)try{new i.Instance(new i.Module(n)).exports[0]()}catch(e){r=!1}h.set(n,r)}return r}var i=this.WebAssembly||globalThis.WebAssembly,o="object"==typeof i,a=function(e){return void 0!==e},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint8Array.of.apply(Uint8Array,[0,97,115,109,1,0,0,0].concat(t))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint32Array.of.apply(Uint32Array,[1836278016,1].concat(t))},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[1610679297,33751040].concat(t,[40239360,259]))},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(void 0,[1,4,1,96,0,0,3,2,1,0].concat(t,[11,0,10,4,110,97,109,101,2,3,1,0,0]))},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint16Array.of.apply(Uint16Array,[24832,28019,1,0,1025,24577,0,515,1].concat(t))},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,t.concat([2842,4096,28164,28001,357,260,256,560,259,0]))},h=new WeakMap,p=u(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),m=s(5,3,1,4,1,0,8,4,110,97,109,101,2,1,0),v=d(773,1,2561,269,11,65,65,65,3068,2816,2560,28164,28001,613,259,0),g=u(1610679297,33751040,134873089,100664833,185276736),_=s(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),b=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),y=f(3082,2561,17152,0,0,252),E=f(2058,1537,16640,49152),S=c(101318657,301990913,268438272,1835101700,17039717),D=l(5,4,1,3,1,1,10,7,1,5,0,254,3,0),w=c(84344833,6357249,17369600,4259847,186257917,1845758464),C=l(10,7,1,5,0,208,112,26);e.exports={support:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o&&r(Uint32Array.of(1836278016,e))},get supportStreaming(){return o&&a(i.instantiateStreaming)},feature:{get bigInt(){return r(p,!0)},get bulk(){return r(v)},get exceptions(){return r(g)},get memory64(){return r(m)},get mutableGlobal(){return r(_)},get multiValue(){return r(b)},get saturateConversions(){return r(y)},get signExtensions(){return r(E)},get tailCall(){return r(S)},get threads(){return r(D)},get simd(){return r(w)},get references(){return r(C)},get typeReflection(){return o&&a(i.Memory.type)},get funcReferences(){return o&&a(i.Function)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(601),i=n(13),o=n(108);function a(e){var t="oauth"+Date.now(),n=i.getJitsiMeetGlobalNS();return n.oauthCallbacks=n.oauthCallbacks||{},new Promise((function(r){var i=window.open(e,t,"width=600,height=600");n.oauthCallbacks[t]=function(e){i.close(),delete n.oauthCallbacks.windowName,r(e)}}))}t.authorizeDropbox=function(){var e="https://meet.sariska.io/oauth.html",t=new r.DropboxAuth({clientId:o.DROPBOX_APP_KEY});return t.getAuthenticationUrl(e,void 0,"code","offline",void 0,void 0,!0).then(a).then((function(n){var r=new URLSearchParams(new URL(n).search).get("code");return t.getAccessTokenFromCode(e,r)})).then((function(e){return{token:e.result.access_token,rToken:e.result.refresh_token,expireDate:(t=e.result.expires_in,new Date(Date.now()+1e3*t).getTime())};var t}))},t.getNewAccessToken=function(e,t){var n=new r.DropboxAuth({clientId:e});return n.setRefreshToken(t),n.refreshAccessToken().then((function(){return{token:n.getAccessToken(),rToken:n.getRefreshToken(),expireDate:n.getAccessTokenExpiresAt().getTime()}}))},t.getDisplayName=function(e,t){return new r.Dropbox({accessToken:e,clientId:t}).usersGetCurrentAccount().then((function(e){return e.result.name.display_name}))},t.getSpaceUsage=function(e,t){return new r.Dropbox({accessToken:e,clientId:t}).usersGetSpaceUsage().then((function(e){var t=e.result,n=t.allocation,r=t.used;return{allocated:n.allocated,used:r}}))},t.isEnabled=function(e){var t=e["features/base/config"].dropbox;return"string"==typeof(void 0===t?{}:t).appKey}},function(e,t,n){(function(r){!function(t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return(l=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}var f="app",h="user",p="team",m="dropboxapi.com",v="dropbox.com",g={api:"api",notify:"bolt",content:"api-content"},_={};function b(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}_.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")},_.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)},_.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)},_.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)},_.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")},_.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")},_.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")},_.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")},_.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")},_.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")},_.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")},_.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")},_.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")},_.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")},_.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")},_.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")},_.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")},_.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")},_.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")},_.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")},_.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")},_.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")},_.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")},_.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")},_.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")},_.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")},_.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")},_.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")},_.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")},_.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")},_.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")},_.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")},_.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")},_.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")},_.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")},_.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")},_.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")},_.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")},_.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")},_.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")},_.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")},_.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")},_.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")},_.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")},_.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")},_.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")},_.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")},_.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")},_.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")},_.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")},_.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")},_.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")},_.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")},_.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")},_.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")},_.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")},_.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")},_.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")},_.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")},_.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")},_.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")},_.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")},_.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")},_.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")},_.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")},_.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")},_.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")},_.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")},_.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")},_.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")},_.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")},_.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")},_.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")},_.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")},_.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")},_.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")},_.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")},_.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")},_.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")},_.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")},_.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")},_.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")},_.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")},_.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")},_.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")},_.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")},_.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")},_.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")},_.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")},_.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")},_.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")},_.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")},_.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")},_.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")},_.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")},_.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")},_.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")},_.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")},_.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")},_.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")},_.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")},_.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")},_.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")},_.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")},_.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")},_.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")},_.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")},_.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")},_.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")},_.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")},_.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")},_.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")},_.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")},_.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")},_.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")},_.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")},_.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")},_.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")},_.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")},_.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")},_.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")},_.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")},_.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")},_.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")},_.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")},_.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")},_.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")},_.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")},_.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")},_.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")},_.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")},_.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")},_.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")},_.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")},_.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")},_.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")},_.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")},_.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")},_.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")},_.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")},_.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")},_.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")},_.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")},_.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")},_.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")},_.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")},_.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")},_.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")},_.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")},_.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")},_.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")},_.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")},_.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")},_.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")},_.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")},_.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")},_.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")},_.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")},_.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")},_.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")},_.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")},_.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")},_.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")},_.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")},_.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")},_.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")},_.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")},_.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")},_.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")},_.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")},_.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")},_.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")},_.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")},_.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")},_.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")},_.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")},_.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")},_.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")},_.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")},_.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")},_.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")},_.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")},_.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")},_.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")},_.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")},_.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")},_.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")},_.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")},_.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")},_.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")},_.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")},_.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")},_.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")},_.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")},_.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")},_.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")},_.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")},_.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")},_.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")},_.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")},_.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")},_.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")},_.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")},_.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")},_.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")},_.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")},_.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")},_.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")},_.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")},_.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")},_.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")},_.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")},_.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")},_.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")},_.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")},_.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")},_.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")},_.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")},_.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")},_.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")},_.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")},_.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")},_.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")},_.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")},_.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")},_.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")},_.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")},_.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")},_.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")},_.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")},_.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")},_.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")},_.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")},_.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")},_.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")},_.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")},_.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")},_.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")},_.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")},_.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")},_.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")},_.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")},_.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")},_.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")},_.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")},_.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")},_.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")},_.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")},_.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")},_.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")},_.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return n?(t!==m&&void 0!==g[e]&&(e=g[e],n="-"),"https://".concat(e).concat(n).concat(t,"/2/")):"https://".concat(t,"/2/")},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n="api";return e!==m&&(n=g[n],t="-"),"https://".concat(n).concat(t).concat(e,"/oauth2/token")};function S(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,b)}function D(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||void 0===e||"undefined"!=typeof window}function w(){return"undefined"!=typeof window}function C(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function T(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var A,k,O,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r=(t=o,n=c(),function(){var e,r=s(t);if(n){var i=s(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function o(e,t,n){var a;return i(this,o),(a=r.call(this,"Response failed with a ".concat(e," code"))).name="DropboxResponseError",a.status=e,a.headers=t,a.error=n,a}return o}(d(Error)),M=function e(t,n,r){i(this,e),this.status=t,this.headers=n,this.result=r};function I(e){return e.text().then((function(t){var n;try{n=JSON.parse(t)}catch(e){n=t}throw new R(e.status,e.headers,n)}))}function P(e){return e.ok?e.text().then((function(t){var n;try{n=JSON.parse(t)}catch(e){n=t}return new M(e.status,e.headers,n)})):I(e)}var N=["legacy","offline","online"],x=["code","token"],F=["none","user","team"],L=function(){function e(t){i(this,e),t=t||{},w()?(A=window.fetch.bind(window),k=window.crypto||window.msCrypto):C()?(A=self.fetch.bind(self),k=self.crypto):(A=n(604),k=n(605)),O="undefined"==typeof TextEncoder?n(696).TextEncoder:TextEncoder,this.fetch=t.fetch||A,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return a(e,[{key:"setAccessToken",value:function(e){this.accessToken=e}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(e){this.clientId=e}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(e){this.clientSecret=e}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(e){this.refreshToken=e}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(e){this.accessTokenExpiresAt=e}},{key:"setCodeVerifier",value:function(e){this.codeVerifier=e}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var e,t=this,n=(new O).encode(this.codeVerifier);if(w()||C())return k.subtle.digest("SHA-256",n).then((function(n){var r=btoa(String.fromCharCode.apply(null,new Uint8Array(n)));e=T(r).substr(0,128),t.codeChallenge=e}));var r=k.createHash("sha256").update(n).digest();return e=T(r),this.codeChallenge=e,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var e;if(w()||C()){var t=new Uint8Array(128),n=k.getRandomValues(t);e=T(btoa(n)).substr(0,128)}else e=T(k.randomBytes(128)).substr(0,128);return this.codeVerifier=e,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"token",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=this.getClientId(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return e!==v&&(e="meta-".concat(e)),"https://".concat(e,"/oauth2/authorize")}(this.domain);if(!c)throw Error("A client id is required. You can set the client id using .setClientId().");if("code"!==i&&!e)throw Error("A redirect uri is required.");if(!x.includes(i))throw Error("Authorization type must be code or token");if(o&&!N.includes(o))throw Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw Error("Scope must be an array of strings");if(!F.includes(s))throw Error("includeGrantedScopes must be none, user, or team");return n="code"===i?"".concat(l,"?response_type=code&client_id=").concat(c):"".concat(l,"?response_type=token&client_id=").concat(c),e&&(n+="&redirect_uri=".concat(e)),t&&(n+="&state=".concat(t)),o&&(n+="&token_access_type=".concat(o)),a&&(n+="&scope=".concat(a.join(" "))),"none"!==s&&(n+="&include_granted_scopes=".concat(s)),u?this.generatePKCECodes().then((function(){return n+="&code_challenge_method=S256",n+="&code_challenge=".concat(r.codeChallenge)})):Promise.resolve(n)}},{key:"getAccessTokenFromCode",value:function(e,t){var n=this.getClientId(),r=this.getClientSecret();if(!n)throw Error("A client id is required. You can set the client id using .setClientId().");var i=E(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(t),i+="&client_id=".concat(n),r)i+="&client_secret=".concat(r);else{if(!this.codeVerifier)throw Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}return e&&(i+="&redirect_uri=".concat(e)),this.fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return P(e)}))}},{key:"checkAndRefreshAccessToken",value:function(){var e=this.getRefreshToken()&&this.getClientId(),t=!this.getAccessTokenExpiresAt()||new Date(Date.now()+3e5)>=this.getAccessTokenExpiresAt(),n=!this.getAccessToken();return(t||n)&&e?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getClientId(),r=this.getClientSecret();if(!n)throw Error("A client id is required. You can set the client id using .setClientId().");if(t&&!(t instanceof Array))throw Error("Scope must be an array of strings");var i=E(this.domain,this.domainDelimiter),o={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var a={grant_type:"refresh_token",client_id:n,refresh_token:this.getRefreshToken()};r&&(a.client_secret=r),t&&(a.scope=t.join(" ")),o.body=a}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(n),r&&(i+="&client_secret=".concat(r)),t&&(i+="&scope=".concat(t.join(" ")));return this.fetch(i,o).then((function(e){return P(e)})).then((function(t){e.setAccessToken(t.result.access_token),e.setAccessTokenExpiresAt(function(e){return new Date(Date.now()+1e3*e)}(t.result.expires_in))}))}}]),e}(),j="undefined"==typeof btoa?function(e){return r.from(e).toString("base64")}:btoa;t.Dropbox=function(){function e(t){i(this,e),this.auth=(t=t||{}).auth?t.auth:new L(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,_)}return a(e,[{key:"request",value:function(e,t,n,r,i){switch(i){case"rpc":return this.rpcRequest(e,t,n,r);case"download":return this.downloadRequest(e,t,n,r);case"upload":return this.uploadRequest(e,t,n,r);default:throw Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(e,t,n,r){var i=this;return this.auth.checkAndRefreshAccessToken().then((function(){var e={method:"POST",body:t?JSON.stringify(t):null,headers:{}};return t&&(e.headers["Content-Type"]="application/json"),i.setAuthHeaders(n,e),i.setCommonHeaders(e),e})).then((function(t){return i.fetch(y(r,i.domain,i.domainDelimiter)+e,t)})).then((function(e){return P(e)}))}},{key:"downloadRequest",value:function(e,t,n,r){var i=this;return this.auth.checkAndRefreshAccessToken().then((function(){var e={method:"POST",headers:{"Dropbox-API-Arg":S(t)}};return i.setAuthHeaders(n,e),i.setCommonHeaders(e),e})).then((function(t){return i.fetch(y(r,i.domain,i.domainDelimiter)+e,t)})).then((function(e){return function(e){return e.ok?new Promise((function(t){D()?e.blob().then((function(e){return t(e)})):e.buffer().then((function(e){return t(e)}))})).then((function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return D()?n.fileBlob=t:n.fileBinary=t,new M(e.status,e.headers,n)})):I(e)}(e)}))}},{key:"uploadRequest",value:function(e,t,n,r){var i=this;return this.auth.checkAndRefreshAccessToken().then((function(){var e=t.contents;delete t.contents;var r={body:e,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":S(t)}};return i.setAuthHeaders(n,r),i.setCommonHeaders(r),r})).then((function(t){return i.fetch(y(r,i.domain,i.domainDelimiter)+e,t)})).then((function(e){return P(e)}))}},{key:"setAuthHeaders",value:function(e,t){if(e.split(",").length>1){var n=e.replace(" ","").split(",");n.includes(h)&&this.auth.getAccessToken()?e=h:n.includes(p)&&this.auth.getAccessToken()?e=p:n.includes(f)&&(e=f)}switch(e){case f:if(this.auth.clientId&&this.auth.clientSecret){var r=j("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));t.headers.Authorization="Basic ".concat(r)}break;case p:case h:this.auth.getAccessToken()&&(t.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case"noauth":case"cookie":break;default:throw Error("Unhandled auth type: ".concat(e))}}},{key:"setCommonHeaders",value:function(e){var t=this;this.selectUser&&(e.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(e.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(e.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders&&Object.keys(this.customHeaders).forEach((function(n){e.headers[n]=t.customHeaders[n]}))}}]),e}(),t.DropboxAuth=L,t.DropboxResponse=M,t.DropboxResponseError=R,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(62).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(146),t.createHash=t.Hash=n(181),t.createHmac=t.Hmac=n(348);var r=n(628),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(351);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(630);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=n(645);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var c=n(650);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n(691);var l=n(692);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var d=n(695);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){(t=e.exports=n(336)).Stream=t,t.Readable=t,t.Writable=n(340),t.Duplex=n(148),t.Transform=n(341),t.PassThrough=n(612),t.finished=n(252),t.pipeline=n(613)},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(62).Buffer,s=n(609).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(252),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function m(e){t.nextTick(p,e)}var v=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[u]?r(e[u]):n(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(h(void 0,!0)):t[d](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(g,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[f].read();r?(n[l]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(45))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(341);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(24)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r,i=n(147).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(252)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},function(e,t,n){var r=n(24),i=n(149),o=n(32).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var f=0;f<80;++f){var h=~~(f/20),p=0|((t=r)<<5|t>>>27)+l(h,i,o,s)+u+n[f]+a[h];u=s,s=o,o=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(24),i=n(149),o=n(32).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function d(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=c(r)+d(p,i,o,s)+u+n[h]+a[p]|0;u=s,s=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(24),i=n(342),o=n(149),a=n(32).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},function(e,t,n){var r=n(24),i=n(343),o=n(149),a=n(32).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},function(e,t,n){e.exports=i;var r=n(34).EventEmitter;function i(){r.call(this)}n(24)(i,r),i.Readable=n(255),i.Writable=n(623),i.Duplex=n(624),i.Transform=n(625),i.PassThrough=n(626),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){"use strict";var r=n(256).Buffer,i=n(621);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,n=a,o.data.copy(t,n),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";e.exports=o;var r=n(347),i=Object.create(n(182));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(24),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(257)},function(e,t,n){e.exports=n(129)},function(e,t,n){e.exports=n(255).Transform},function(e,t,n){e.exports=n(255).PassThrough},function(e,t,n){"use strict";var r=n(24),i=n(32).Buffer,o=n(116),a=i.alloc(128);function s(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=i.concat([t,a],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),s=0;s<64;s++)n[s]=54^t[s],r[s]=92^t[s];this._hash=[n]}r(s,o),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=s},function(e,t,n){e.exports=n(350)},function(e,t,n){(function(t){var r,i,o=n(32).Buffer,a=n(352),s=n(353),u=n(354),c=n(355),l=t.crypto&&t.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function h(){return i||(i=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function p(e,t,n,r,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,n,i,m,v,g){"function"==typeof v&&(g=v,v=void 0);var _=d[(v=v||"sha1").toLowerCase()];if(_&&"function"==typeof t.Promise){if(a(i,m),e=c(e,s,"Password"),n=c(n,s,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){h()((function(){t(null,e)}))}),(function(e){h()((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var n=p(r=r||o.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=n,n}(_).then((function(t){return t?p(e,n,i,m,_):u(e,n,i,m,v)})),g)}else h()((function(){var t;try{t=u(e,n,i,m,v)}catch(e){return g(e)}g(null,t)}))}}).call(this,n(49))},function(e,t,n){var r=n(631),i=n(259),o=n(260),a=n(644),s=n(204);function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,n){var r=n(116),i=n(632),o=n(24),a=n(32).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,r),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(356),t.Cipher=n(258),t.DES=n(357),t.CBC=n(633),t.EDE=n(634)},function(e,t,n){"use strict";var r=n(81),i=n(24),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];for(o._update.call(this,a,0,n,r),s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{for(o._update.call(this,e,t,n,r),s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(81),i=n(24),o=n(258),a=n(357);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function u(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,o),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(e,t,n){var r=n(260),i=n(361),o=n(32).Buffer,a=n(362),s=n(116),u=n(203),c=n(204);function l(e,t,n){s.call(this),this._cache=new f,this._cipher=new u.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(24)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var d=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=o.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(183);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(32).Buffer,i=n(183);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},function(e,t,n){var r=n(32).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){var r=n(32).Buffer;function i(e,t,n){for(var r,i,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return s}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){(function(e){var r=n(183);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,o)}}).call(this,n(62).Buffer)},function(e,t,n){var r=n(32).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var r=n(361),i=n(32).Buffer,o=n(260),a=n(362),s=n(116),u=n(203),c=n(204);function l(e,t,n){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function f(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(24)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=i.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return f(e,r.key,r.iv)},t.createDecipheriv=f},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(363),i=n(648),o=n(649),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new o(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,u){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"==typeof n?new o(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new o(n,s,!0)))}}).call(this,n(62).Buffer)},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var r=n(63),i=new(n(364)),o=new r(24),a=new r(11),s=new r(10),u=new r(3),c=new r(7),l=n(363),d=n(146);function f(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=h):this._primeCode=8}function v(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var d,f=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(i.test(e.shrn(1))||(f+=2),n){case"02":e.mod(o).cmp(a)&&(f+=8);break;case"05":(d=e.mod(s)).cmp(u)&&d.cmp(c)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},m.prototype.getPublicKey=function(e){return v(this._pub,e)},m.prototype.getPrivateKey=function(e){return v(this._priv,e)},m.prototype.getPrime=function(e){return v(this.__prime,e)},m.prototype.getGenerator=function(e){return v(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(62).Buffer)},function(e,t,n){var r=n(32).Buffer,i=n(181),o=n(651),a=n(24),s=n(659),u=n(690),c=n(350);function l(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new l(e)}function h(e){return new d(e)}Object.keys(c).forEach((function(e){c[e].id=r.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),a(l,o.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=s(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(d,o.Writable),d.prototype._write=function(e,t,n){this._hash.update(e),n()},d.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},d.prototype.verify=function(e,t,n){"string"==typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return u(t,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:h,createSign:f,createVerify:h}},function(e,t,n){(t=e.exports=n(365)).Stream=t,t.Readable=t,t.Writable=n(369),t.Duplex=n(151),t.Transform=n(370),t.PassThrough=n(657),t.finished=n(262),t.pipeline=n(658)},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(62).Buffer,s=n(654).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(262),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function m(e){t.nextTick(p,e)}var v=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[u]?r(e[u]):n(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(h(void 0,!0)):t[d](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(g,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[f].read();r?(n[l]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(45))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(370);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(24)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r,i=n(150).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(262)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},function(e,t,n){var r=n(32).Buffer,i=n(348),o=n(263),a=n(264).ec,s=n(376),u=n(206),c=n(382);function l(e,t,n,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var s=n.length,u=function(e,t){e=(e=d(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(n,t),c=r.alloc(s);c.fill(1);var l=r.alloc(s);return l=i(o,l).update(c).update(r.from([0])).update(e).update(u).digest(),c=i(o,l).update(c).digest(),{k:l=i(o,l).update(c).update(r.from([1])).update(e).update(u).digest(),v:c=i(o,l).update(c).digest()}}function d(e,t){var n=new s(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function f(e,t,n){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=i(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=d(o,e),t.k=i(n,t.k).update(t.v).update(r.from([0])).digest(),t.v=i(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,n,r){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,n,i,p){var m=u(t);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var n=c[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,n){for(var i,o=t.params.priv_key,a=t.params.p,u=t.params.q,c=t.params.g,p=new s(0),m=d(e,u).mod(u),v=!1,g=l(o,u,e,n);!1===v;)p=h(c,i=f(u,g,n),a,u),0===(v=i.invm(u).imul(m.add(o.mul(p))).mod(u)).cmpn(0)&&(v=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}(p,v)}(e,m,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=r.concat([p,e]);for(var v=m.modulus.byteLength(),g=[0,1];e.length+g.length+1<v;)g.push(255);g.push(0);for(var _=-1;++_<e.length;)g.push(e[_]);return o(g,m)},e.exports.getKey=l,e.exports.makeKey=f},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(661).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=f;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,v=0|a[2],g=8191&v,_=v>>>13,b=0|a[3],y=8191&b,E=b>>>13,S=0|a[4],D=8191&S,w=S>>>13,C=0|a[5],T=8191&C,A=C>>>13,k=0|a[6],O=8191&k,R=k>>>13,M=0|a[7],I=8191&M,P=M>>>13,N=0|a[8],x=8191&N,F=N>>>13,L=0|a[9],j=8191&L,B=L>>>13,U=0|s[0],H=8191&U,V=U>>>13,q=0|s[1],G=8191&q,J=q>>>13,z=0|s[2],K=8191&z,W=z>>>13,$=0|s[3],Y=8191&$,X=$>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(r=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(f,H)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,V))+Math.imul(m,H)|0,o=Math.imul(m,V);var ge=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,H),i=(i=Math.imul(g,V))+Math.imul(_,H)|0,o=Math.imul(_,V),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,J)|0;var _e=(c+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(y,H),i=(i=Math.imul(y,V))+Math.imul(E,H)|0,o=Math.imul(E,V),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,W)|0;var be=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,V))+Math.imul(w,H)|0,o=Math.imul(w,V),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(g,K)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var ye=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(T,H),i=(i=Math.imul(T,V))+Math.imul(A,H)|0,o=Math.imul(A,V),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,H),i=(i=Math.imul(O,V))+Math.imul(R,H)|0,o=Math.imul(R,V),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(D,K)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var Se=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,V))+Math.imul(P,H)|0,o=Math.imul(P,V),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var De=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,V))+Math.imul(F,H)|0,o=Math.imul(F,V),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var we=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,H),i=(i=Math.imul(j,V))+Math.imul(B,H)|0,o=Math.imul(B,V),r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,J)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Ce=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,G),i=(i=Math.imul(j,J))+Math.imul(B,G)|0,o=Math.imul(B,J),r=r+Math.imul(x,K)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(F,K)|0,o=o+Math.imul(F,W)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Te=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,K),i=(i=Math.imul(j,W))+Math.imul(B,K)|0,o=Math.imul(B,W),r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(F,Y)|0,o=o+Math.imul(F,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,fe)|0;var Ae=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(B,Y)|0,o=Math.imul(B,X),r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var ke=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(B,Z)|0,o=Math.imul(B,ee),r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(F,ne)|0,o=o+Math.imul(F,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,fe)|0;var Oe=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,ne),i=(i=Math.imul(j,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(F,oe)|0,o=o+Math.imul(F,ae)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(R,de)|0,o=o+Math.imul(R,fe)|0;var Re=(c+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(F,ue)|0,o=o+Math.imul(F,ce)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,fe)|0;var Me=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(F,de)|0,o=o+Math.imul(F,fe)|0;var Ie=(c+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,de),i=(i=Math.imul(j,fe))+Math.imul(B,de)|0,o=Math.imul(B,fe);var Pe=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(F,pe)|0))<<13)|0;c=((o=o+Math.imul(F,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(c+(r=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=ve,u[1]=ge,u[2]=_e,u[3]=be,u[4]=ye,u[5]=Ee,u[6]=Se,u[7]=De,u[8]=we,u[9]=Ce,u[10]=Te,u[11]=Ae,u[12]=ke,u[13]=Oe,u[14]=Re,u[15]=Me,u[16]=Ie,u[17]=Pe,u[18]=Ne,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function _(e,t,n){return g(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(v=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):_(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var d=u,f=c,h=0;h<a;h++){var p=n[l+h],m=r[l+h],v=n[l+h+a],g=r[l+h+a],_=d*v-f*g;g=d*g+f*v,v=_,n[l+h]=p+v,r[l+h]=m+g,n[l+h+a]=p-v,r[l+h+a]=m-g,h!==s&&(_=u*d-c*f,f=u*f+c*d,d=_)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,d,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*d[h];u[h]=s[h]*d[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),_(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new T(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(S,E),S.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(D,E),i(w,E),i(C,E),C.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new D;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new C}return y[e]=t,t},T.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},T.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(d,new o(1).iushln(p-v-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=v}return f},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,T),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(180)(e))},function(e,t){},function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(e,t,n){"use strict";var r=n(82),i=n(63),o=n(24),a=n(205),s=r.assert;function u(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,u,c,l,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),g=new i(1),_=0;0!==f.cmpn(0);){var b=h.div(f);c=h.sub(b.mul(f)),l=v.sub(b.mul(p));var y=g.sub(b.mul(m));if(!r&&c.cmp(d)<0)t=u.neg(),n=p,r=c.neg(),o=l;else if(r&&2==++_)break;u=c,h=f,f=c,v=p,p=l,g=m,m=y}a=c.neg(),s=l;var E=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(E)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return c},o(c,a.BasePoint),u.prototype.point=function(e,t,n){return new c(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),u.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),d=r.redMul(c),f=u.redSqr().redIAdd(l).redISub(d).redISub(d),h=u.redMul(d.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=n.redMul(u),d=s.redSqr().redIAdd(c).redISub(l).redISub(l),f=s.redMul(l.redISub(d)).redISub(i.redMul(c)),h=this.z.redMul(a);return this.curve.jpoint(d,f,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),d=c.redSqr(),f=d.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(u)),p=o.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=h.redMul(v);g=g.redIAdd(g).redISub(f);var _=c.redMul(s);t+1<e&&(u=u.redMul(f)),o=m,s=_,c=g}return this.curve.jpoint(o,c.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(l).redISub(f);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),v=f.redIAdd(f);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var v=d.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),d=c.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(d).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(s).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(d,f,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(63),i=n(24),o=n(205),a=n(82);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(u,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(82),i=n(63),o=n(24),a=n(205),s=r.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(c,a.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),u=i.redMul(a),c=o.redMul(s),l=i.redMul(s),d=a.redMul(o);return this.curve.point(u,c,d,l)},c.prototype._projDbl=function(){var e,t,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(r.redSub(u)),n=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=a.redSub(s).redISub(u).redMul(o),t=c.redMul(r.redSub(u)),n=c.redMul(o))}else r=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(u)),n=r.redMul(o);return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(t),c=o.redMul(a),l=s.redMul(u),d=o.redMul(u),f=a.redMul(s);return this.curve.point(c,l,f,d)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=r.redMul(u).redMul(l);return this.curve.twisted?(t=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(c)):(t=r.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(c)),this.curve.point(d,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(e,t,n){"use strict";t.sha1=n(667),t.sha224=n(668),t.sha256=n(374),t.sha384=n(669),t.sha512=n(375)},function(e,t,n){"use strict";var r=n(96),i=n(184),o=n(373),a=r.rotl32,s=r.sum32,u=r.sum32_5,c=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=u(a(i,5),c(p,o,l,f),h,n[r],d[p]);h=f,f=l,l=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(96),i=n(374);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(96),i=n(375);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(96),i=n(184),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],_=n,b=r,y=i,E=c,S=l,D=0;D<80;D++){var w=a(o(u(n,d(D,r,i,c),e[p[D]+t],f(D)),v[D]),l);n=l,l=c,c=o(i,10),i=r,r=w,w=a(o(u(_,d(79-D,b,y,E),e[m[D]+t],h(D)),g[D]),S),_=S,S=E,E=o(y,10),y=b,b=w}w=s(this.h[1],i,E),this.h[1]=s(this.h[2],c,S),this.h[2]=s(this.h[3],l,_),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,y),this.h[0]=w},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(96),i=n(81);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(63),i=n(674),o=n(82),a=n(265),s=n(261),u=o.assert,c=n(675),l=n(676);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new c(this,e)},d.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new r(1)),f=0;;f++){var h=o.k?o.k(f):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=h.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var _=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),_^=1),new l({r:v,s:g,recoveryParam:_})}}}}}},d.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),c=u.mul(e).umod(this.n),d=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,n,i){u((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new r(e),s=t.r,c=t.s,d=1&n,f=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),m=c.mul(h).umod(o);return this.g.mulAdd(p,s,m)},d.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(266),i=n(371),o=n(81);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},function(e,t,n){"use strict";var r=n(63),i=n(82).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(63),i=n(82),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=u(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=u(e,n);if(!1===a)return!1;var c=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=u(e,n);if(!1===l)return!1;if(e.length!==l+n.place)return!1;var d=e.slice(n.place,l+n.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new r(c),this.s=new r(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,n){"use strict";var r=n(266),i=n(265),o=n(82),a=o.assert,s=o.parseBytes,u=n(678),c=n(679);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(82),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(63),i=n(82),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},function(e,t){},function(e,t,n){"use strict";var r=n(377);t.certificate=n(687);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var d=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=d;var f=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,n){"use strict";var r=n(378),i=n(380),o=n(24);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t=this.name;function n(e){this._initNamed(e,t)}return o(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(e,t,n){"use strict";var r=n(24),i=n(379);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=n(24),i=n(267).Buffer,o=n(381);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<n.length;c++){var l=n[c].match(a);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var d=n.slice(s+1,u).join("");d.replace(/[^a-z0-9+/=]+/gi,"");var f=i.from(d,"base64");return o.prototype.decode.call(this,f,t)}},function(e,t,n){"use strict";var r=t;r.Reporter=n(269).Reporter,r.DecoderBuffer=n(185).DecoderBuffer,r.EncoderBuffer=n(185).EncoderBuffer,r.Node=n(268)},function(e,t,n){"use strict";var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(270)},function(e,t,n){"use strict";var r=n(377),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=r.define("RDNSequence",(function(){this.seqof(u)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),d=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(d),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(204),s=n(259),u=n(32).Buffer;e.exports=function(e,t){var n,c=e.toString(),l=c.match(r);if(l){var d="aes"+l[1],f=u.from(l[2],"hex"),h=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(l[1],10)).key,m=[],v=s.createDecipheriv(d,p,f);m.push(v.update(h)),m.push(v.final()),n=u.concat(m)}else{var g=c.match(o);n=u.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:n}}},function(e,t,n){var r=n(32).Buffer,i=n(376),o=n(264).ec,a=n(206),s=n(382);function u(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,c,l){var d=a(n);if("ec"===d.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,d)}if("dsa"===d.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,c=n.data.pub_key,l=a.signature.decode(e,"der"),d=l.s,f=l.r;u(d,o),u(f,o);var h=i.mont(r),p=d.invm(o);return 0===s.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(h).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}(e,t,d)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");t=r.concat([l,t]);for(var f=d.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<f;)h.push(255),p++;h.push(0);for(var m=-1;++m<t.length;)h.push(t[m]);h=r.from(h);var v=i.mont(d.modulus);e=(e=new i(e).toRed(v)).redPow(new i(d.publicExponent)),e=r.from(e.fromRed().toArray());var g=p<8?1:0;for(f=Math.min(e.length,h.length),e.length!==h.length&&(g=1),m=-1;++m<f;)g|=e[m]^h[m];return 0===g}},function(e,t,n){(function(t){var r=n(264),i=n(63);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(62).Buffer)},function(e,t,n){t.publicEncrypt=n(693),t.privateDecrypt=n(694),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(206),i=n(146),o=n(181),a=n(383),s=n(384),u=n(63),c=n(385),l=n(263),d=n(32).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===f)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,c=o("sha1").update(d.alloc(0)).digest(),l=c.length,f=2*l;if(r>n-f-2)throw new Error("message too long");var h=d.alloc(n-r-f-2),p=n-l-1,m=i(l),v=s(d.concat([c,h,d.alloc(1,1),t],p),a(m,p)),g=s(m,a(v,l));return new u(d.concat([d.alloc(1),g,v],n))}(p,t);else if(1===f)h=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");return r=n?d.alloc(a-o-3,255):function(e){for(var t,n=d.allocUnsafe(e),r=0,o=i(2*e),a=0;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3),new u(d.concat([d.from([0,n?1:2]),r,d.alloc(1),t],a))}(p,t,n);else{if(3!==f)throw new Error("unknown padding");if((h=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(h,p):c(h,p)}},function(e,t,n){var r=n(206),i=n(383),o=n(384),a=n(63),s=n(263),u=n(181),c=n(385),l=n(32).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var f,h=r(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");f=n?c(new a(t),h):s(t,h);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===d)return function(e,t){var n=e.modulus.byteLength(),r=u("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),d=o(s,i(c,a)),f=o(c,i(d,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));for(var i=-1;++i<r;)n+=e[i]^t[i];return n}(r,f.slice(0,a)))throw new Error("decryption error");for(var h=a;0===f[h];)h++;if(1!==f[h++])throw new Error("decryption error");return f.slice(h)}(h,f);if(1===d)return function(e,t,n){for(var r=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,f,n);if(3===d)return f;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(32),a=n(146),s=o.Buffer,u=o.kMaxLength,c=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function f(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>u)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return c.getRandomValues(s),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,t),e;a(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return d(n,t.length),f(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){if(void 0===n&&(n=0),!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(n,t.length),void 0===r&&(r=t.length-n),f(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(49),n(45))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!y(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&D(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(D(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var c,y="",w=!1,C=["{","}"];return h(n)&&(w=!0,C=["[","]"]),D(n)&&(y=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),S(n)&&(y=" "+d(n)),0!==a.length||w&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,y,C)):C[0]+y+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function _(e){return void 0===e}function b(e){return y(e)&&"[object RegExp]"===w(e)}function y(e){return"object"==typeof e&&null!==e}function E(e){return y(e)&&"[object Date]"===w(e)}function S(e){return y(e)&&("[object Error]"===w(e)||e instanceof Error)}function D(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(_(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=b,t.isObject=y,t.isDate=E,t.isError=S,t.isFunction=D,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(697);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(698),t._extend=function(e,t){if(!t||!y(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(k&&e[k]){var t;if("function"!=typeof(t=e[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),k&&Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=k,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(O,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(45))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){},function(e,t,n){"use strict";var r=n(95)._T_;e.exports=function(e){this._U_={},this._q_=void 0,this._M_=r(e)}},function(e,t,n){"use strict";var r;function i(e){setTimeout((function(){throw e}))}e.exports="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof Promise&&(r=Promise.resolve())?function(e){r.then(e).catch(i)}:setTimeout},function(e,t,n){"use strict";var r=n(179);function i(e){this.h_=e,this._u_={},this.V_=!1,this._l_=null,this._k_=null,this._Y_=null,Object.seal(this)}i.prototype={I_:function(){this.V_=!1,this._l_=null,this._k_=null,this._Y_=null},_d_:function(e){var t,n=this._u_;for(t in n)t in e||this._f_(t,void 0,!1,!1);for(t in e)this._f_(t,e[t],!0,!1)},_f_:function(e,t,n,i){var o,a,s=this._u_;if(n&&(o=e,a=this.constructor.prototype,o in a||Object.defineProperty(a,o,{get:function(){return this._u_[o]},set:function(e){this._f_(o,e,!1)}})),i)(this._Y_||(this._Y_={}))[e]=!0;else if(s[e]===t)return;this.V_||(this.V_=!0,this._l_=s,this._u_=s=r({},s),this._k_={},this.h_._e_()),this._k_[e]=t,void 0===t?delete s[e]:s[e]=t},toJSON:function(){return this._u_}},e.exports=i},function(e,t,n){"use strict";var r,i=n(321),o=n(249),a=n(271).o_,s=n(95),u=s.C_,c=s.D_,l=n(318),d=n(320),f=n(704),h=n(127),p=n(705),m=n(322),v=n(201),g=n(145),_=g.E_,b=g.F_,y=Object.prototype.hasOwnProperty,E=Array.prototype.slice,S={addDestroyListener:!1},D=l.prototype.emit;function w(e){e()}function C(e,t){return t?e+"_"+t:e}function T(e){l.call(this),this.id=e,this.J_=null,this.K_=null,this.L_=null,this.M_=null,this.N_=null,this.O_=null,this.G_=null,this.P_=null,this.Q_=void 0,this.R_=!1,this.S_=void 0,this.T_=!1,this.U_=!1,this.V_=!1,this.W_=!1,this.X_=void 0;var t=b[e];t?(this.k_=t,delete b[e]):this.k_={}}T.prototype=r={Y_:!0,subscribeTo:function(e){if(!e)throw TypeError();var t=this.L_||(this.L_=new f),n=e.Y_?void 0:S;return t.subscribeTo(e,n)},emit:function(e){var t,n=this.O_;if(n&&(t=n[e])){var r=t[0],i=t[1],o=t[2];(function(e,t,n,r){n.push(e),r&&(n=r.concat(n));var i=u[e.G_],o="function"==typeof t?t:i[t];if(!o)throw Error("Method not found: "+t);o.apply(i,n)})(this,r,E.call(arguments,1),o),i&&delete n[e]}return D.apply(this,arguments)},getElId:function(e,t){return e?function(e,t,n){return e.id+"-"+C(t,n)}(this,e,t):this.id},getEl:function(e,t){return e?this.k_["@"+C(e,t)]:this.el},getEls:function(e){e+="[]";for(var t,n=[],r=0;t=this.getEl(e,r);)n.push(t),r++;return n},getComponent:function(e,t){var n=this.k_["@"+C(e,t)];return n&&_.get(n)},getComponents:function(e){var t=this.k_["@"+e+"[]"];return t?Object.keys(t).map((function(e){return _.get(t[e])})).filter(Boolean):[]},destroy:function(){if(!this.T_){var e=this.K_;this.Z_(),e.nodes.forEach((function(e){c(e),!1!==v.___(e)&&e.parentNode.removeChild(e)})),e.detached=!0,delete u[this.id],this.k_={}}},Z_:function(){if(!this.T_){this._a_(),this.T_=!0,_.set(this.K_,void 0),this.K_=null,this._b_();var e=this.L_;e&&(e.removeAllListeners(),this.L_=null)}},isDestroyed:function(){return this.T_},get state(){return this.J_},set state(e){var t=this.J_;(t||e)&&(t||(t=this.J_=new this._c_(this)),t._d_(e||{}),t.V_&&this._e_(),e||(this.J_=null))},setState:function(e,t){var n=this.J_;if(n||(n=this.J_=new this._c_(this)),"object"==typeof e){var r=e;for(var i in r)y.call(r,i)&&n._f_(i,r[i],!0)}else n._f_(e,t,!0)},setStateDirty:function(e,t){var n=this.J_;1==arguments.length&&(t=n[e]),n._f_(e,t,!0,!0)},replaceState:function(e){this.J_._d_(e)},get input(){return this.Q_},set input(e){this.W_?this.Q_=e:this._g_(e)},_g_:function(e,t,n){var r;t=t||this.onInput;var i=this.Q_;return this.Q_=void 0,this._h_=n&&n.__subtree_context__||this._h_,t&&(this.W_=!0,r=t.call(this,e||{},n),this.W_=!1),e=this.P_=r||e,(this.V_=function(e,t,n){if(t!=n){if(null==t||null==n)return!0;var r=Object.keys(t),i=Object.keys(n),o=r.length;if(o!==i.length)return!0;for(var a=o;a--;){var s=r[a];if(!(s in n)||t[s]!==n[s])return!0}}return!1}(0,i,e))&&this._e_(),void 0===this.Q_&&(this.Q_=e,e&&e.$global&&(this.S_=e.$global)),e},forceUpdate:function(){this.V_=!0,this._e_()},_e_:function(){this.U_||(this.U_=!0,p._i_(this))},update:function(){if(!0!==this.T_&&!1!==this._j_){var e=this.Q_,t=this.J_;!1===this.V_&&null!==t&&!0===t.V_&&function(e,t,n){var r,i;for(var o in t)if(y.call(t,o)){if(!(r=e["update_"+o]))return;(i||(i=[])).push([o,r])}return i&&(i.forEach((function(i){var o=i[0];r=i[1];var a=t[o],s=n[o];r.call(e,a,s)})),e.H_(),e.I_()),!0}(this,t._k_,t._l_)&&(t.V_=!1),!0===this._j_&&!1!==this.shouldUpdate(e,t)&&this._m_(),this.I_()}},get _j_(){return!0===this.V_||null!==this.J_&&!0===this.J_.V_},I_:function(){this.V_=!1,this.U_=!1,this.P_=null;var e=this.J_;e&&e.I_()},shouldUpdate:function(){return!0},_m_:function(){var e=this;if(!e._n_)throw TypeError();var t=this.P_||this.Q_;p._o_((function(){e._p_(t,!1).afterInsert(e.X_)})),this.I_()},_p_:function(e,t){var n=this.X_,r=this.S_,i=this.K_,s=this._n_,u=(s.createOut||o)(r);u.sync(),u.X_=this.X_,u.__subtree_context__=this._h_;var c=a(u),l=c.e_;l._q_=this,l.f_=t,s(e,u);var f=new d(u),h=u.B_()._r_;return m(i,h,n,c),f},_s_:function(){var e=this.K_;return e.remove(),e},_b_:function(){var e=this.M_;e&&(e.forEach(w),this.M_=null)},get _t_(){var e=this.J_;return e&&e._u_},_v_:function(e,t){var n=this.O_={};this.G_=t,e.forEach((function(e){var t=e[0],r=e[1],i=e[2],o=e[3];r&&(n[t]=[r,i,o])}))},get el(){return function(e){for(var t;e&&(t=e.firstChild);)e=t.fragment;return t}(this.K_)},get els(){return(this.K_?this.K_.nodes:[]).filter((function(e){return 1===e.nodeType}))},_w_:D,_x_:function(e,t){this.onCreate&&this.onCreate(e,t),this._w_("create",e,t)},_y_:function(e){this.onRender&&this.onRender(e),this._w_("render",e)},H_:function(){this.onUpdate&&this.onUpdate(),this._w_("update")},_z_:function(){this.onMount&&this.onMount(),this._w_("mount")},_a_:function(){this.onDestroy&&this.onDestroy(),this._w_("destroy")}},r.elId=r.getElId,r._A_=r.update,r._B_=r.destroy,i(r,(function(e){return e._s_()}),(function(e){return e})),h(T,l),e.exports=T},function(e,t){function n(e){return!e.once}function r(e){this.$__target=e,this.$__listeners=[],this.$__subscribeTo=null}function i(e){this.$__target=e}function o(){this.$__subscribeToList=[]}r.prototype={$__remove:function(e,t){var n=this.$__target,r=this.$__listeners;this.$__listeners=r.filter((function(r){var i=r[0],o=r[1],a=r[2];if(t){if(a&&e(i,a))return n.removeListener(i,a),!1}else if(e(i,o))return n.removeListener(i,a||o),!1;return!0}));var i=this.$__subscribeTo;if(!this.$__listeners.length&&i){var o=this,a=i.$__subscribeToList;i.$__subscribeToList=a.filter((function(e){return e!==o}))}},on:function(e,t){return this.$__target.on(e,t),this.$__listeners.push([e,t]),this},once:function(e,t){var n=this,r=function e(){n.$__remove((function(t,n){return e===n}),!0),t.apply(this,arguments)};return this.$__target.once(e,r),this.$__listeners.push([e,t,r]),this},removeListener:function(e,t){return"function"==typeof e&&(t=e,e=null),t&&e?this.$__remove((function(n,r){return e===n&&t===r})):t?this.$__remove((function(e,n){return t===n})):e&&this.removeAllListeners(e),this},removeAllListeners:function(e){var t=this.$__listeners,n=this.$__target;if(e)this.$__remove((function(t,n){return e===t}));else{for(var r=t.length-1;r>=0;r--){var i=t[r];n.removeListener(i[0],i[1])}this.$__listeners.length=0}return this}},i.prototype={on:function(e,t){return this.$__target.addEventListener(e,t),this},once:function(e,t){var n=this;return this.$__target.addEventListener(e,(function r(){n.$__target.removeEventListener(e,r),t()})),this},removeListener:function(e,t){return this.$__target.removeEventListener(e,t),this}},o.prototype={subscribeTo:function(e,t){for(var o,a,s=!t||!1!==t.addDestroyListener,u=this.$__subscribeToList,c=0,l=u.length;c<l;c++){var d=u[c];if(d.$__target===e){o=d;break}}return o||(n(e)&&(a=new i(e)),o=new r(a||e),s&&!a&&o.once("destroy",(function(){o.removeAllListeners();for(var t=u.length-1;t>=0;t--)if(u[t].$__target===e){u.splice(t,1);break}})),o.$__subscribeTo=this,u.push(o)),o},removeAllListeners:function(e,t){var n,r=this.$__subscribeToList;if(e)for(n=r.length-1;n>=0;n--){var i=r[n];if(i.$__target===e){i.removeAllListeners(t),i.$__listeners.length||r.splice(n,1);break}}else{for(n=r.length-1;n>=0;n--)r[n].removeAllListeners();r.length=0}}},(t=e.exports=o).wrap=function(e){var t,o;return n(e)&&(t=new i(e)),o=new r(t||e),t||e.once("destroy",(function(){o.$__listeners.length=0})),o},t.createTracker=function(){return new o}},function(e,t,n){"use strict";var r=!1,i=[],o=[],a=n(324).az_;function s(){if(o.length)try{u(o)}finally{r=!1}}function u(e){for(var t=0;t<e.length;t++)e[t]._A_();e.length=0}t._i_=function(e){var t=i.length;if(t){var n=i[t-1];n.aA_?n.aA_.push(e):n.aA_=[e]}else r||(r=!0,a(s)),o.push(e)},t._o_=function(e){var t={aA_:null};i.push(t);try{e()}finally{try{t.aA_&&u(t.aA_)}finally{i.length--}}}},function(e,t,n){e.exports=n(707)},function(e,t,n){var r=n(387),i=Array.isArray;function o(e,t,n){for(var r=e,i=0;i<n;i++)r=r[t[i]];return r}function a(e){if("Date"===e.type)return new Date(e.value);if("NOOP"===e.type)return r.NOOP;throw new Error("Bad type")}e.exports=function(e){if(!e)return e;var t=e.$$;if(t){var n,r=e.o;if(t&&(n=t.length))for(var s=0;s<n;s++){var u,c=t[s],l=c.r;u=i(l)?o(r,l,l.length):a(l);var d=c.l,f=d.length-1;if(-1===f){r=e.o=u;break}o(r,d,f)[d[f]]=u}return t.length=0,null==r?null:r}return e}},function(e,t,n){e.exports=n(387)},function(e,t,n){"use strict";var r=n(386);n(271)._R_=r._R_,t.getComponentForEl=n(95).ah_,t.init=window.$initComponents=r.ai_;var i=n(89);t.register=function(e,t){i.r(e,(function(){return t}))}},function(e,t,n){"use strict";var r=n(388);e.exports=function(e,t,n,i){var o=t.id,a=e.j_=new r(t,o,e);return e.e_._U_[o]=!0,e.b_.push(a),e.y_.bc(t,n,i&&i.h_),a}},function(e,t,n){"use strict";e.exports=function(e){e.ee()}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"Severity",(function(){return a})),n.d(t,"addGlobalEventProcessor",(function(){return u.b})),n.d(t,"addBreadcrumb",(function(){return m})),n.d(t,"captureException",(function(){return d})),n.d(t,"captureEvent",(function(){return h})),n.d(t,"captureMessage",(function(){return f})),n.d(t,"configureScope",(function(){return p})),n.d(t,"getHubFromCarrier",(function(){return c.c})),n.d(t,"getCurrentHub",(function(){return c.b})),n.d(t,"Hub",(function(){return c.a})),n.d(t,"makeMain",(function(){return c.e})),n.d(t,"Scope",(function(){return u.a})),n.d(t,"Session",(function(){return w.a})),n.d(t,"startTransaction",(function(){return D})),n.d(t,"SDK_VERSION",(function(){return C})),n.d(t,"setContext",(function(){return v})),n.d(t,"setExtra",(function(){return b})),n.d(t,"setExtras",(function(){return g})),n.d(t,"setTag",(function(){return y})),n.d(t,"setTags",(function(){return _})),n.d(t,"setUser",(function(){return E})),n.d(t,"withScope",(function(){return S})),n.d(t,"BrowserClient",(function(){return ft})),n.d(t,"injectReportDialog",(function(){return tt})),n.d(t,"eventFromException",(function(){return ke})),n.d(t,"eventFromMessage",(function(){return Oe})),n.d(t,"defaultIntegrations",(function(){return jt})),n.d(t,"forceLoad",(function(){return Vt})),n.d(t,"init",(function(){return Bt})),n.d(t,"lastEventId",(function(){return Ht})),n.d(t,"onLoad",(function(){return qt})),n.d(t,"showReportDialog",(function(){return Ut})),n.d(t,"flush",(function(){return Gt})),n.d(t,"close",(function(){return Jt})),n.d(t,"wrap",(function(){return zt})),n.d(t,"SDK_NAME",(function(){return Wt})),n.d(t,"Integrations",(function(){return Xt})),n.d(t,"Transports",(function(){return o}));var r={};n.r(r),n.d(r,"FunctionToString",(function(){return ht})),n.d(r,"InboundFilters",(function(){return mt}));var i={};n.r(i),n.d(i,"GlobalHandlers",(function(){return wt})),n.d(i,"TryCatch",(function(){return bt})),n.d(i,"Breadcrumbs",(function(){return at})),n.d(i,"LinkedErrors",(function(){return Rt})),n.d(i,"UserAgent",(function(){return Lt})),n.d(i,"Dedupe",(function(){return Mt}));var o={};n.r(o),n.d(o,"BaseTransport",(function(){return ze})),n.d(o,"FetchTransport",(function(){return Ke})),n.d(o,"XHRTransport",(function(){return $e})),n.d(o,"makeNewFetchTransport",(function(){return qe})),n.d(o,"makeNewXHRTransport",(function(){return We}));var a,s=n(0);!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(a||(a={}));var u=n(240),c=n(175);function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(c.b)();if(r&&r[e])return r[e].apply(r,Object(s.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function d(e,t){return l("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}function f(e,t){var n=new Error(e),r="string"!=typeof t?{captureContext:t}:void 0;return l("captureMessage",e,"string"==typeof t?t:void 0,Object(s.a)({originalException:e,syntheticException:n},r))}function h(e){return l("captureEvent",e)}function p(e){l("configureScope",e)}function m(e){l("addBreadcrumb",e)}function v(e,t){l("setContext",e,t)}function g(e){l("setExtras",e)}function _(e){l("setTags",e)}function b(e,t){l("setExtra",e,t)}function y(e,t){l("setTag",e,t)}function E(e){l("setUser",e)}function S(e){l("withScope",e)}function D(e,t){return l("startTransaction",Object(s.a)({},e),t)}var w=n(391),C="6.19.7",T=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}),A=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,T(r,n.prototype),r}return Object(s.b)(t,e),t}(Error),k=n(103),O=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function R(e,t){void 0===t&&(t=!1);var n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a}function M(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function I(e){var t="string"==typeof e?function(e){var t=O.exec(e);if(!t)throw new A("Invalid Sentry Dsn: "+e);var n=Object(s.c)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,u=n[3],c=n[4],l=void 0===c?"":c,d="",f=n[5],h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){var p=f.match(/^\d+/);p&&(f=p[0])}return M({host:u,pass:a,path:d,projectId:f,port:l,protocol:r,publicKey:i})}(e):M(e);return function(e){if(k.a){var t=e.port,n=e.projectId,r=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new A("Invalid Sentry Dsn: "+t+" missing")})),!n.match(/^\d+$/))throw new A("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(e){return"http"===e||"https"===e}(r))throw new A("Invalid Sentry Dsn: Invalid protocol "+r);if(t&&isNaN(parseInt(t,10)))throw new A("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}var P=n(193),N=n(41),x=n(40),F=n(192),L=n(107),j=n(720),B=n(137),U="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,H=n(61),V=[];function q(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}var G="Not capturing exception because it's already been captured.",J=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=I(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this;if(!Object(P.c)(e)){var i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}U&&N.c.log(G)},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=Object(x.j)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){if(!(t&&t.originalException&&Object(P.c)(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}U&&N.c.log(G)},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?U&&N.c.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):U&&N.c.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(n){return t.getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=function(e){var t={};return function(e){var t=e.defaultIntegrations&&Object(s.e)(e.defaultIntegrations)||[],n=e.integrations,r=Object(s.e)(q(t));Array.isArray(n)?r=Object(s.e)(r.filter((function(e){return n.every((function(t){return t.name!==e.name}))})),q(n)):"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(e){return e.name}));return-1!==i.indexOf("Debug")&&r.push.apply(r,Object(s.e)(r.splice(i.indexOf("Debug"),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===V.indexOf(e.name)&&(e.setupOnce(u.b,c.b),V.push(e.name),U&&N.c.log("Integration installed: "+e.name))}(e)})),Object(H.a)(t,"initialized",!0),t}(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return U&&N.c.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i=!1,o=!1,a=t.exception&&t.exception.values;if(a){o=!0;try{for(var u=Object(s.f)(a),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var d="ok"===e.status;(d&&0===e.errors||d&&i)&&(e.update(Object(s.a)(Object(s.a)({},i&&{status:"crashed"}),{errors:e.errors||Number(o||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new F.a((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.normalizeDepth,a=void 0===o?3:o,c=i.normalizeMaxBreadth,l=void 0===c?1e3:c,d=Object(s.a)(Object(s.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(P.g)()),timestamp:e.timestamp||Object(L.b)()});this._applyClientOptions(d),this._applyIntegrationsMetadata(d);var f=t;n&&n.captureContext&&(f=u.a.clone(f).update(n.captureContext));var h=Object(F.c)(d);return f&&(h=f.applyToEvent(d,n)),h.then((function(e){return e&&(e.sdkProcessingMetadata=Object(s.a)(Object(s.a)({},e.sdkProcessingMetadata),{normalizeDepth:Object(j.a)(a)+" ("+typeof a+")"})),"number"==typeof a&&a>0?r._normalizeEvent(e,a,l):e}))},e.prototype._normalizeEvent=function(e,t,n){if(!e)return null;var r=Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return Object(s.a)(Object(s.a)({},e),e.data&&{data:Object(j.a)(e.data,t,n)})}))}),e.user&&{user:Object(j.a)(e.user,t,n)}),e.contexts&&{contexts:Object(j.a)(e.contexts,t,n)}),e.extra&&{extra:Object(j.a)(e.extra,t,n)});return e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace),r.sdkProcessingMetadata=Object(s.a)(Object(s.a)({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=Object(B.d)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Object(B.d)(s.value,a));var u=e.request;u&&u.url&&(u.url=Object(B.d)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=Object(s.e)(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){U&&N.c.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate,s=this.getTransport();function u(e,t){s.recordLostEvent&&s.recordLostEvent(e,t)}if(!this._isEnabled())return Object(F.b)(new A("SDK not enabled, will not capture event."));var c="transaction"===e.type;return!c&&"number"==typeof a&&Math.random()>a?(u("sample_rate","event"),Object(F.b)(new A("Discarding event because it's not included in the random sample (sampling rate = "+a+")"))):this._prepareEvent(e,n,t).then((function(n){if(null===n)throw u("event_processor",e.type||"event"),new A("An event processor returned null, will not send event.");return t&&t.data&&!0===t.data.__sentry__||c||!o?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(Object(x.n)(e))return e.then((function(e){if(!Object(x.i)(e)&&null!==e)throw new A(t);return e}),(function(e){throw new A("beforeSend rejected with "+e)}));if(!Object(x.i)(e)&&null!==e)throw new A(t);return e}(o(n,t))})).then((function(t){if(null===t)throw u("before_send",e.type||"event"),new A("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!c&&i&&r._updateSessionFromEvent(i,t),r._sendEvent(t),t})).then(null,(function(e){if(e instanceof A)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new A("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e}(),z=n(59);function K(e,t,n){return{initDsn:e,metadata:t||{},dsn:I(e),tunnel:n}}function W(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}function $(e,t){return""+W(e)+e.projectId+"/"+t+"/"}function Y(e){return Object(H.h)({sentry_key:e.publicKey,sentry_version:"7"})}function X(e){return $(e,"store")}function Q(e){return X(e)+"?"+Y(e)}function Z(e,t){return t||function(e){return $(e,"envelope")}(e)+"?"+Y(e)}function ee(e,t){return void 0===t&&(t=[]),[e,t]}function te(e){var t=Object(s.c)(e,2),n=t[0],r=t[1],i=JSON.stringify(n);return r.reduce((function(e,t){var n=Object(s.c)(t,2),r=n[0],i=n[1],o=Object(x.j)(i)?String(i):JSON.stringify(i);return e+"\n"+JSON.stringify(r)+"\n"+o}),i)}function ne(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function re(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=Object(s.e)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=Object(s.e)(e.sdk.packages||[],t.packages||[]),e):e}function ie(e,t){var n=ne(t),r="aggregates"in e?"sessions":"session";return[ee(Object(s.a)(Object(s.a)({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:R(t.dsn)}),[[{type:r},e]]),r]}!function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=I(e),this.metadata=t,this._tunnel=n}e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){return W(this._dsnObject)},e.prototype.getStoreEndpoint=function(){return X(this._dsnObject)},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return Q(this._dsnObject)},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return Z(this._dsnObject,this._tunnel)}}();var oe=function(){function e(){}return e.prototype.sendEvent=function(e){return Object(F.c)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(e){return Object(F.c)(!0)},e}(),ae=function(){function e(e){this._options=e,this._options.dsn||U&&N.c.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new A("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new A("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=function(e,t){var n=ne(t),r=e.type||"event",i=(e.sdkProcessingMetadata||{}).transactionSampling||{},o=i.method,a=i.rate;return re(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata,ee(Object(s.a)(Object(s.a)({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:R(t.dsn)}),[[{type:r,sample_rates:[{id:o,rate:a}]},e]])}(e,K(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(t).then(null,(function(e){U&&N.c.error("Error while sending event:",e)}))}else this._transport.sendEvent(e).then(null,(function(e){U&&N.c.error("Error while sending event:",e)}))},e.prototype.sendSession=function(e){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=K(this._options.dsn,this._options._metadata,this._options.tunnel),n=Object(s.c)(ie(e,t),1)[0];this._newTransport.send(n).then(null,(function(e){U&&N.c.error("Error while sending session:",e)}))}else this._transport.sendSession(e).then(null,(function(e){U&&N.c.error("Error while sending session:",e)}));else U&&N.c.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new oe},e}(),se=n(275),ue=n(219);function ce(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var le=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,de=/\((\S*)(?::(\d+))(?::(\d+))\)/,fe=[30,function(e){var t=le.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=de.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=Object(s.c)(Se(t[1]||"?",t[2]),2),i=r[0];return ce(r[1],i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],he=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,pe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,me=[50,function(e){var t,n=he.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=pe.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||"?";return o=(t=Object(s.c)(Se(o,i),2))[0],ce(i=t[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],ve=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ge=[40,function(e){var t=ve.exec(e);return t?ce(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],_e=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,be=[10,function(e){var t=_e.exec(e);return t?ce(t[2],t[3]||"?",+t[1]):void 0}],ye=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ee=[20,function(e){var t=ye.exec(e);return t?ce(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],Se=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function De(e){var t=Ce(e),n={type:e&&e.name,value:Ae(e)};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function we(e){return{exception:{values:[De(e)]}}}function Ce(e){var t=e.stacktrace||e.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Te.test(e.message))return 1}return 0}(e);try{return Object(ue.a)(be,Ee,fe,ge,me)(t,n)}catch(e){}return[]}var Te=/Minified React error #\d+;/i;function Ae(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ke(e,t,n){var r=Re(e,t&&t.syntheticException||void 0,n);return Object(P.a)(r),r.level=a.Error,t&&t.event_id&&(r.event_id=t.event_id),Object(F.c)(r)}function Oe(e,t,n,r){void 0===t&&(t=a.Info);var i=Me(e,n&&n.syntheticException||void 0,r);return i.level=t,n&&n.event_id&&(i.event_id=n.event_id),Object(F.c)(i)}function Re(e,t,n,r){var i;if(Object(x.e)(e)&&e.error)return we(e.error);if(Object(x.a)(e)||Object(x.b)(e)){var o=e;if("stack"in e)i=we(e);else{var a=o.name||(Object(x.a)(o)?"DOMError":"DOMException"),u=o.message?a+": "+o.message:a;i=Me(u,t,n),Object(P.b)(i,u)}return"code"in o&&(i.tags=Object(s.a)(Object(s.a)({},i.tags),{"DOMException.code":""+o.code})),i}return Object(x.d)(e)?we(e):Object(x.i)(e)||Object(x.f)(e)?(i=function(e,t,n){var r={exception:{values:[{type:Object(x.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(H.d)(e)}]},extra:{__serialized__:Object(j.b)(e)}};if(t){var i=Ce(t);i.length&&(r.stacktrace={frames:i})}return r}(e,t,r),Object(P.a)(i,{synthetic:!0}),i):(i=Me(e,t,n),Object(P.b)(i,""+e,void 0),Object(P.a)(i,{synthetic:!0}),i)}function Me(e,t,n){var r={message:e};if(n&&t){var i=Ce(t);i.length&&(r.stacktrace={frames:i})}return r}function Ie(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Object(F.b)(new A("Not adding Promise due to buffer limit reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new F.a((function(n,r){var i=t.length;if(!i)return n(!0);var o=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){Object(F.c)(e).then((function(){--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Pe(e,t){return e[t]||e.all||0}function Ne(e,t,n){return void 0===n&&(n=Date.now()),Pe(e,t)>n}function xe(e,t,n){var r,i,o,a;void 0===n&&(n=Date.now());var u=Object(s.a)({},e),c=t["x-sentry-rate-limits"],l=t["retry-after"];if(c)try{for(var d=Object(s.f)(c.trim().split(",")),f=d.next();!f.done;f=d.next()){var h=f.value.split(":",2),p=parseInt(h[0],10),m=1e3*(isNaN(p)?60:p);if(h[1])try{for(var v=(o=void 0,Object(s.f)(h[1].split(";"))),g=v.next();!g.done;g=v.next())u[g.value]=n+m}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}else u.all=n+m}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}else l&&(u.all=n+function(e,t){void 0===t&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(l,n));return u}function Fe(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}function Le(e,t,n){void 0===n&&(n=Ie(e.bufferSize||30));var r={};return{send:function(e){var i=function(e){var t=Object(s.c)(e,2),n=Object(s.c)(t[1],1);return Object(s.c)(n[0],1)[0].type}(e),o="event"===i?"error":i,a={category:o,body:te(e)};return Ne(r,o)?Object(F.b)({status:"rate_limit",reason:je(r,o)}):n.add((function(){return t(a).then((function(e){var t=e.body,n=e.headers,i=e.reason,a=Fe(e.statusCode);return n&&(r=xe(r,n)),"success"===a?Object(F.c)({status:a,reason:i}):Object(F.b)({status:a,reason:i||t||("rate_limit"===a?je(r,o):"Unknown transport error")})}))}))},flush:function(e){return n.drain(e)}}}function je(e,t){return"Too many "+t+" requests, backing off until: "+new Date(Pe(e,t)).toISOString()}var Be,Ue="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,He=Object(z.a)();function Ve(){if(Be)return Be;if(Object(se.a)(He.fetch))return Be=He.fetch.bind(He);var e=He.document,t=He.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){Ue&&N.c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Be=t.bind(He)}function qe(e,t){return void 0===t&&(t=Ve()),Le({bufferSize:e.bufferSize},(function(n){var r=Object(s.a)({body:n.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return t(e.url,r).then((function(e){return e.text().then((function(t){return{body:t,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")},reason:e.statusText,statusCode:e.status}}))}))}))}function Ge(e){return"event"===e?"error":e}var Je=Object(z.a)(),ze=function(){function e(e){var t=this;this.options=e,this._buffer=Ie(30),this._rateLimits={},this._outcomes={},this._api=K(e.dsn,e._metadata,e.tunnel),this.url=Q(this._api.dsn),this.options.sendClientReports&&Je.document&&Je.document.addEventListener("visibilitychange",(function(){"hidden"===Je.document.visibilityState&&t._flushOutcomes()}))}return e.prototype.sendEvent=function(e){return this._sendRequest(function(e,t){var n,r=ne(t),i=e.type||"event",o="transaction"===i||!!t.tunnel,a=(e.sdkProcessingMetadata||{}).transactionSampling||{},u=a.method,c=a.rate;re(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;try{n=JSON.stringify(e)}catch(t){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=t;try{n=JSON.stringify(Object(j.a)(e))}catch(e){var l=e;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:l.message,stack:l.stack}})}}var d={body:n,type:i,url:o?Z(t.dsn,t.tunnel):Q(t.dsn)};if(o){var f=ee(Object(s.a)(Object(s.a)({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!t.tunnel&&{dsn:R(t.dsn)}),[[{type:i,sample_rates:[{id:u,rate:c}]},d.body]]);d.body=te(f)}return d}(e,this._api),e)},e.prototype.sendSession=function(e){return this._sendRequest(function(e,t){var n=Object(s.c)(ie(e,t),2),r=n[0],i=n[1];return{body:te(r),type:i,url:Z(t.dsn,t.tunnel)}}(e,this._api),e)},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){var n;if(this.options.sendClientReports){var r=Ge(t)+":"+e;Ue&&N.c.log("Adding outcome: "+r),this._outcomes[r]=(null!=(n=this._outcomes[r])?n:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},Object.keys(e).length){Ue&&N.c.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t,n,r=Z(this._api.dsn,this._api.tunnel),i=Object.keys(e).map((function(t){var n=Object(s.c)(t.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:e[t]}})),o=(t=i,ee((n=this._api.tunnel&&R(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:Object(L.b)(),discarded_events:t}]]));try{!function(e,t){if("[object Navigator]"===Object.prototype.toString.call(He&&He.navigator)&&"function"==typeof He.navigator.sendBeacon)return He.navigator.sendBeacon.bind(He.navigator)(e,t);Object(se.b)()&&Ve()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){console.error(e)}))}(r,te(o))}catch(e){Ue&&N.c.error(e)}}else Ue&&N.c.log("No outcomes to flush")}},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=Fe(n.status);this._rateLimits=xe(this._rateLimits,r),this._isRateLimited(t)&&Ue&&N.c.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),"success"!==a?o(n):i({status:a})},e.prototype._disabledUntil=function(e){var t=Ge(e);return new Date(Pe(this._rateLimits,t))},e.prototype._isRateLimited=function(e){var t=Ge(e);return Ne(this._rateLimits,t)},e}(),Ke=function(e){function t(t,n){void 0===n&&(n=Ve());var r=e.call(this,t)||this;return r._fetch=n,r}return Object(s.b)(t,e),t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:Object(se.e)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new F.a((function(t,i){n._fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)}))})).then(void 0,(function(t){throw t instanceof A?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(ze);function We(e){return Le({bufferSize:e.bufferSize},(function(t){return new F.a((function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var e={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(e)}},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(t.body)}))}))}var $e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.b)(t,e),t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new F.a((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)}))})).then(void 0,(function(t){throw t instanceof A?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(ze),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.b)(t,e),t.prototype.eventFromException=function(e,t){return ke(e,t,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=a.Info),Oe(e,t,n,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(s.a)(Object(s.a)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=K(t.dsn,t._metadata,t.tunnel),r=Z(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(t);if(Object(se.b)()){var i=Object(s.a)({},t.fetchParameters);return this._newTransport=qe({requestOptions:i,url:r}),new Ke(t)}return this._newTransport=We({url:r,headers:t.headers}),new $e(t)},t}(ae),Xe=Object(z.a)(),Qe=0;function Ze(){return Qe>0}function et(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(Object(H.f)(e))return e}catch(t){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(e){return et(e,t)}));return e.apply(this,i)}catch(e){throw Qe+=1,setTimeout((function(){Qe-=1})),S((function(i){i.addEventProcessor((function(e){return t.mechanism&&(Object(P.b)(e,void 0,void 0),Object(P.a)(e,t.mechanism)),e.extra=Object(s.a)(Object(s.a)({},e.extra),{arguments:r}),e})),d(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(e){}Object(H.g)(i,e),Object(H.a)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(e){}return i}function tt(e){if(void 0===e&&(e={}),Xe.document)if(e.eventId)if(e.dsn){var t=Xe.document.createElement("script");t.async=!0,t.src=function(e,t){var n=I(e),r=W(n)+"embed/error-page/",i="dsn="+R(n);for(var o in t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&(i+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(i+="&email="+encodeURIComponent(t.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);return r+"?"+i}(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var n=Xe.document.head||Xe.document.body;n&&n.appendChild(t)}else Ue&&N.c.error("Missing dsn option in showReportDialog call");else Ue&&N.c.error("Missing eventId option in showReportDialog call")}var nt=n(469),rt=n(390),it=["fatal","error","warning","log","info","debug","critical"];function ot(e){return"warn"===e?a.Warning:function(e){return-1!==it.indexOf(e)}(e)?e:a.Log}var at=function(){function e(t){this.name=e.id,this._options=Object(s.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Object(c.b)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(P.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e;this._options.console&&Object(nt.a)("console",st),this._options.dom&&Object(nt.a)("dom",(e=this._options.dom,function(t){var n,r="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=t.event.target?Object(rt.b)(t.event.target,r):Object(rt.b)(t.event,r)}catch(e){n="<unknown>"}0!==n.length&&Object(c.b)().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})})),this._options.xhr&&Object(nt.a)("xhr",ut),this._options.fetch&&Object(nt.a)("fetch",ct),this._options.history&&Object(nt.a)("history",lt)},e.id="Breadcrumbs",e}();function st(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:ot(e.level),message:Object(B.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(B.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(c.b)().addBreadcrumb(t,{input:e.args,level:e.level})}function ut(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;Object(c.b)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}}function ct(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Object(c.b)().addBreadcrumb({category:"fetch",data:e.fetchData,level:a.Error,type:"http"},{data:e.error,input:e.args}):Object(c.b)().addBreadcrumb({category:"fetch",data:Object(s.a)(Object(s.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function lt(e){var t=Object(z.a)(),n=e.from,r=e.to,i=Object(P.e)(t.location.href),o=Object(P.e)(n),a=Object(P.e)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Object(c.b)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var dt,ft=function(e){function t(t){return void 0===t&&(t={}),t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:C}],version:C},e.call(this,Ye,t)||this}return Object(s.b)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(z.a)().document&&(this._isEnabled()?tt(Object(s.a)(Object(s.a)({},e),{dsn:e.dsn||this.getDsn()})):Ue&&N.c.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(at);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(J),ht=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){dt=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(H.f)(this)||this;return dt.apply(n,e)}},e.id="FunctionToString",e}(),pt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],mt=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n();if(r){var i=r.getIntegration(e);if(i){var o=r.getClient(),a=o?o.getOptions():{};return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(U&&N.c.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(P.d)(e)),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(t){return U&&N.c.error("Cannot extract message for event "+Object(P.d)(e)),[]}return[]}(e).some((function(e){return t.some((function(t){return Object(B.a)(e,t)}))}))}(e,t.ignoreErrors)?(U&&N.c.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(P.d)(e)),!0):function(e,t){if(!t||!t.length)return!1;var n=gt(e);return!!n&&t.some((function(e){return Object(B.a)(n,e)}))}(e,t.denyUrls)?(U&&N.c.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(P.d)(e)+".\nUrl: "+gt(e)),!0):!function(e,t){if(!t||!t.length)return!0;var n=gt(e);return!n||t.some((function(e){return Object(B.a)(n,e)}))}(e,t.allowUrls)&&(U&&N.c.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(P.d)(e)+".\nUrl: "+gt(e)),!0)}(t,function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{allowUrls:Object(s.e)(e.whitelistUrls||[],e.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Object(s.e)(e.blacklistUrls||[],e.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Object(s.e)(e.ignoreErrors||[],t.ignoreErrors||[],pt),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(i._options,a))?null:t}}return t}))},e.id="InboundFilters",e}();function vt(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function gt(e){try{if(e.stacktrace)return vt(e.stacktrace.frames);var t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?vt(t):null}catch(t){return U&&N.c.error("Cannot extract url for event "+Object(P.d)(e)),null}}var _t=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],bt=function(){function e(t){this.name=e.id,this._options=Object(s.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(z.a)();this._options.setTimeout&&Object(H.e)(e,"setTimeout",yt),this._options.setInterval&&Object(H.e)(e,"setInterval",yt),this._options.requestAnimationFrame&&Object(H.e)(e,"requestAnimationFrame",Et),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(H.e)(XMLHttpRequest.prototype,"send",St);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:_t).forEach(Dt)},e.id="TryCatch",e}();function yt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=et(r,{mechanism:{data:{function:Object(ue.b)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Et(e){return function(t){return e.apply(this,[et(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(ue.b)(e)},handled:!0,type:"instrument"}})])}}function St(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in r&&"function"==typeof r[e]&&Object(H.e)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:Object(ue.b)(t)},handled:!0,type:"instrument"}},r=Object(H.f)(t);return r&&(n.mechanism.data.handler=Object(ue.b)(r)),et(t,n)}))})),e.apply(this,t)}}function Dt(e){var t=Object(z.a)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(H.e)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=et(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(ue.b)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,et(r,{mechanism:{data:{function:"addEventListener",handler:Object(ue.b)(r),target:e},handled:!0,type:"instrument"}}),i])}})),Object(H.e)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var o=i&&i.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch(e){}return e.call(this,t,i,r)}})))}var wt=function(){function e(t){this.name=e.id,this._installFunc={onerror:Ct,onunhandledrejection:Tt},this._options=Object(s.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,Ue&&N.c.log("Global Handler attached: "+e),r(),this._installFunc[n]=void 0)}},e.id="GlobalHandlers",e}();function Ct(){Object(nt.a)("error",(function(e){var t=Object(s.c)(Ot(),2),n=t[0],r=t[1];if(n.getIntegration(wt)){var i=e.msg,o=e.url,u=e.line,c=e.column,l=e.error;if(!(Ze()||l&&l.__sentry_own_request__)){var d=void 0===l&&Object(x.l)(i)?function(e,t,n,r){var i=Object(x.e)(e)?e.message:e,o="Error",a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],i=a[2]),At({exception:{values:[{type:o,value:i}]}},t,n,r)}(i,o,u,c):At(Re(l||i,void 0,r,!1),o,u,c);d.level=a.Error,kt(n,l,d,"onerror")}}}))}function Tt(){Object(nt.a)("unhandledrejection",(function(e){var t=Object(s.c)(Ot(),2),n=t[0],r=t[1];if(n.getIntegration(wt)){var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(Ze()||i&&i.__sentry_own_request__)return!0;var o=Object(x.j)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:Re(i,void 0,r,!0);o.level=a.Error,kt(n,i,o,"onunhandledrejection")}}))}function At(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Object(x.l)(t)&&t.length>0?t:Object(rt.a)();return 0===u.length&&u.push({colno:c,filename:d,function:"?",in_app:!0,lineno:l}),e}function kt(e,t,n,r){Object(P.a)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Ot(){var e=Object(c.b)(),t=e.getClient();return[e,t&&t.getOptions().attachStacktrace]}var Rt=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){Object(u.b)((function(t,n){var r=Object(c.b)().getIntegration(e);return r?function(e,t,n,r){if(!(n.exception&&n.exception.values&&r&&Object(x.g)(r.originalException,Error)))return n;var i=function e(t,n,r,i){if(void 0===i&&(i=[]),!Object(x.g)(n[r],Error)||i.length+1>=t)return i;var o=De(n[r]);return e(t,n[r],r,Object(s.e)([o],i))}(t,r.originalException,e);return n.exception.values=Object(s.e)(i,n.exception.values),n}(r._key,r._limit,t,n):t}))},e.id="LinkedErrors",e}(),Mt=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);if(r){try{if(function(e,t){return!!t&&(!!function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&!(n&&!r||!n&&r)&&n===r&&!!Pt(e,t)&&!!It(e,t)}(e,t)||!!function(e,t){var n=Nt(t),r=Nt(e);return!(!n||!r)&&n.type===r.type&&n.value===r.value&&!!Pt(e,t)&&!!It(e,t)}(e,t))}(t,r._previousEvent))return Ue&&N.c.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return r._previousEvent=t}return r._previousEvent=t}return t}))},e.id="Dedupe",e}();function It(e,t){var n=xt(e),r=xt(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Pt(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Nt(e){return e.exception&&e.exception.values&&e.exception.values[0]}function xt(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}else if(e.stacktrace)return e.stacktrace.frames}var Ft=Object(z.a)(),Lt=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)((function(t){if(Object(c.b)().getIntegration(e)){if(!Ft.navigator&&!Ft.location&&!Ft.document)return t;var n=t.request&&t.request.url||Ft.location&&Ft.location.href,r=(Ft.document||{}).referrer,i=(Ft.navigator||{}).userAgent,o=Object(s.a)(Object(s.a)(Object(s.a)({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),a=Object(s.a)(Object(s.a)({},n&&{url:n}),{headers:o});return Object(s.a)(Object(s.a)({},t),{request:a})}return t}))},e.id="UserAgent",e}(),jt=[new r.InboundFilters,new r.FunctionToString,new bt,new at,new wt,new Rt,new Mt,new Lt];function Bt(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=jt),void 0===e.release){var t=Object(z.a)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(U?N.c.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Object(c.b)(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}(ft,e),e.autoSessionTracking&&function(){if(void 0!==Object(z.a)().document){var e=Object(c.b)();e.captureSession&&(Kt(e),Object(nt.a)("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&Kt(Object(c.b)())})))}else Ue&&N.c.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}function Ut(e){void 0===e&&(e={});var t=Object(c.b)(),n=t.getScope();n&&(e.user=Object(s.a)(Object(s.a)({},n.getUser()),e.user)),e.eventId||(e.eventId=t.lastEventId());var r=t.getClient();r&&r.showReportDialog(e)}function Ht(){return Object(c.b)().lastEventId()}function Vt(){}function qt(e){e()}function Gt(e){var t=Object(c.b)().getClient();return t?t.flush(e):(Ue&&N.c.warn("Cannot flush events. No client defined."),Object(F.c)(!1))}function Jt(e){var t=Object(c.b)().getClient();return t?t.close(e):(Ue&&N.c.warn("Cannot flush events and disable SDK. No client defined."),Object(F.c)(!1))}function zt(e){return et(e)()}function Kt(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var Wt="sentry.javascript.browser",$t={},Yt=Object(z.a)();Yt.Sentry&&Yt.Sentry.Integrations&&($t=Yt.Sentry.Integrations);var Xt=Object(s.a)(Object(s.a)(Object(s.a)({},$t),r),i)},function(e,t,n){"use strict";var r=n(7),i=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},o=n(60),a=o.a.documentElement,s=n(122),u=n(66),c=u.a.pop,l=n(86),d="[\\x20\\t\\r\\n\\f]",f=o.a.documentMode,h=f&&new RegExp(":enabled|:disabled|\\["+d+"*name"+d+"*="+d+"*(?:''|\"\")");r.a.contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))};var p=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function m(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}r.a.escapeSelector=function(e){return(e+"").replace(p,m)};var v,g=u.a.sort;function _(e,t){if(e===t)return v=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)?e==o.a||e.ownerDocument==o.a&&r.a.contains(o.a,e)?-1:t==o.a||t.ownerDocument==o.a&&r.a.contains(o.a,t)?1:0:4&n?-1:1)}r.a.uniqueSort=function(e){var t,n=[],r=0,i=0;if(v=!1,g.call(e,_),v){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e};var b=o.a,y=a.matches||a.msMatchesSelector;!function(){var e,t,n,o,a,u,p=r.a.expando,m=0,v=0,g=G(),_=G(),E=G(),S=G(),D="(?:\\\\[\\da-fA-F]{1,6}"+d+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",w="\\["+d+"*("+D+")(?:"+d+"*([*^$|!~]?=)"+d+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+d+"*\\]",C=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+w+")*)|.*)\\)|)",T=new RegExp(d+"+","g"),A=new RegExp("^"+d+"+|((?:^|[^\\\\])(?:\\\\.)*)"+d+"+$","g"),k=new RegExp("^"+d+"*,"+d+"*"),O=new RegExp("^"+d+"*([>+~]|"+d+")"+d+"*"),R=new RegExp(d+"|>"),M=new RegExp(C),I=new RegExp("^"+D+"$"),P={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+w),PSEUDO:new RegExp("^"+C),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+d+"*(even|odd|(([+-]|)(\\d*)n|)"+d+"*(?:([+-]|)"+d+"*(\\d+)|))"+d+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+d+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+d+"*((?:-\\d)?\\d*)"+d+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,x=/^h\d$/i,F=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,L=/[+~]/,j=new RegExp("\\\\[\\da-fA-F]{1,6}"+d+"?|\\\\([^\\r\\n\\f])","g"),B=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},U=function(){X()},H=te((function(e){return!0===e.disabled&&i(e,"fieldset")}),{dir:"parentNode",next:"legend"});function V(e){throw new Error("Syntax error, unrecognized expression: "+e)}function q(e,n,i,a){var s,c,d,m,v,g,_,b=n&&n.ownerDocument,y=n?n.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return i;if(!a&&(X(n),n=n||o,u)){if(11!==y&&(v=F.exec(e)))if(s=v[1]){if(9===y)return(d=n.getElementById(s))&&l.a.call(i,d),i;if(b&&(d=b.getElementById(s))&&r.a.contains(n,d))return l.a.call(i,d),i}else{if(v[2])return l.a.apply(i,n.getElementsByTagName(e)),i;if((s=v[3])&&n.getElementsByClassName)return l.a.apply(i,n.getElementsByClassName(s)),i}if(!(S[e+" "]||h&&h.test(e))){if(_=e,b=n,1===y&&(R.test(e)||O.test(e))){for(((b=L.test(e)&&Y(n.parentNode)||n)!==n||f)&&((m=n.getAttribute("id"))?m=r.a.escapeSelector(m):n.setAttribute("id",m=p)),c=(g=Z(e)).length;c--;)g[c]=(m?"#"+m:":scope")+" "+ee(g[c]);_=g.join(",")}try{return l.a.apply(i,b.querySelectorAll(_)),i}catch(t){S(e,!0)}finally{m===p&&n.removeAttribute("id")}}}return function(e,n,r,i){var o,a,s,c,d,f="function"==typeof e&&e,h=!i&&Z(e=f.selector||e);if(r=r||[],1===h.length){if((a=h[0]=h[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&u&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(j,B),n)||[])[0]))return r;f&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=P.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[c=s.type]);)if((d=t.find[c])&&(i=d(s.matches[0].replace(j,B),L.test(a[0].type)&&Y(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&ee(a)))return l.a.apply(r,i),r;break}}return(f||ae(e,h))(i,n,!u,r,!n||L.test(e)&&Y(n.parentNode)||n),r}(e.replace(A,"$1"),n,i,a)}function G(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function J(e){return e[p]=!0,e}function z(e){return function(t){return i(t,"input")&&t.type===e}}function K(e){return function(t){return(i(t,"input")||i(t,"button"))&&t.type===e}}function W(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&H(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function $(e){return J((function(t){return t=+t,J((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function Y(e){return e&&void 0!==e.getElementsByTagName&&e}function X(e){var t,n=e?e.ownerDocument||e:b;n!=o&&9===n.nodeType&&(a=(o=n).documentElement,u=!r.a.isXMLDoc(o),f&&b!=o&&(t=o.defaultView)&&t.top!==t&&t.addEventListener("unload",U))}for(e in q.matches=function(e,t){return q(e,null,null,t)},q.matchesSelector=function(e,t){if(X(e),u&&!S[t+" "]&&(!h||!h.test(t)))try{return y.call(e,t)}catch(e){S(t,!0)}return q(t,o,null,[e]).length>0},(t=r.a.expr={cacheLength:50,createPseudo:J,match:P,find:{ID:function(e,t){if(void 0!==t.getElementById&&u){var n=t.getElementById(e);return n?[n]:[]}},TAG:function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},CLASS:function(e,t){if(void 0!==t.getElementsByClassName&&u)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(j,B),e[3]=(e[3]||e[4]||e[5]||"").replace(j,B),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||V(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&V(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return P.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&M.test(n)&&(t=Z(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{ID:function(e){var t=e.replace(j,B);return function(e){return e.getAttribute("id")===t}},TAG:function(e){var t=e.replace(j,B).toLowerCase();return"*"===e?function(){return!0}:function(e){return i(e,t)}},CLASS:function(e){var t=g[e+" "];return t||(t=new RegExp("(^|"+d+")"+e+"("+d+"|$)"))&&g(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=r.a.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(T," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var l,d,f,h,v,g=a!==s?"nextSibling":"previousSibling",_=t.parentNode,b=u&&t.nodeName.toLowerCase(),y=!c&&!u,E=!1;if(_){if(a){for(;g;){for(f=t;f=f[g];)if(u?i(f,b):1===f.nodeType)return!1;v=g="only"===e&&!v&&"nextSibling"}return!0}if(v=[s?_.firstChild:_.lastChild],s&&y){for(E=(h=(l=(d=_[p]||(_[p]={}))[e]||[])[0]===m&&l[1])&&l[2],f=h&&_.childNodes[h];f=++h&&f&&f[g]||(E=h=0)||v.pop();)if(1===f.nodeType&&++E&&f===t){d[e]=[m,h,E];break}}else if(y&&(E=h=(l=(d=t[p]||(t[p]={}))[e]||[])[0]===m&&l[1]),!1===E)for(;(f=++h&&f&&f[g]||(E=h=0)||v.pop())&&(!(u?i(f,b):1===f.nodeType)||!++E||(y&&((d=f[p]||(f[p]={}))[e]=[m,E]),f!==t)););return(E-=o)===r||E%r==0&&E/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||V("unsupported pseudo: "+e);return i[p]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?J((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=s.a.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:J((function(e){var t=[],n=[],r=ae(e.replace(A,"$1"));return r[p]?J((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:J((function(e){return function(t){return q(e,t).length>0}})),contains:J((function(e){return e=e.replace(j,B),function(t){return(t.textContent||r.a.text(t)).indexOf(e)>-1}})),lang:J((function(e){return I.test(e||"")||V("unsupported lang: "+e),e=e.replace(j,B).toLowerCase(),function(t){var n;do{if(n=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===o.activeElement&&o.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:W(!1),disabled:W(!0),checked:function(e){return i(e,"input")&&!!e.checked||i(e,"option")&&!!e.selected},selected:function(e){return f&&e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return x.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return i(e,"input")&&"button"===e.type||i(e,"button")},text:function(e){return i(e,"input")&&"text"===e.type},first:$((function(){return[0]})),last:$((function(e,t){return[t-1]})),eq:$((function(e,t,n){return[n<0?n+t:n]})),even:$((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:$((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:$((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:$((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=z(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=K(e);function Q(){}function Z(e,n){var r,i,o,a,s,u,c,l=_[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=t.preFilter;s;){for(a in r&&!(i=k.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=O.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(A," ")}),s=s.slice(r.length)),t.filter)!(i=P[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?V(e):_(e,u).slice(0)}function ee(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function te(e,t,n){var r=t.dir,o=t.next,a=o||r,s=n&&"parentNode"===a,u=v++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,c){var l,d,f=[m,u];if(c){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(d=t[p]||(t[p]={}),o&&i(t,o))t=t[r]||t;else{if((l=d[a])&&l[0]===m&&l[1]===u)return f[2]=l[2];if(d[a]=f,f[2]=e(t,n,c))return!0}return!1}}function ne(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function re(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function ie(e,t,n,r,i,o){return r&&!r[p]&&(r=ie(r)),i&&!i[p]&&(i=ie(i,o)),J((function(o,a,u,c){var d,f,h,p,m=[],v=[],g=a.length,_=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)q(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),b=!e||!o&&t?_:re(_,m,e,u,c);if(n?n(b,p=i||(o?e:g||r)?[]:a,u,c):p=b,r)for(d=re(p,v),r(d,[],u,c),f=d.length;f--;)(h=d[f])&&(p[v[f]]=!(b[v[f]]=h));if(o){if(i||e){if(i){for(d=[],f=p.length;f--;)(h=p[f])&&d.push(b[f]=h);i(null,p=[],d,c)}for(f=p.length;f--;)(h=p[f])&&(d=i?s.a.call(o,h):m[f])>-1&&(o[d]=!(a[d]=h))}}else p=re(p===a?p.splice(g,p.length):p),i?i(null,a,p,c):l.a.apply(a,p)}))}function oe(e){for(var r,i,o,a=e.length,u=t.relative[e[0].type],c=u||t.relative[" "],l=u?1:0,d=te((function(e){return e===r}),c,!0),f=te((function(e){return s.a.call(r,e)>-1}),c,!0),h=[function(e,t,i){var o=!u&&(i||t!==n)||((r=t).nodeType?d(e,t,i):f(e,t,i));return r=null,o}];l<a;l++)if(i=t.relative[e[l].type])h=[te(ne(h),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[p]){for(o=++l;o<a&&!t.relative[e[o].type];o++);return ie(l>1&&ne(h),l>1&&ee(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(A,"$1"),i,l<o&&oe(e.slice(l,o)),o<a&&oe(e=e.slice(o)),o<a&&ee(e))}h.push(i)}return ne(h)}function ae(e,i){var a,s=[],d=[],f=E[e+" "];if(!f){for(i||(i=Z(e)),a=i.length;a--;)(f=oe(i[a]))[p]?s.push(f):d.push(f);(f=E(e,function(e,i){var a=i.length>0,s=e.length>0,d=function(d,f,h,p,v){var g,_,b,y=0,E="0",S=d&&[],D=[],w=n,C=d||s&&t.find.TAG("*",v),T=m+=null==w?1:Math.random()||.1;for(v&&(n=f==o||f||v);null!=(g=C[E]);E++){if(s&&g){for(_=0,f||g.ownerDocument==o||(X(g),h=!u);b=e[_++];)if(b(g,f||o,h)){l.a.call(p,g);break}v&&(m=T)}a&&((g=!b&&g)&&y--,d&&S.push(g))}if(y+=E,a&&E!==y){for(_=0;b=i[_++];)b(S,D,f,h);if(d){if(y>0)for(;E--;)S[E]||D[E]||(D[E]=c.call(p));D=re(D)}l.a.apply(p,D),v&&!d&&D.length>0&&y+i.length>1&&r.a.uniqueSort(p)}return v&&(m=T,n=w),S};return a?J(d):d}(d,s))).selector=e}return f}Q.prototype=t.filters=t.pseudos,t.setFilters=new Q,X(),r.a.find=q}();var E=n(227),S=function e(t,n,i,o,a,s,u){var c=0,l=t.length,d=null==i;if("object"===Object(E.a)(i))for(c in a=!0,i)e(t,n,c,i[c],!0,s,u);else if(void 0!==o&&(a=!0,"function"!=typeof o&&(u=!0),d&&(u?(n.call(t,o),n=null):(d=n,n=function(e,t,n){return d.call(Object(r.a)(e),n)})),n))for(;c<l;c++)n(t[c],i,u?o:o.call(t[c],c,n(t[c],i)));return a?t:d?n.call(t):l?n(t[0],i):s},D=/[^\x20\t\r\n\f]+/g;r.a.fn.extend({attr:function(e,t){return S(this,r.a.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){r.a.removeAttr(this,e)}))}}),r.a.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?r.a.prop(e,t,n):(1===a&&r.a.isXMLDoc(e)||(o=r.a.attrHooks[t.toLowerCase()]),void 0!==n?null===n?void r.a.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=e.getAttribute(t))?void 0:i)},attrHooks:{},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),f&&(r.a.attrHooks.type={set:function(e,t){if("radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}),r.a.each(r.a.expr.match.bool.source.match(/\w+/g),(function(e,t){r.a.attrHooks[t]={get:function(e){var n,i=r.a.isXMLDoc(e),o=t.toLowerCase();return i||(n=null!=e.getAttribute(t)?o:null),n},set:function(e,t,n){return!1===t?r.a.removeAttr(e,n):e.setAttribute(n,n),n}}}));var w=/^(?:input|select|textarea|button)$/i,C=/^(?:a|area)$/i;r.a.fn.extend({prop:function(e,t){return S(this,r.a.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[r.a.propFix[e]||e]}))}}),r.a.extend({prop:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&r.a.isXMLDoc(e)||(t=r.a.propFix[t]||t,o=r.a.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttribute("tabindex");return t?parseInt(t,10):w.test(e.nodeName)||C.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f&&(r.a.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),r.a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){r.a.propFix[this.toLowerCase()]=this}));var T=function(e){return(e.match(D)||[]).join(" ")},A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,k=r.a.expr.match.needsContext;function O(e,t,n){return"function"==typeof t?r.a.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?r.a.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?r.a.grep(e,(function(e){return s.a.call(t,e)>-1!==n})):r.a.filter(t,e,n)}r.a.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?r.a.find.matchesSelector(i,e)?[i]:[]:r.a.find.matches(e,r.a.grep(t,(function(e){return 1===e.nodeType})))},r.a.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(Object(r.a)(e).filter((function(){for(t=0;t<i;t++)if(r.a.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)r.a.find(e,o[t],n);return i>1?r.a.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&k.test(e)?Object(r.a)(e):e||[],!1).length}});var R,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function I(e){return e.getAttribute&&e.getAttribute("class")||""}function P(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}(r.a.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||R,"string"==typeof e){if((a="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))&&(a[1]||!t)){if(a[1]){if(t=t instanceof r.a?t[0]:t,r.a.merge(this,r.a.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:o.a,!0)),A.test(a[1])&&r.a.isPlainObject(t))for(a in t)"function"==typeof this[a]?this[a](t[a]):this.attr(a,t[a]);return this}return(i=o.a.getElementById(a[2]))&&(this[0]=i,this.length=1),this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):"function"==typeof e?void 0!==n.ready?n.ready(e):e(r.a):r.a.makeArray(e,this)}).prototype=r.a.fn,R=Object(r.a)(o.a),r.a.fn.extend({addClass:function(e){var t,n,i,o,a,s,u,c=0;if("function"==typeof e)return this.each((function(t){Object(r.a)(this).addClass(e.call(this,t,I(this)))}));if((t=P(e)).length)for(;n=this[c++];)if(o=I(n),i=1===n.nodeType&&" "+T(o)+" "){for(s=0;a=t[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(u=T(i))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,i,o,a,s,u,c=0;if("function"==typeof e)return this.each((function(t){Object(r.a)(this).removeClass(e.call(this,t,I(this)))}));if(!arguments.length)return this.attr("class","");if((t=P(e)).length)for(;n=this[c++];)if(o=I(n),i=1===n.nodeType&&" "+T(o)+" "){for(s=0;a=t[s++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");o!==(u=T(i))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){return"function"==typeof e?this.each((function(n){Object(r.a)(this).toggleClass(e.call(this,n,I(this),t),t)})):"boolean"==typeof t?t?this.addClass(e):this.removeClass(e):this.each((function(){var t,n,i,o;for(n=0,i=Object(r.a)(this),o=P(e);t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t)}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+T(I(n))+" ").indexOf(t)>-1)return!0;return!1}}),r.a.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i="function"==typeof e,this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,Object(r.a)(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=r.a.map(o,(function(e){return null==e?"":e+""}))),(t=r.a.valHooks[this.type]||r.a.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=r.a.valHooks[o.type]||r.a.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:null==(n=o.value)?"":n:void 0}}),r.a.extend({valHooks:{select:{get:function(e){var t,n,o,a=e.options,s=e.selectedIndex,u="select-one"===e.type,c=u?null:[],l=u?s+1:a.length;for(o=s<0?l:u?s:0;o<l;o++)if((n=a[o]).selected&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=Object(r.a)(n).val(),u)return t;c.push(t)}return c},set:function(e,t){for(var n,i,o=e.options,a=r.a.makeArray(t),s=o.length;s--;)((i=o[s]).selected=r.a.inArray(Object(r.a)(i).val(),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),f&&(r.a.valHooks.option={get:function(e){var t=e.getAttribute("value");return null!=t?t:T(r.a.text(e))}}),r.a.each(["radio","checkbox"],(function(){r.a.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=r.a.inArray(Object(r.a)(e).val(),t)>-1}}})),r.a,r.a.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||r.a.error("Invalid XML: "+e),t},n(585),r.a.fn.extend({text:function(e){return S(this,(function(e){return void 0===e?r.a.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)}}),r.a,window.$=r.a,r.a},function(e,t,n){"use strict";n.r(t),n.d(t,"Integrations",(function(){return r})),n.d(t,"BrowserTracing",(function(){return J})),n.d(t,"Span",(function(){return z.a})),n.d(t,"spanStatusfromHttpCode",(function(){return z.c})),n.d(t,"SpanStatus",(function(){return V})),n.d(t,"Transaction",(function(){return K.a})),n.d(t,"registerRequestInstrumentation",(function(){return H})),n.d(t,"defaultRequestInstrumentationOptions",(function(){return U})),n.d(t,"IdleTransaction",(function(){return b.b})),n.d(t,"startIdleTransaction",(function(){return i.b})),n.d(t,"addExtensionMethods",(function(){return i.a})),n.d(t,"extractTraceparentData",(function(){return E.b})),n.d(t,"getActiveTransaction",(function(){return y.a})),n.d(t,"hasTracingEnabled",(function(){return y.b})),n.d(t,"stripUrlQueryAndFragment",(function(){return W.f})),n.d(t,"TRACEPARENT_REGEXP",(function(){return E.a}));var r={};n.r(r),n.d(r,"Express",(function(){return u})),n.d(r,"Postgres",(function(){return h})),n.d(r,"Mysql",(function(){return p})),n.d(r,"Mongo",(function(){return g})),n.d(r,"BrowserTracing",(function(){return J}));var i=n(131),o=n(0),a=n(41),s=n(19),u=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]),t.forEach((function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,Object(o.e)([this],function(e,t){return e.map((function(e){return"function"==typeof e?c(e,t):Array.isArray(e)?e.map((function(e){return"function"==typeof e?c(e,t):e})):e}))}(e,t)))},e}(e,t)}))}(this._router,this._methods):s.a&&a.c.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function c(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:e.name,op:"express.middleware."+t});r.once("finish",(function(){o.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){var a,s=null===(a=r.__sentry_transaction)||void 0===a?void 0:a.startChild({description:e.name,op:"express.middleware."+t});e.call(this,n,r,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),i.call.apply(i,Object(o.e)([this],t))}))};case 4:return function(n,r,i,a){var s,u=null===(s=i.__sentry_transaction)||void 0===s?void 0:s.startChild({description:e.name,op:"express.middleware."+t});e.call(this,n,r,i,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=u)||void 0===e||e.finish(),a.call.apply(a,Object(o.e)([this],t))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}var l=n(94),d=n(61),f=n(40),h=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(e,t){var n,r=Object(l.c)("pg");if(r)if(!this._usePgNative||(null===(n=r.native)||void 0===n?void 0:n.Client)){var i=(this._usePgNative?r.native:r).Client;Object(d.e)(i.prototype,"query",(function(e){return function(n,r,i){var o,a,s,u=null===(a=null===(o=t().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof n?n:n.text,op:"db"});if("function"==typeof i)return e.call(this,n,r,(function(e,t){var n;null===(n=u)||void 0===n||n.finish(),i(e,t)}));if("function"==typeof r)return e.call(this,n,(function(e,t){var n;null===(n=u)||void 0===n||n.finish(),r(e,t)}));var c=void 0!==r?e.call(this,n,r):e.call(this,n);return Object(f.n)(c)?c.then((function(e){var t;return null===(t=u)||void 0===t||t.finish(),e})):(null===(s=u)||void 0===s||s.finish(),c)}}))}else s.a&&a.c.error("Postgres Integration was unable to access 'pg-native' bindings.");else s.a&&a.c.error("Postgres Integration was unable to require `pg` package.")},e.id="Postgres",e}(),p=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,t){var n=Object(l.c)("mysql/lib/Connection.js");n?Object(d.e)(n,"createQuery",(function(e){return function(n,r,i){var o,a,s=null===(a=null===(o=t().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof i?e.call(this,n,r,(function(e,t,n){var r;null===(r=s)||void 0===r||r.finish(),i(e,t,n)})):"function"==typeof r?e.call(this,n,(function(e,t,n){var i;null===(i=s)||void 0===i||i.finish(),r(e,t,n)})):e.call(this,n,r,i)}})):s.a&&a.c.error("Mysql Integration was unable to require `mysql` package.")},e.id="Mysql",e}(),m=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],v={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},g=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:m,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(e,t){var n=this._useMongoose?"mongoose":"mongodb",r=Object(l.c)(n);r?this._instrumentOperations(r.Collection,this._operations,t):s.a&&a.c.error("Mongo Integration was unable to require `"+n+"` package.")},e.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach((function(t){return r._patchOperation(e,t,n)}))},e.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);Object(d.e)(e.prototype,t,(function(e){return function(){for(var i,a,s,u,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d=c[c.length-1],h=null===(i=n().getScope())||void 0===i?void 0:i.getSpan();if("function"!=typeof d||"mapReduce"===t&&2===c.length){var p=null===(a=h)||void 0===a?void 0:a.startChild(r(this,t,c)),m=e.call.apply(e,Object(o.e)([this],c));return Object(f.n)(m)?m.then((function(e){var t;return null===(t=p)||void 0===t||t.finish(),e})):(null===(s=p)||void 0===s||s.finish(),m)}var v=null===(u=h)||void 0===u?void 0:u.startChild(r(this,t,c.slice(0,-1)));return e.call.apply(e,Object(o.e)([this],c.slice(0,-1),[function(e,t){var n;null===(n=v)||void 0===n||n.finish(),d(e,t)}]))}}))}},e.prototype._getSpanContextFromOperationArguments=function(e,t,n){var r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},i={op:"db",description:t,data:r},a=v[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!a||!s)return i;try{if("mapReduce"===t){var u=Object(o.c)(n,2),c=u[0],l=u[1];r[a[0]]="string"==typeof c?c:c.name||"<anonymous>",r[a[1]]="string"==typeof l?l:l.name||"<anonymous>"}else for(var d=0;d<a.length;d++)r[a[d]]=JSON.stringify(n[d])}catch(e){}return i},e.id="Mongo",e}(),_=n(59),b=n(152),y=n(35),E=n(285),S=n(124),D=Object(_.a)(),w=n(107),C=n(390),T=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},A=function(e,t){return{name:e,value:null!=t?t:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},k=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},O=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==Object(_.a)().document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},R=-1,M=function(){return R<0&&(R="hidden"===Object(_.a)().document.visibilityState?0:1/0,O((function(e){var t=e.timeStamp;R=t}),!0)),{get firstHiddenTime(){return R}}},I={},P=Object(_.a)(),N=function(){function e(e){void 0===e&&(e=!1),this._reportAllChanges=e,this._measurements={},this._performanceCursor=0,!Object(l.b)()&&P&&P.performance&&P.document&&(P.performance.mark&&P.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(P&&P.performance&&P.performance.getEntries&&w.a){s.a&&a.c.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=Object(y.c)(w.a);if(P.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var u=Object(y.c)(o.startTime),c=Object(y.c)(o.duration);if(!("navigation"===e.op&&i+u<e.startTimestamp))switch(o.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){x(e,t,r,n)})),x(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),x(e,t,"fetch",n,"cache","domainLookupStart"),x(e,t,"domainLookup",n,"DNS"),function(e,t,n){F(e,{op:"browser",description:"request",startTimestamp:n+Object(y.c)(t.requestStart),endTimestamp:n+Object(y.c)(t.responseEnd)}),F(e,{op:"browser",description:"response",startTimestamp:n+Object(y.c)(t.responseStart),endTimestamp:n+Object(y.c)(t.responseEnd)})}(e,t,n)}(e,o,i),n=i+Object(y.c)(o.responseStart),r=i+Object(y.c)(o.requestStart);break;case"mark":case"paint":case"measure":var l=function(e,t,n,r,i){var o=i+n,a=o+r;return F(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}(e,o,u,c,i),d=M(),f=o.startTime<d.firstHiddenTime;"first-paint"===o.name&&f&&(s.a&&a.c.log("[Measurements] Adding FP"),t._measurements.fp={value:o.startTime},t._measurements["mark.fp"]={value:l}),"first-contentful-paint"===o.name&&f&&(s.a&&a.c.log("[Measurements] Adding FCP"),t._measurements.fcp={value:o.startTime},t._measurements["mark.fcp"]={value:l});break;case"resource":var h=o.name.replace(P.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r;F(e,{description:n,endTimestamp:s+i,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a})}}(e,o,h,u,c,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var o=Object(y.c)(w.a);"number"==typeof n&&(s.a&&a.c.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-e.startTimestamp)},"number"==typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(t._measurements[n]&&!(o>=e.startTimestamp)){var r=t._measurements[n].value,i=o+Object(y.c)(r),u=Math.abs(1e3*(i-e.startTimestamp)),c=u-r;s.a&&a.c.log("[Measurements] Normalized "+n+" from "+r+" to "+u+" ("+c+")"),t._measurements[n].value=u}})),this._measurements["mark.fid"]&&this._measurements.fid&&F(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Object(y.c)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),function(e,t,n){t&&(s.a&&a.c.log("[Measurements] Adding LCP Data"),t.element&&e.setTag("lcp.element",Object(C.b)(t.element)),t.id&&e.setTag("lcp.id",t.id),t.url&&e.setTag("lcp.url",t.url.trim().slice(0,200)),e.setTag("lcp.size",t.size)),n&&n.sources&&(s.a&&a.c.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(t,n){return e.setTag("cls.source."+(n+1),Object(C.b)(t.node))})))}(e,this._lcpEntry,this._clsEntry),e.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},e.prototype._trackNavigator=function(e){var t=P.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),L(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),L(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),L(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),L(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackCLS=function(){var e=this;!function(e,t){var n,r=A("CLS",0),i=0,o=[],a=function(e){if(e&&!e.hadRecentInput){var t=o[0],a=o[o.length-1];i&&0!==o.length&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},s=k("layout-shift",a);s&&(n=T(e,r,void 0),O((function(){s.takeRecords().map(a),n(!0)})))}((function(t){var n=t.entries.pop();n&&(s.a&&a.c.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value},e._clsEntry=n)}))},e.prototype._trackLCP=function(){var e=this;!function(e,t){var n,r=M(),i=A("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n&&n()},a=k("largest-contentful-paint",o);if(a){n=T(e,i,t);var s=function(){I[i.id]||(a.takeRecords().map(o),a.disconnect(),I[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),O(s,!0)}}((function(t){var n=t.entries.pop();if(n){var r=Object(y.c)(w.a),i=Object(y.c)(n.startTime);s.a&&a.c.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i},e._lcpEntry=n}}),this._reportAllChanges)},e.prototype._trackFID=function(){var e=this;!function(e,t){var n,r=M(),i=A("FID"),o=function(e){n&&e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},a=k("first-input",o);a&&(n=T(e,i,void 0),O((function(){a.takeRecords().map(o),a.disconnect()}),!0))}((function(t){var n=t.entries.pop();if(n){var r=Object(y.c)(w.a),i=Object(y.c)(n.startTime);s.a&&a.c.log("[Measurements] Adding FID"),e._measurements.fid={value:t.value},e._measurements["mark.fid"]={value:r+i}}}))},e}();function x(e,t,n,r,i,o){var a=o?t[o]:t[n+"End"],s=t[n+"Start"];s&&a&&F(e,{op:"browser",description:null!=i?i:n,startTimestamp:r+Object(y.c)(s),endTimestamp:r+Object(y.c)(a)})}function F(e,t){var n=t.startTimestamp,r=Object(o.d)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(Object(o.a)({startTimestamp:n},r))}function L(e){return"number"==typeof e&&isFinite(e)}var j=n(137),B=n(469),U={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function H(e){var t=Object(o.a)(Object(o.a)({},U),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,s={},u=function(e){if(s[e])return s[e];var t=i;return s[e]=t.some((function(t){return Object(j.a)(e,t)}))&&!Object(j.a)(e,"sentry_key"),s[e]},c=u;"function"==typeof a&&(c=function(e){return u(e)&&a(e)});var l={};n&&Object(B.a)("fetch",(function(e){!function(e,t,n){if(Object(y.b)()&&e.fetchData&&t(e.fetchData.url))if(e.endTimestamp){var r=e.fetchData.__span;if(!r)return;(a=n[r])&&(e.response?a.setHttpStatus(e.response.status):e.error&&a.setStatus("internal_error"),a.finish(),delete n[r])}else{var i=Object(y.a)();if(i){var a=i.startChild({data:Object(o.a)(Object(o.a)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=a.spanId,n[a.spanId]=a;var s=e.args[0]=e.args[0],u=e.args[1]=e.args[1]||{},c=u.headers;Object(f.g)(s,Request)&&(c=s.headers),c?"function"==typeof c.append?c.append("sentry-trace",a.toTraceparent()):c=Array.isArray(c)?Object(o.e)(c,[["sentry-trace",a.toTraceparent()]]):Object(o.a)(Object(o.a)({},c),{"sentry-trace":a.toTraceparent()}):c={"sentry-trace":a.toTraceparent()},u.headers=c}}}(e,c,l)})),r&&Object(B.a)("xhr",(function(e){!function(e,t,n){if(!(!Object(y.b)()||e.xhr&&e.xhr.__sentry_own_request__)&&e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)){var r=e.xhr.__sentry_xhr__;if(e.endTimestamp){var i=e.xhr.__sentry_xhr_span_id__;if(!i)return;(s=n[i])&&(s.setHttpStatus(r.status_code),s.finish(),delete n[i])}else{var a=Object(y.a)();if(a){var s=a.startChild({data:Object(o.a)(Object(o.a)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(e){}}}}}(e,c,l)}))}var V,q=Object(_.a)(),G=Object(o.a)({idleTimeout:b.a,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),q&&q.location){var r,i=q.location.href;t&&(r=e({name:q.location.pathname,op:"pageload"})),n&&Object(B.a)("history",(function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(s.a&&a.c.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:q.location.pathname,op:"navigation"}))}))}else s.a&&a.c.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},U),J=function(){function e(t){this.name=e.id,this._configuredIdleTimeout=void 0;var n=U.tracingOrigins;t&&(this._configuredIdleTimeout=t.idleTimeout,t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:s.a&&(this._emitOptionsWarning=!0)),this.options=Object(o.a)(Object(o.a)(Object(o.a)({},G),t),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new N(r&&r._reportAllChanges)}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(s.a&&a.c.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),s.a&&a.c.warn("[Tracing] We added a reasonable default for you: "+U.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,u=r.startTransactionOnPageLoad,c=r.markBackgroundTransactions,l=r.traceFetch,d=r.traceXHR,f=r.tracingOrigins,h=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),u,o),c&&(D&&D.document?D.document.addEventListener("visibilitychange",(function(){var e=Object(y.a)();D.document.hidden&&e&&(s.a&&a.c.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+e.op),e.status||e.setStatus("cancelled"),e.setTag("visibilitychange","document.hidden"),e.setTag(S.a,S.b[2]),e.finish())})):s.a&&a.c.warn("[Tracing] Could not set up background tab detection due to lack of global document")),H({traceFetch:l,traceXHR:d,tracingOrigins:f,shouldCreateSpanForRequest:h})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,u=n.idleTimeout,c=n.maxTransactionDuration,l="pageload"===e.op?function(){var e,t=(e=Object(_.a)().document.querySelector("meta[name=sentry-trace]"))?e.getAttribute("content"):null;if(t)return Object(E.b)(t)}():void 0,d=Object(o.a)(Object(o.a)(Object(o.a)({},e),l),{trimEnd:!0}),f="function"==typeof r?r(d):d,h=void 0===f?Object(o.a)(Object(o.a)({},d),{sampled:!1}):f;!1===h.sampled&&s.a&&a.c.log("[Tracing] Will not send "+h.op+" transaction because of beforeNavigate."),s.a&&a.c.log("[Tracing] Starting "+h.op+" transaction on scope");var p=this._getCurrentHub(),m=Object(_.a)().location,v=Object(i.b)(p,h,u,!0,{location:m});return v.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus("deadline_exceeded"),t.setTag("maxTransactionDurationExceeded","true"))}(Object(y.d)(c),e,n)})),v.setTag("idleTimeout",this._configuredIdleTimeout),v}s.a&&a.c.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}(),z=n(117);!function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(V||(V={}));var K=n(153),W=n(193);Object(i.a)()},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return b})),n.d(r,"shimGetDisplayMedia",(function(){return y})),n.d(r,"shimMediaStream",(function(){return E})),n.d(r,"shimOnTrack",(function(){return S})),n.d(r,"shimGetSendersWithDtmf",(function(){return D})),n.d(r,"shimGetStats",(function(){return w})),n.d(r,"shimSenderReceiverGetStats",(function(){return C})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return T})),n.d(r,"shimAddTrackRemoveTrack",(function(){return A})),n.d(r,"shimPeerConnection",(function(){return k})),n.d(r,"fixNegotiationNeeded",(function(){return O}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return R})),n.d(i,"shimGetDisplayMedia",(function(){return M})),n.d(i,"shimOnTrack",(function(){return I})),n.d(i,"shimPeerConnection",(function(){return P})),n.d(i,"shimSenderGetStats",(function(){return N})),n.d(i,"shimReceiverGetStats",(function(){return x})),n.d(i,"shimRemoveStream",(function(){return F})),n.d(i,"shimRTCDataChannel",(function(){return L})),n.d(i,"shimAddTransceiver",(function(){return j})),n.d(i,"shimGetParameters",(function(){return B})),n.d(i,"shimCreateOffer",(function(){return U})),n.d(i,"shimCreateAnswer",(function(){return H}));var o={};n.r(o),n.d(o,"shimLocalStreamsAPI",(function(){return V})),n.d(o,"shimRemoteStreamsAPI",(function(){return q})),n.d(o,"shimCallbacksAPI",(function(){return G})),n.d(o,"shimGetUserMedia",(function(){return J})),n.d(o,"shimConstraints",(function(){return z})),n.d(o,"shimRTCIceServerUrls",(function(){return K})),n.d(o,"shimTrackEventTransceiver",(function(){return W})),n.d(o,"shimCreateOfferLegacy",(function(){return $})),n.d(o,"shimAudioContext",(function(){return Y}));var a={};n.r(a),n.d(a,"shimRTCIceCandidate",(function(){return Z})),n.d(a,"shimMaxMessageSize",(function(){return ee})),n.d(a,"shimSendThrowTypeError",(function(){return te})),n.d(a,"shimConnectionState",(function(){return ne})),n.d(a,"removeExtmapAllowMixed",(function(){return re})),n.d(a,"shimAddIceCandidateNullOrEmpty",(function(){return ie}));var s=!0,u=!0;function c(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function l(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(s=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function f(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"==typeof window){if(s)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function p(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){return m(e)?Object.keys(e).reduce((function(t,n){var r=m(e[n]),i=r?v(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,_defineProperty({},n,i))}),{}):e}function g(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((function(i){i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((function(n){e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}var _=h;function b(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){var a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});var s,u=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||u)&&(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s))return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),_("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return _("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(o(e))}))}))}}}}function y(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function E(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function S(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else l(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function D(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function w(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){i(s(a(e)))},r]):new Promise((function(n,r){t.apply(e,[function(e){n(s(a(e)))},r])})).then(i,o)}}}function C(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return g(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),l(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return g(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(n?r=!0:n=e),e.track===o})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function T(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function A(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return T(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=s(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function k(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function O(e,t){l(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function R(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){p("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},r&&r.prototype.getSettings){var a=r.prototype.getSettings;r.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function M(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function I(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function P(e,t){if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,a)}}}function N(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function x(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),l(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function F(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;p("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function L(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function j(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===Object.keys(o.encodings[0]).length)&&(o.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function B(e){if("object"==typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function U(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function H(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function V(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function q(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function G(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}}function J(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(z(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function z(e){return e&&void 0!==e.video?Object.assign({},e,{video:v(e.video)}):e}function K(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(p("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function W(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function $(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function Y(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var X=n(140),Q=n.n(X);function Z(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=Q.a.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,l(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function ee(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),function(e){if(!e||!e.sdp)return!1;var t=Q.a.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=Q.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var e,r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(r),o=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=Q.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],r);e=0===i&&0===o?Number.POSITIVE_INFINITY:0===i||0===o?Math.max(i,o):Math.min(i,o);var a={};Object.defineProperty(a,"maxMessageSize",{get:function(){return e}}),this._sctp=a}return n.apply(this,arguments)}}}function te(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},l(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function ne(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function re(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function ie(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}var oe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=h,s=function(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=c(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=c(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=c(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),u={browserDetails:s,commonShim:a,extractVersion:c,disableLog:d,disableWarnings:f,sdp:X};switch(s.browser){case"chrome":if(!r||!k||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;if(null===s.version)return n("Chrome shim can not determine version, not shimming."),u;n("adapter.js shimming chrome."),u.browserShim=r,ie(e,s),b(e,s),E(e),k(e,s),S(e),A(e,s),D(e),w(e),C(e),O(e,s),Z(e),ne(e),ee(e,s),te(e),re(e,s);break;case"firefox":if(!i||!P||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=i,ie(e,s),R(e,s),P(e,s),I(e),F(e),N(e),x(e),L(e),j(e),B(e),U(e),H(e),Z(e),ne(e),ee(e,s),te(e);break;case"safari":if(!o||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=o,ie(e,s),K(e),$(e),G(e),V(e),q(e),W(e),J(e),Y(e),Z(e),ee(e,s),te(e),re(e,s);break;default:n("Unsupported browser!")}return u}({window:"undefined"==typeof window?void 0:window});t.default=oe},function(e,t,n){"use strict";n.r(t);var r=n(119),i=(n(187),n(13)),o=(n(108),n(31)),a=n(14),s=n(130),u=(n(600),n(199),n(215)),c=n.n(u),l=n(218),d=n(272),f=n(282),h=n.n(f),p=n(121),m=n.n(p),v=n(89),g=n(111),_=n.n(g),b=Object(r.t)("8jGJL5fW"),y=b,E=h()("defs",null,"1",null,1,0).e("filter",{id:"shadow"},"2",null,0,1),S=h()("path",{d:"M3.99414 4.49902L44.6528 30.6525L14.6643 51.6507L3.99414 4.49902Z",stroke:"white","stroke-width":"3"},"3",null,0,0);Object(v.r)("8jGJL5fW",(function(){return b}));var D={};b._=m()((function(e,t,n,r,i){t.be("svg",{width:"24",height:"100%",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",class:"sc-gqjmRU gVJioK"},"0",r,null,0),t.n(E,r),t.n(S,r),t.ee()}),{t:"8jGJL5fW",i:!0},D),b.Component=_()(D,b._);var w=n(239),C=n.n(w),T=n(225),A=n.n(T),k=n(273),O=n.n(k);n(699);var R=Object(r.t)("oM3jJAWs"),M=R;Object(v.r)("oM3jJAWs",(function(){return R}));var I={};R._=m()((function(e,t,n,r,o){var a=Object(i.inIframe)();t.be("div",{class:O()(["cb__customMouse",a&&"cb__customMouse--hidden"]),id:r.input.id,style:A()({fill:r.input.color})},"0",r,null,1),C()(y,{},t,n,"1"),t.be("div",{class:"cb__customMouse__userName",id:r.input.id,style:A()({"background-color":r.input.color})},"2",r,null,1),t.t(r.input.name,r),t.ee(),t.ee()}),{t:"oM3jJAWs",i:!0},I),R.Component=_()(I,R._),n(712);var P=Object(r.t)("M/6RN0+p"),N=P;Object(v.r)("M/6RN0+p",(function(){return P}));var x={onCreate:function(e){document.querySelector(".cb__initial"),document.querySelector(".cb__toast")},closeToast:function(){this.input.hideToast()},handleToast:function(){this.input.hideToast(),window.location.href=this.input.offsetUrl}};P._=m()((function(e,t,n,r,i){t.be("div",{class:"cb__toast__container"},"0",r,null,1),t.be("div",{class:"cb__initial"},"1",r,null,1),t.be("div",{class:"cb__plus__one"},"2",r,null,1),t.t("+1",r),t.ee(),t.ee(),t.be("div",{class:"cb__toast"},"3",r,null,1),t.be("div",{class:"cb__toast__title"},"4",r,null,1),t.t("The Collaborator has switched over. Do you want to sync?",r),t.ee(),t.be("div",{class:"cb__toast__action"},"5",r,null,1),t.be("button",{class:"cb__toast__ok"},"6",r,null,1,{onclick:n.d("click","handleToast",!1)}),t.t("Sync",r),t.ee(),t.ee(),t.ee(),t.ee()}),{t:"M/6RN0+p"},x),P.Component=_()(x,P._),n(573);var F=Object(r.t)("OWBWuzCf");t.default=F,Object(v.r)("OWBWuzCf",(function(){return F}));var L={onCreate:function(e,t){var n=this;console.log("on create component called"),this.state={showWidget:!1,socket:null,usersList:null,currentHostUrl:null,sessionInfo:{},toast:!0,offsetUrl:null,activeSocketList:[],currentSessionDetails:null},e.socket$.subscribe((function(e){e&&(n.state.socket=e)})),document.documentElement.addEventListener("mouseenter",(function(){window.chrome&&window.chrome.runtime&&window.chrome.runtime.id&&chrome.runtime.sendMessage({from:"content"})})),window.addEventListener("beforeunload",(function(e){n.disconnectSocket()}));var r=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"background"==t.from&&(console.log("Message from background",t.currentSessionDetails),r=t.currentSessionDetails,n.state.currentSessionDetails=r,!r||!r.collaboration||n.state.socket&&n.state.socket.isConnected()||Object(l.startNewSession)(r)),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();window.startCoBrowsing=this.startCoBrowsing.bind(this),window.stopCoBrowsing=this.stopCoBrowsing.bind(this),window.chrome&&window.chrome.runtime&&window.chrome.runtime.id&&(chrome.runtime.sendMessage({from:"content"}),chrome.runtime.onMessage.addListener(r)),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&n.disconnectSocket()})),e.sariskaChannel$.subscribe((function(t){if(!t||"function"==typeof t.on){t.on("new_message",(function(t){var r=e.session$.getValue();if("socket_creation_time"===t.event_name&&t.user.id===r.user.id&&t.inserted_at>c.a.getByKey("socketCreationTime")){console.log("socket disconnected..............."),n.disconnectSocket();var o=document.querySelector("#cb--toolbox-container").shadowRoot,a=Object(i.getMouseId)(t.user.id),s=o&&o.querySelector("#"+a);s&&s.remove(),e.usersList$.next([])}}));var r="";new MutationObserver((function(e){location.href!==r&&(r=location.href,t&&t.push(o.ChannelMesssageEvents.UpdatePresenceMetadata,{email:location.hostname,avatar:Object(a.pathNameHashOrLocation)(),color:Object(s.getL)("userColor")}))})).observe(document,{subtree:!0,childList:!0});var u=new d.Presence(t);u.onJoin((function(e,t,n){})),u.onLeave((function(e,t,n){})),u.onSync((function(){return function(t){var r=document.querySelector("#cb--toolbox-container");if(!r){var o=document.createElement("div");o.id="cb--toolbox-container",document.body&&document.body.appendChild(o);var s=o.attachShadow({mode:"open"}),u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("href","https://sdk.sariska.io/main.086ab5c04d76a369d427.css"),u.setAttribute("id","cb__stylesheet"),s.appendChild(u)}var c=(r=document.querySelector("#cb--toolbox-container")).shadowRoot,l=[];t.list((function(t,r){var o=_toArray(r.metas),s=o[0],u=(o.slice(1),e.session$.getValue()),d=Object(i.getMouseId)(t),f=c&&c.querySelector("#"+d),h={name:s.name,id:t,color:s.color,element:null,host:s.email,pathname:s.avatar};if(u.user.id!=t&&!f&&!Object(a.isMobile)()&&s.email==location.hostname&&s.avatar==Object(a.pathNameHashOrLocation)()){var p=M.renderToString({name:s.name,id:d,color:s.color});c&&c.appendChild(Object(i.stringToHTML)(p))}if(t!=u.user.id&&s.email==location.hostname&&s.avatar==Object(a.pathNameHashOrLocation)())h.element=c&&c.querySelector("#"+d),n.hideToast(),n.state.offsetUrl=null;else if(t!=u.user.id){var m=document.querySelector("#cb--toolbox-container").shadowRoot,v=m&&m.querySelector("#"+d);v&&v.remove(),n.showToast(),n.state.offsetUrl="https://"+s.email+s.avatar}l.push(h)})),e.usersList$.next(l)}(u)}))}}))},startCoBrowsing:function(e,t,n){this.state.socket&&this.state.socket.isConnected()||Object(l.startNewSession)({session_id:t,id:n,name:e})},stopCoBrowsing:function(){this.disconnectSocket()},showToast:function(){this.state.toast=!0},hideToast:function(){this.state.toast=!1},disconnectSocket:function(){console.log("this.state.socket && this.state.socket.isConnected",this.state.socket&&this.state.socket.isConnected()),this.state.socket&&this.state.socket.isConnected()&&this.state.socket.disconnect()},onDestroy:function(){this.disconnectSocket()}};F._=m()((function(e,t,n,r,i){Object(a.isMobile)(),t.be("div",null,"0",r,null,0),i.toast&&i.currentSessionDetails&&i.currentSessionDetails.collaboration&&i.offsetUrl&&C()(N,{hideToast:r.hideToast.bind(r),offsetUrl:i.offsetUrl},t,n,"1"),t.ee()}),{t:"OWBWuzCf"},L),F.Component=_()(L,F._)},function(e,t,n){"use strict";function r(e){this.j={},this.jr=[],this.jd=null,this.t=e}n.r(t),n.d(t,"default",(function(){return te})),r.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,r=this.j[e];if(r)return n&&(r.t=n),r;r=i();var o=u(this,e);return o?(Object.assign(r.j,o.j),r.jr.append(o.jr),r.jr=o.jd,r.t=n||o.t):r.t=n,this.j[e]=r,r}};var i=function(){return new r},o=function(e){return new r(e)},a=function(e,t,n){e.j[t]||(e.j[t]=n)},s=function(e,t,n){e.jr.push([t,n])},u=function(e,t){var n=e.j[t];if(n)return n;for(var r=0;r<e.jr.length;r++){var i=e.jr[r][0],o=e.jr[r][1];if(i.test(t))return o}return e.jd},c=function(e,t,n){for(var r=0;r<t.length;r++)a(e,t[r],n)},l=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];a(e,r,i)}},d=function(e,t,n,r){for(var i,o=0,s=t.length;o<s&&(i=e.j[t[o]]);)e=i,o++;if(o>=s)return[];for(;o<s-1;)i=r(),a(e,t[o],i),e=i,o++;a(e,t[s-1],n)},f="DOMAIN",h="TLD",p="NUM",m="AT",v="DOT",g="SLASH",_=Object.freeze({__proto__:null,DOMAIN:f,LOCALHOST:"LOCALHOST",TLD:h,NUM:p,PROTOCOL:"PROTOCOL",MAILTO:"MAILTO",WS:"WS",NL:"NL",OPENBRACE:"OPENBRACE",OPENBRACKET:"OPENBRACKET",OPENANGLEBRACKET:"OPENANGLEBRACKET",OPENPAREN:"OPENPAREN",CLOSEBRACE:"CLOSEBRACE",CLOSEBRACKET:"CLOSEBRACKET",CLOSEANGLEBRACKET:"CLOSEANGLEBRACKET",CLOSEPAREN:"CLOSEPAREN",AMPERSAND:"AMPERSAND",APOSTROPHE:"APOSTROPHE",ASTERISK:"ASTERISK",AT:m,BACKSLASH:"BACKSLASH",BACKTICK:"BACKTICK",CARET:"CARET",COLON:"COLON",COMMA:"COMMA",DOLLAR:"DOLLAR",DOT:v,EQUALS:"EQUALS",EXCLAMATION:"EXCLAMATION",HYPHEN:"HYPHEN",PERCENT:"PERCENT",PIPE:"PIPE",PLUS:"PLUS",POUND:"POUND",QUERY:"QUERY",QUOTE:"QUOTE",SEMI:"SEMI",SLASH:g,TILDE:"TILDE",UNDERSCORE:"UNDERSCORE",SYM:"SYM"}),b="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xf6gensberater-ctb verm\xf6gensberatung-pwb \u03b5\u03bb \u03b5\u03c5 \u0431\u0433 \u0431\u0435\u043b \u0434\u0435\u0442\u0438 \u0435\u044e \u043a\u0430\u0442\u043e\u043b\u0438\u043a \u043a\u043e\u043c \u049b\u0430\u0437 \u043c\u043a\u0434 \u043c\u043e\u043d \u043c\u043e\u0441\u043a\u0432\u0430 \u043e\u043d\u043b\u0430\u0439\u043d \u043e\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043a\u0440 \u10d2\u10d4 \u0570\u0561\u0575 \u05d9\u05e9\u05e8\u05d0\u05dc \u05e7\u05d5\u05dd \u0627\u0628\u0648\u0638\u0628\u064a \u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062f\u0646 \u0627\u0644\u0628\u062d\u0631\u064a\u0646 \u0627\u0644\u062c\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627\u0646 \u0627\u0644\u0645\u063a\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062a \u0627\u06cc\u0631\u0627\u0646 \u0628\u0627\u0631\u062a \u0628\u0627\u0632\u0627\u0631 \u0628\u06be\u0627\u0631\u062a \u0628\u064a\u062a\u0643 \u067e\u0627\u06a9\u0633\u062a\u0627\u0646 \u0680\u0627\u0631\u062a \u062a\u0648\u0646\u0633 \u0633\u0648\u062f\u0627\u0646 \u0633\u0648\u0631\u064a\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064a\u0646 \u0642\u0637\u0631 \u0643\u0627\u062b\u0648\u0644\u064a\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064a\u0633\u064a\u0627 \u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092e \u0928\u0947\u091f \u092d\u093e\u0930\u0924 \u092d\u093e\u0930\u0924\u092e\u094d \u092d\u093e\u0930\u094b\u0924 \u0938\u0902\u0917\u0920\u0928 \u09ac\u09be\u0982\u09b2\u09be \u09ad\u09be\u09b0\u09a4 \u09ad\u09be\u09f0\u09a4 \u0a2d\u0a3e\u0a30\u0a24 \u0aad\u0abe\u0ab0\u0aa4 \u0b2d\u0b3e\u0b30\u0b24 \u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe \u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8 \u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd \u0c2d\u0c3e\u0c30\u0c24\u0c4d \u0cad\u0cbe\u0cb0\u0ca4 \u0d2d\u0d3e\u0d30\u0d24\u0d02 \u0dbd\u0d82\u0d9a\u0dcf \u0e04\u0e2d\u0e21 \u0e44\u0e17\u0e22 \u0ea5\u0eb2\u0ea7 \ub2f7\ub137 \ub2f7\ucef4 \uc0bc\uc131 \ud55c\uad6d \u30a2\u30de\u30be\u30f3 \u30b0\u30fc\u30b0\u30eb \u30af\u30e9\u30a6\u30c9 \u30b3\u30e0 \u30b9\u30c8\u30a2 \u30bb\u30fc\u30eb \u30d5\u30a1\u30c3\u30b7\u30e7\u30f3 \u30dd\u30a4\u30f3\u30c8 \u307f\u3093\u306a \u4e16\u754c \u4e2d\u4fe1 \u4e2d\u56fd \u4e2d\u570b \u4e2d\u6587\u7f51 \u4e9a\u9a6c\u900a \u4f01\u4e1a \u4f5b\u5c71 \u4fe1\u606f \u5065\u5eb7 \u516b\u5366 \u516c\u53f8 \u516c\u76ca \u53f0\u6e7e \u53f0\u7063 \u5546\u57ce \u5546\u5e97 \u5546\u6807 \u5609\u91cc \u5609\u91cc\u5927\u9152\u5e97 \u5728\u7ebf \u5927\u4f17\u6c7d\u8f66 \u5927\u62ff \u5929\u4e3b\u6559 \u5a31\u4e50 \u5bb6\u96fb \u5e7f\u4e1c \u5fae\u535a \u6148\u5584 \u6211\u7231\u4f60 \u624b\u673a \u62db\u8058 \u653f\u52a1 \u653f\u5e9c \u65b0\u52a0\u5761 \u65b0\u95fb \u65f6\u5c1a \u66f8\u7c4d \u673a\u6784 \u6de1\u9a6c\u9521 \u6e38\u620f \u6fb3\u9580 \u70b9\u770b \u79fb\u52a8 \u7ec4\u7ec7\u673a\u6784 \u7f51\u5740 \u7f51\u5e97 \u7f51\u7ad9 \u7f51\u7edc \u8054\u901a \u8bfa\u57fa\u4e9a \u8c37\u6b4c \u8d2d\u7269 \u901a\u8ca9 \u96c6\u56e2 \u96fb\u8a0a\u76c8\u79d1 \u98de\u5229\u6d66 \u98df\u54c1 \u9910\u5385 \u9999\u683c\u91cc\u62c9 \u9999\u6e2f".split(" "),y=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,E=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,S=/\uFE0F/,D=/\d/,w=/\s/;function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=i(),n=o(p),r=o(f),u=i(),c=o("WS"),_=[[D,r],[y,r],[E,r],[S,r]],C=function(){var e=o(f);return e.j={"-":u},e.jr=[].concat(_),e},T=function(e){var t=C();return t.t=e,t};l(t,[["'",o("APOSTROPHE")],["{",o("OPENBRACE")],["[",o("OPENBRACKET")],["<",o("OPENANGLEBRACKET")],["(",o("OPENPAREN")],["}",o("CLOSEBRACE")],["]",o("CLOSEBRACKET")],[">",o("CLOSEANGLEBRACKET")],[")",o("CLOSEPAREN")],["&",o("AMPERSAND")],["*",o("ASTERISK")],["@",o(m)],["`",o("BACKTICK")],["^",o("CARET")],[":",o("COLON")],[",",o("COMMA")],["$",o("DOLLAR")],[".",o(v)],["=",o("EQUALS")],["!",o("EXCLAMATION")],["-",o("HYPHEN")],["%",o("PERCENT")],["|",o("PIPE")],["+",o("PLUS")],["#",o("POUND")],["?",o("QUERY")],['"',o("QUOTE")],["/",o(g)],[";",o("SEMI")],["~",o("TILDE")],["_",o("UNDERSCORE")],["\\",o("BACKSLASH")]]),a(t,"\n",o("NL")),s(t,w,c),a(c,"\n",i()),s(c,w,c);for(var A=0;A<b.length;A++)d(t,b[A],T(h),C);var k=C(),O=C(),R=C(),M=C();d(t,"file",k,C),d(t,"ftp",O,C),d(t,"http",R,C),d(t,"mailto",M,C);var I=C(),P=o("PROTOCOL"),N=o("MAILTO");a(O,"s",I),a(O,":",P),a(R,"s",I),a(R,":",P),a(k,":",P),a(I,":",P),a(M,":",N);for(var x=C(),F=0;F<e.length;F++)d(t,e[F],x,C);return a(x,":",P),d(t,"localhost",T("LOCALHOST"),C),s(t,D,n),s(t,y,r),s(t,E,r),s(t,S,r),s(n,D,n),s(n,y,r),s(n,E,r),s(n,S,r),a(n,"-",u),a(r,"-",u),a(u,"-",u),s(r,D,r),s(r,y,r),s(r,E,r),s(r,S,r),s(u,D,r),s(u,y,r),s(u,E,r),s(u,S,r),t.jd=o("SYM"),t}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A={defaultProtocol:"http",events:null,format:O,formatHref:O,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function k(e){e=e||{},this.defaultProtocol="defaultProtocol"in e?e.defaultProtocol:A.defaultProtocol,this.events="events"in e?e.events:A.events,this.format="format"in e?e.format:A.format,this.formatHref="formatHref"in e?e.formatHref:A.formatHref,this.nl2br="nl2br"in e?e.nl2br:A.nl2br,this.tagName="tagName"in e?e.tagName:A.tagName,this.target="target"in e?e.target:A.target,this.rel="rel"in e?e.rel:A.rel,this.validate="validate"in e?e.validate:A.validate,this.truncate="truncate"in e?e.truncate:A.truncate,this.className="className"in e?e.className:A.className,this.attributes=e.attributes||A.attributes,this.ignoreTags=[];for(var t=("ignoreTags"in e?e.ignoreTags:A.ignoreTags),n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function O(e){return e}function R(){}function M(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];r.constructor=t,t.prototype=r}(R,n,t),n}k.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),rel:this.get("rel",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e),truncate:this.get("truncate",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r,i=this[e];if(!i)return i;switch(T(i)){case"function":return i(t,n.t);case"object":return"function"==typeof(r=n.t in i?i[n.t]:A[e])?r(t,n.t):r}return i},getObject:function(e,t,n){var r=this[e];return"function"==typeof r?r(t,n.t):r}},R.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var I=M("email",{isLink:!0}),P=M("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),N=M("text"),x=M("nl"),F=M("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.defaultProtocol,t=this.tk,n=!1,r=!1,i=[],o=0;"PROTOCOL"===t[o].t;)n=!0,i.push(t[o].v),o++;for(;t[o].t===g;)r=!0,i.push(t[o].v),o++;for(;o<t.length;o++)i.push(t[o].v);return i=i.join(""),n||r||(i="".concat(e,"://").concat(i)),i},hasProtocol:function(){return"PROTOCOL"===this.tk[0].t}}),L=Object.freeze({__proto__:null,MultiToken:R,Base:R,createTokenClass:M,MailtoEmail:I,Email:P,Text:N,Nl:x,Url:F});function j(){var e=i(),t=i(),n=i(),r=i(),s=i(),u=i(),l=i(),d=o(F),_=i(),b=o(F),y=o(F),E=i(),S=i(),D=i(),w=i(),C=i(),T=o(F),A=o(F),k=o(F),O=o(F),R=i(),M=i(),N=i(),L=i(),j=i(),B=i(),U=o(P),H=i(),V=o(P),q=o(I),G=i(),J=i(),z=i(),K=i(),W=o(x);a(e,"NL",W),a(e,"PROTOCOL",t),a(e,"MAILTO",n),a(t,g,r),a(r,g,s),a(e,h,u),a(e,f,u),a(e,"LOCALHOST",d),a(e,p,u),a(s,h,y),a(s,f,y),a(s,p,y),a(s,"LOCALHOST",y),a(u,v,l),a(j,v,B),a(l,h,d),a(l,f,u),a(l,p,u),a(l,"LOCALHOST",u),a(B,h,U),a(B,f,j),a(B,p,j),a(B,"LOCALHOST",j),a(d,v,l),a(U,v,B),a(d,"COLON",_),a(d,g,y),a(_,p,b),a(b,g,y),a(U,"COLON",H),a(H,p,V);var $=["AMPERSAND","ASTERISK",m,"BACKSLASH","BACKTICK","CARET","DOLLAR",f,"EQUALS","HYPHEN","LOCALHOST",p,"PERCENT","PIPE","PLUS","POUND","PROTOCOL",g,"SYM","TILDE",h,"UNDERSCORE"],Y=["APOSTROPHE","CLOSEANGLEBRACKET","CLOSEBRACE","CLOSEBRACKET","CLOSEPAREN","COLON","COMMA",v,"EXCLAMATION","OPENANGLEBRACKET","OPENBRACE","OPENBRACKET","OPENPAREN","QUERY","QUOTE","SEMI"];a(y,"OPENBRACE",S),a(y,"OPENBRACKET",D),a(y,"OPENANGLEBRACKET",w),a(y,"OPENPAREN",C),a(E,"OPENBRACE",S),a(E,"OPENBRACKET",D),a(E,"OPENANGLEBRACKET",w),a(E,"OPENPAREN",C),a(S,"CLOSEBRACE",y),a(D,"CLOSEBRACKET",y),a(w,"CLOSEANGLEBRACKET",y),a(C,"CLOSEPAREN",y),a(T,"CLOSEBRACE",y),a(A,"CLOSEBRACKET",y),a(k,"CLOSEANGLEBRACKET",y),a(O,"CLOSEPAREN",y),a(R,"CLOSEBRACE",y),a(M,"CLOSEBRACKET",y),a(N,"CLOSEANGLEBRACKET",y),a(L,"CLOSEPAREN",y),c(S,$,T),c(D,$,A),c(w,$,k),c(C,$,O),c(S,Y,R),c(D,Y,M),c(w,Y,N),c(C,Y,L),c(T,$,T),c(A,$,A),c(k,$,k),c(O,$,O),c(T,Y,T),c(A,Y,A),c(k,Y,k),c(O,Y,O),c(R,$,T),c(M,$,A),c(N,$,k),c(L,$,O),c(R,Y,R),c(M,Y,M),c(N,Y,N),c(L,Y,L),c(y,$,y),c(E,$,y),c(y,Y,E),c(E,Y,E),a(n,h,q),a(n,f,q),a(n,p,q),a(n,"LOCALHOST",q),c(q,$,q),c(q,Y,G),c(G,$,q),c(G,Y,G);var X=["AMPERSAND","APOSTROPHE","ASTERISK","BACKSLASH","BACKTICK","CARET","CLOSEBRACE","DOLLAR",f,"EQUALS","HYPHEN",p,"OPENBRACE","PERCENT","PIPE","PLUS","POUND","QUERY",g,"SYM","TILDE",h,"UNDERSCORE"];return c(u,X,J),a(u,m,z),c(d,X,J),a(d,m,z),c(l,X,J),c(J,X,J),a(J,m,z),a(J,v,K),c(K,X,J),a(z,h,j),a(z,f,j),a(z,p,j),a(z,"LOCALHOST",U),e}function B(e,t,n){var r=n[0].s,i=n[n.length-1].e;return new e(t.substr(r,i-r),n)}"undefined"!=typeof console&&console&&console.warn;var U={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function H(e){return U.initialized||function(){U.scanner={start:C(U.customProtocols),tokens:_},U.parser={start:j(),tokens:L};for(var e={createTokenClass:M},t=0;t<U.pluginQueue.length;t++)U.pluginQueue[t][1]({scanner:U.scanner,parser:U.parser,utils:e});U.initialized=!0}(),function(e,t,n){for(var r=n.length,i=0,o=[],a=[];i<r;){for(var s=e,c=null,l=null,d=0,f=null,h=-1;i<r&&!(c=u(s,n[i].t));)a.push(n[i++]);for(;i<r&&(l=c||u(s,n[i].t));)c=null,(s=l).accepts()?(h=0,f=s):h>=0&&h++,i++,d++;if(h<0)for(var p=i-d;p<i;p++)a.push(n[p]);else{a.length>0&&(o.push(B(N,t,a)),a=[]),i-=h,d-=h;var m=f.t,v=n.slice(i-d,i);o.push(B(m,t,v))}}return a.length>0&&o.push(B(N,t,a)),o}(U.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,r=0;r<n;){var i=e.charCodeAt(r),o=void 0,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),r=n.length,i=[],o=0,a=0;a<r;){for(var s=e,c=null,l=0,d=null,f=-1,h=-1;a<r&&(c=u(s,n[a]));)(s=c).accepts()?(f=0,h=0,d=s):f>=0&&(f+=n[a].length,h++),l+=n[a].length,o+=n[a].length,a++;o-=f,a-=h,l-=f,i.push({t:d.t,v:t.substr(o-l,l),s:o-l,e:o})}return i}(U.scanner.start,e))}var V={nbsp:"\xa0"},q=/^#[xX]([A-Fa-f0-9]+)$/,G=/^#([0-9]+)$/,J=/^([A-Za-z0-9]+)$/,z=function(){function e(e){this.named=e}return e.prototype.parse=function(e){if(e){var t=e.match(q);return t?"&#x"+t[1]+";":(t=e.match(G))?"&#"+t[1]+";":(t=e.match(J))?this.named[t[1]]||"&"+t[1]+";":void 0}},e}(),K=/[\t\n\f ]/,W=/[A-Za-z]/,$=/\r\n?/g;function Y(e){return K.test(e)}function X(e){return W.test(e)}var Q=function(){function e(e,t,n){void 0===n&&(n="precompile"),this.delegate=e,this.entityParser=t,this.mode=n,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if("<"!==e||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===e){var t=this.tagNameBuffer.toLowerCase();"pre"!==t&&"textarea"!==t||this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var e=this.peek(),t=this.tagNameBuffer;"<"!==e||this.isIgnoredEndTag()?"&"===e&&"script"!==t&&"style"!==t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var e=this.consume();"!"===e?this.transitionTo("markupDeclarationOpen"):"/"===e?this.transitionTo("endTagOpen"):("@"===e||":"===e||X(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();"-"===e&&"-"===this.peek()?(this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment()):"DOCTYPE"===e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase()&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())},doctype:function(){Y(this.consume())&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();Y(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();Y(e)?this.transitionTo("afterDoctypeName"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!Y(e))if(">"===e)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),n="PUBLIC"===t.toUpperCase(),r="SYSTEM"===t.toUpperCase();(n||r)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),n?this.transitionTo("afterDoctypePublicKeyword"):r&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();Y(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===e?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===e?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===e&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();Y(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();Y(e)||(">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();Y(e)||">"===e&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();"-"===e?this.transitionTo("commentStartDash"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();"-"===e?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();Y(e)?this.transitionTo("beforeAttributeName"):"/"===e?this.transitionTo("selfClosingStartTag"):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();Y(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===e?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();Y(e)?this.consume():"/"===e?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===e?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();Y(e)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===e||"'"===e||"<"===e?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();Y(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();Y(e)?this.consume():'"'===e?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();Y(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();Y(e)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();("@"===e||":"===e||X(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(e){this.state=e},e.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},e.prototype.tokenizePart=function(e){for(this.input+=function(e){return e.replace($,"\n")}(e);this.index<this.input.length;){var t=this.states[this.state];if(void 0===t)throw new Error("unhandled state "+this.state);t.call(this)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},e.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var r=t.length;r;)this.consume(),r--;return this.consume(),n}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},e.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return"title"===e&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===e&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===e&&"<\/script>"!==this.input.substring(this.index,this.index+9)},e}(),Z=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Q(this,e,t.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},e.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var e=this.token;if(null===e)throw new Error("token was unexpectedly null");if(0===arguments.length)return e;for(var t=0;t<arguments.length;t++)if(e.type===arguments[t])return e;throw new Error("token type was unexpectedly "+e.type)},e.prototype.push=function(e){this.token=e,this.tokens.push(e)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},e.prototype.appendToDoctypePublicIdentifier=function(e){var t=this.current("Doctype");void 0===t.publicIdentifier?t.publicIdentifier=e:t.publicIdentifier+=e},e.prototype.appendToDoctypeSystemIdentifier=function(e){var t=this.current("Doctype");void 0===t.systemIdentifier?t.systemIdentifier=e:t.systemIdentifier+=e},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(e){this.current("Chars").chars+=e},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},e.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},e.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},e}(),ee=k;function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e,t){return new Z(new z(V),t).tokenize(e)}(e),r=[],i=[];t=new ee(t);for(var o=0;o<n.length;o++){var a=n[o];if("StartTag"!==a.type)if("Chars"===a.type){var s=ne(a.chars,t);r.push.apply(r,s)}else r.push(a);else{r.push(a);var u=a.tagName.toUpperCase();if(!("A"===u||t.ignoreTags.indexOf(u)>=0))continue;var c=r.length;re(u,n,++o,r),o+=r.length-c-1}}for(var l=0;l<r.length;l++){var d=r[l];switch(d.type){case"StartTag":var f="<"+d.tagName;d.attributes.length>0&&(f+=" "+ie(d.attributes).join(" ")),f+=">",i.push(f);break;case"EndTag":i.push("</".concat(d.tagName,">"));break;case"Chars":i.push(d.chars);break;case"Comment":i.push("\x3c!--".concat(d.chars,"--\x3e"));break;case"Doctype":var h="<!DOCTYPE ".concat(d.name);d.publicIdentifier&&(h+=' PUBLIC "'.concat(d.publicIdentifier,'"')),d.systemIdentifier&&(h+=' "'.concat(d.systemIdentifier,'"')),h+=">",i.push(h)}}return i.join("")}function ne(e,t){for(var n=H(e),r=[],i=0;i<n.length;i++){var o=n[i];if("nl"===o.t&&t.nl2br)r.push({type:"StartTag",tagName:"br",attributes:[],selfClosing:!0});else if(o.isLink&&t.check(o)){var a=t.resolve(o),s=a.formatted,u=a.formattedHref,c=a.tagName,l=a.className,d=a.target,f=a.rel,h=a.attributes,p=a.truncate,m=[["href",u]];for(var v in l&&m.push(["class",l]),d&&m.push(["target",d]),f&&m.push(["rel",f]),p&&s.length>p&&(s=s.substring(0,p)+"\u2026"),h)m.push([v,h[v]]);r.push({type:"StartTag",tagName:c,attributes:m,selfClosing:!1}),r.push({type:"Chars",chars:s}),r.push({type:"EndTag",tagName:c})}else r.push({type:"Chars",chars:o.toString()})}return r}function re(e,t,n,r){for(var i=1;n<t.length&&i>0;){var o=t[n];"StartTag"===o.type&&o.tagName.toUpperCase()===e?i++:"EndTag"===o.type&&o.tagName.toUpperCase()===e&&i--,r.push(o),n++}return r}function ie(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],i=e[n][1];t.push("".concat(r,'="').concat(i.replace(/"/g,"&quot;"),'"'))}return t}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(0),i=n(40),o=n(392),a=n(61),s=n(219);function u(t,n,u){void 0===n&&(n=1/0),void 0===u&&(u=1/0);try{return function t(n,u,c,l,d){void 0===c&&(c=1/0),void 0===l&&(l=1/0),void 0===d&&(d=Object(o.a)());var f=Object(r.c)(d,2),h=f[0],p=f[1],m=u;if(m&&"function"==typeof m.toJSON)try{return m.toJSON()}catch(e){}if(null===u||["number","boolean","string"].includes(typeof u)&&!Object(i.h)(u))return u;var v=function(t,n){try{return"domain"===t&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==e&&n===e?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":Object(i.m)(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?"[Function: "+Object(s.b)(n)+"]":"symbol"==typeof n?"["+String(n)+"]":"bigint"==typeof n?"[BigInt: "+String(n)+"]":"[object "+Object.getPrototypeOf(n).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}(n,u);if(!v.startsWith("[object "))return v;if(0===c)return v.replace("object ","");if(h(u))return"[Circular ~]";var g=Array.isArray(u)?[]:{},_=0,b=Object(i.d)(u)||Object(i.f)(u)?Object(a.b)(u):u;for(var y in b)if(Object.prototype.hasOwnProperty.call(b,y)){if(_>=l){g[y]="[MaxProperties ~]";break}var E=b[y];g[y]=t(y,E,c-1,l,d),_+=1}return p(u),g}("",t,n,u)}catch(e){return{ERROR:"**non-serializable** ("+e+")"}}}function c(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r,i=u(e,t);return r=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?c(e,t-1,n):i}}).call(this,n(49))}])},module.exports=t()},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(v=!1,y(e),!m)if(null!==r(c))m=!0,P(S);else{var t=r(l);null!==t&&N(E,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,_(T),T=-1),p=!0;var o=h;try{for(y(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),y(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&N(E,d.startTime-n),u=!1}return u}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,w=!1,C=null,T=-1,A=5,k=-1;function O(){return!(t.unstable_now()-k<A)}function R(){if(null!==C){var e=t.unstable_now();k=e;var n=!0;try{n=C(!0,e)}finally{n?D():(w=!1,C=null)}}else w=!1}if("function"===typeof b)D=function(){b(R)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,I=M.port2;M.port1.onmessage=R,D=function(){I.postMessage(null)}}else D=function(){g(R,0)};function P(e){C=e,w||(w=!0,D())}function N(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(_(T),T=-1):v=!0,N(E,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},156:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var r=n(62);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,n){var r=n(116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),o=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e,t,n){var r=n(62);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},588:function(e,t,n){var r=n(753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(R){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new k(r||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=f;var p={};function m(){}function v(){}function g(){}var _={};d(_,u,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(O([])));y&&y!==n&&o.call(y,u)&&(_=y);var E=g.prototype=m.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return v.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=d(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(D.prototype),d(D.prototype,c,(function(){return this})),t.AsyncIterator=D,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new D(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),d(E,l,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),o=n(116),a=n(218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},753:function(e,t,n){var r=n(808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},589:function(e,t,n){var r=n(372),i=n(498),o=n(116),a=n(218);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),o=n(116),a=n(281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".7844be1c.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="poc-sariska:";__webpack_require__.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var a,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){a=l;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var d=function(t,r){a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/sariska-poc/",function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)s(__webpack_require__)}for(t&&t(n);u<o.length;u++)i=o[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkpoc_sariska=self.webpackChunkpoc_sariska||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(791),t=__webpack_require__(250);var n=__webpack_require__.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg",r=(__webpack_require__(807),__webpack_require__(184));var i=function(){return(0,r.jsx)("div",{className:"App",children:(0,r.jsxs)("header",{className:"App-header",children:[(0,r.jsx)("img",{src:n,className:"App-logo",alt:"logo"}),(0,r.jsxs)("p",{children:["Edit ",(0,r.jsx)("code",{children:"src/App.js"})," and save to reload."]}),(0,r.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})},o=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(i,{})})),o()}()})();
//# sourceMappingURL=main.0c816af0.js.map